    #ai_strategy = {#è¿™ä¸¤ä¸ªæ‰æ˜¯æœ‰æ•ˆçš„æ‹’ç»å…¥æˆ˜ä»£ç  dont_join_wars_withæ— æ•ˆ #ç…žç¬”pðŸæˆ‘æµ‹ä½ è€æœ¨
	#	type = diplo_action_desire
	#	id = POL
	#	target = join_allies
	#	value = -99999
	#}
	#ai_strategy = {
	#	type = diplo_action_acceptance
	#	id = POL
	#	target = call_allies
	#	value = -99999
	#}has_focus_tree
BUL_dont_join_ger_before_tripartite_pact = {
	allowed = {
		original_tag = BUL
		has_dlc = "Battle for the Bosporus"
	}
	enable = {
	    is_historical_focus_on = yes
	    NOT = { has_completed_focus = BUL_join_the_tripartite_pact }
	    is_in_faction = no
	    has_war = no
	    GER = { has_government = fascism }
	    OR = {
	    has_government = fascism
	    has_government = neutrality
	    }
	}
	abort = {
	    has_completed_focus = BUL_join_the_tripartite_pact
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = alliance
		id = GER
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = ITA
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = JAP
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = HUN
		value = -50000
	}
}

USA_dont_90_division_gamble = {
	allowed = { original_tag = USA }
	enable = {
		or = { threat > 0.9 date > 1939.1.1 has_war = yes }
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = 50
	}
}

CHI_help_shx_against_prc = {
	allowed = {
		original_tag = CHI
	}
	enable = {
		has_war_together_with = SHX
		OR = {
			is_in_faction_with = SHX
			has_military_access_to = SHX
		}
		has_war_with = event_target:WTT_communist_china
	}
	
	abort = {
		has_war_with = NEA
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.05
		states = {
			615
			1027
		}
		area = asia
		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "SHX"
		value = 500
	}
	ai_strategy = {
		type = support
		id = "SHX"
		value = 500
	}
	ai_strategy = {
		type = befriend
		id = "SHX"
		value = 200
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = PRC
		value = 35
	}
}

ALL_dont_want_buy_any_equip = {
	allowed = {
		always = yes
	}
	enable = {
		has_war = no
	}
	abort = {
		if = {
		limit = { or = { original_tag = SOV original_tag = USA } }
		date > 1940.10.1
		}
		else_if = {
		limit = { is_literally_china = yes }
		date > 1937.1.1
		}
		else = { date > 1939.1.1 }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = equipment_market_spend_factories
		value = -95  # 80 % less factories
	}

	ai_strategy = {
		type = equipment_market_buying_threshold
		id = infantry_equipment
		value = -100000
	}
	ai_strategy = {
		type = equipment_market_buying_threshold
		id = artillery_equipment
		value = -100000
	}
	ai_strategy = {
		type = equipment_market_buying_threshold
		id = anti_tank_equipment
		value = -100000
	}
	ai_strategy = {
		type = equipment_market_buying_threshold
		id = anti_air_equipment
		value = -100000
	}
	ai_strategy = {
		type = equipment_market_buying_threshold
		id = support_equipment
		value = -100000
	}
}

#plane_surplus_management = {
#	# If we manage to get all equipment we want, keep producing more stuff according to this
#	enable = {
#		always = yes  # For now, applies to everyone
#	}
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = equipment_production_surplus_management
#		id = fighter
#		value = 10
#	}
#
#	ai_strategy = {
#		type = equipment_production_surplus_management
#		id = cas
#		value = 5
#	}
#}
	
GER_AXIS_ask_for_diplo_access_to_SPR = {
	allowed = {
		OR = { original_tag = GER original_tag = ITA }
	}
	enable = {
		SPR = { is_fascism_type = yes }
		is_fascism_type = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = diplo_action_desire
		id = SPR
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = SPR
		target = docking_rights
		value = 5000
	}
}
SPR_POR_accept_for_diplo_access_to_SPR = {
	allowed = {
		OR = { original_tag = SPR }
	}
	enable = {
		GER = { is_fascism_type = yes }
		is_fascism_type = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = docking_rights
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		target = docking_rights
		value = 5000
	}
}

PRC_dont_declare_taiwan = {
    allowed = {
		original_tag = PRC
	}
	enable = {
		is_historical_focus_on = yes
		has_war_with_major = no
		has_global_flag = roc_in_taiwan_flag
		not = { has_war_with = event_target:WTT_current_china_leader }
	}
	abort_when_not_enabled = yes
	
	#aiå’Œå¹³äº”ä»¶å¥—
    ai_strategy = {
		type = declare_war
		id = CHI
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = CHI
		value = -500
	}
	ai_strategy = {
		type = contain
		id = CHI
		value = -500
	}
	ai_strategy = {
		type = antagonize
		id = CHI
		value = -75
	}
	ai_strategy = {
		type = ignore_claim
		id = "CHI"
		value = 1
	}
	
	ai_strategy = {
		type = declare_war
		id = JAP
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = JAP
		value = -500
	}
	ai_strategy = {
		type = contain
		id = JAP
		value = -500
	}
	ai_strategy = {
		type = antagonize
		id = JAP
		value = -75
	}
	ai_strategy = {
		type = ignore_claim
		id = "JAP"
		value = 1
	}
}

TUR_love_soviet = {
    allowed = {
		original_tag = TUR
	}
	enable = {
		date > 1938.3.1
        date < 1939.3.1
		is_historical_focus_on = yes
	}
	abort_when_not_enabled = yes
	
    ai_strategy = {
		type = diplo_action_desire
		id = SOV
		target = improve_relation
		value = 200
	}
	ai_strategy = {
		type = befriend
		id = SOV
		value = 200
	}
}

at_least_50_submarine_factories = {
	allowed = {
		NOT = { original_tag = USA }
	}
	enable = {
	    has_equipment = {
  			convoy > 500
  		}
		if = {
		limit = { or = { tag = JAP tag = SOV is_ally_faction_country = yes is_USA_faction_country = yes } }
		convoy_threat < 0.50
		}
		else = { always = yes }
		
		num_of_naval_factories > 50
		has_tech = improved_ship_hull_submarine
		NOT = { has_global_flag = no_more_submarine }
	}
	abort = {
	    has_navy_size = { size > 200 unit = submarine }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = submarine
		value = 50
	}
	ai_strategy = {
		type = role_ratio
		id = naval_better_submarine
		value = 200
	}
}
USA_at_least_100_submarine_factories = {
	allowed = {
		original_tag = USA
	}
	enable = {
	    has_equipment = {
  			convoy > 800
  		}
		num_of_naval_factories > 50
		has_tech = improved_ship_hull_submarine
		NOT = { has_global_flag = no_more_submarine }
	}
	abort = {
	    has_navy_size = { size > 300 unit = submarine }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = submarine
		value = 100
	}
	ai_strategy = {
		type = role_ratio
		id = naval_better_submarine
		value = 500
	}
}

JAP_defend_sneak_attack = {
    allowed = {
		original_tag = JAP
	}
	enable = {
        has_war_with_major = yes
        any_enemy_country = { is_literally_china = yes is_ai = no }
	    or = {
	        525 = { is_controlled_by_enemy = yes }
		    1001 = { is_controlled_by_enemy = yes }
		    1002 = { is_controlled_by_enemy = yes }
			
			524 = { is_controlled_by_enemy = yes }
		    526 = { is_controlled_by_enemy = yes }
			
			745 = { is_controlled_by_enemy = yes }
		    1000 = { is_controlled_by_enemy = yes }
	    }
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = strike_force_home_base
		id = 76
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 79
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 90
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 75
		value = 500
	}
	
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 76
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 79
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 90
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 75
		value = 500
	}
	
	ai_strategy = { type = naval_mission_threshold id = "MISSION_CONVOY_RAIDING" value = 500000 }
	ai_strategy = { type = naval_mission_threshold id = "MISSION_STRIKE_FORCE" value = 500000 }
	
	
}

JAP_kill_CHI_already = {
    allowed = {
		original_tag = JAP
	}
	enable = {
		has_war_with = event_target:WTT_current_china_leader
		OR = { has_global_flag = chi_run_happen event_target:WTT_current_china_leader = { surrender_progress > 0.85 } }
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = consider_weak
		id = "CHI"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "PRC"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "GXC"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "SIC"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "XIK"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "GUD"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "NEA"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "SHX"
		value = 7590
	}
	ai_strategy = {
		type = consider_weak
		id = "SUY"
		value = 7590
	}
	
	ai_strategy = {
		type = front_control

		country_trigger = { is_literally_china = yes }

		ratio = 0.6

		priority = 18000
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
}
JAP_kill_CHI_maybe = {
    allowed = {
		original_tag = JAP
	}
	enable = {
		any_enemy_country = { is_literally_china = yes }
		has_global_flag = xibeiguofangzhengfu_FOUND
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = consider_weak
		id = "CHI"
		value = 2000
	}
	ai_strategy = {
		type = consider_weak
		id = "PRC"
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = "GXC"
		value = 1000
	}
	ai_strategy = {
		type = consider_weak
		id = "SIC"
		value = 1000
	}
	ai_strategy = {
		type = consider_weak
		id = "XIK"
		value = 1000
	}
	ai_strategy = {
		type = consider_weak
		id = "GUD"
		value = 1000
	}
	ai_strategy = {
		type = consider_weak
		id = "NEA"
		value = 1000
	}
	ai_strategy = {
		type = consider_weak
		id = "SHX"
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = "SUY"
		value = 200
	}
	
	ai_strategy = {
		type = front_control

		country_trigger = { is_literally_china = yes }

		ratio = 0.6

		priority = 200
		ordertype = front
		execution_type = balanced
		execute_order = yes
		manual_attack = yes
	}
}
JAP_rush_nankin = {
    allowed = {
		original_tag = JAP
	}
	enable = {
		has_war_with = event_target:WTT_current_china_leader
		1015 = { is_controlled_by_enemy = yes }
		613 = { is_controlled_by_ROOT_or_ally = yes }
		or = { has_idea = JAP_ichi_go has_idea = JAP_one_hit_theory has_idea = JAP_one_hit_theory_for_player }
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = consider_weak
		id = "CHI"
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = "GXC"
		value = 200
	}
	
	ai_strategy = {
		type = front_control

		state = 1015
		
		ratio = 0.10

		priority = 200
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = invade
		id = "CHI"
		value = 550
	}
}
JAP_more_invade_if_front_is_hard_to_break = {
    allowed = {
		original_tag = JAP
	}
	enable = {
		has_war_with = event_target:WTT_current_china_leader
		not = { or = { has_idea = JAP_ichi_go has_idea = JAP_one_hit_theory has_idea = JAP_one_hit_theory_for_player } }
		event_target:WTT_current_china_leader = { surrender_progress > 0.05 surrender_progress < 0.30 }
		any_enemy_country = {
			is_literally_china = yes
			any_controlled_state = { is_coastal = yes }
		}
		not = { has_idea = JAP_USA_sanctions_idea_2 }
		not = { has_idea = JAP_USA_sanctions_idea_3 }
		not = { has_idea = JAP_USA_sanctions_idea_4 }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	    type = naval_invasion_supremacy_weight
	    value = 50
    }
	ai_strategy = {
	    type = naval_invasion_focus
	    value = 500
    }
	
	ai_strategy = {
		type = front_unit_request
		country_trigger = { is_literally_china = yes has_War_with = JAP }
		value = -25
	}
	ai_strategy = {
		type = invasion_unit_request
		area = china_coast_guo
		value = 50
	}
	ai_strategy = {
		type = area_priority
		id = china_coast_guo
		value = 200
	}
	
	ai_strategy = {
		type = front_control

		country_trigger = { is_literally_china = yes has_War_with = JAP any_controlled_state = { is_coastal = yes } }
		
		ratio = 0.50

		priority = 200
		ordertype = invasion
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = invade
		id = "CHI"
		value = 3000
	}
	ai_strategy = {
		type = invade
		id = "GUD"
		value = 2000
	}
	ai_strategy = {
		type = invade
		id = "SHD"
		value = 2000
	}
	ai_strategy = {
		type = invade
		id = "GXC"
		value = 1000
	}
}

SOV_kill_GER_already = {
    allowed = {
		original_tag = SOV
	}
	enable = {
       has_war_with = GER
       GER = { surrender_progress > 0.15 }
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = consider_weak
		id = "GER"
		value = 500
	}
	ai_strategy = {
		type = front_control

		country_trigger = { is_axis_faction_country = yes }

		ratio = 0.6

		priority = 200
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
}
ally_kill_GER_already = {
    allowed = {
		always = yes
	}
	enable = {
	   is_ally_faction_country = yes
       has_war_with = GER
       GER = { surrender_progress > 0.15 }
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = consider_weak
		id = "GER"
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = "RSI"
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = "ITA"
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = "VIC"
		value = 500
	}
	
	ai_strategy = {
		type = front_control

		country_trigger = { is_axis_faction_country = yes }

		ratio = 0.6

		priority = 200
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
}

ally_protect_convoy_biggiest = {
	allowed = {
		always = yes
	}
	enable = {
	    OR = {
	    is_ally_faction_country = yes
	    is_USA_faction_country = yes
		TAG = JAP
		tag = SOV
	    }
		has_navy_size = { size > 0 }
		convoy_threat > 0.35
	}
	
	abort = {
	    OR = {
		should_ally_do_dday = yes
		date > 1943.5.1
		}
		date > 1942.1.1
		OR = {
	    is_ally_faction_country = yes
	    is_USA_faction_country = yes
	    }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_mission_threshold
		id = "MISSION_CONVOY_ESCORT"
		value = 999 #puts our threshold at 250
	}
}
Allies_protect_the_convoys = {
	allowed = {
		always = yes
	}
	enable = {
		convoy_threat > 0.25
		is_axis_faction_country = no
	}
	abort = {
	    OR = {
		should_ally_do_dday = yes
		date > 1943.5.1
		}
		date > 1942.1.1
		OR = {
	    is_ally_faction_country = yes
	    is_USA_faction_country = yes
	    }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = naval_better_screen
		value = 150
	}
	ai_strategy = {
		type = naval_mission_threshold
		id = "MISSION_CONVOY_ESCORT"
		value = 150 #puts our threshold at 250
	}
	
	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 25
	}
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = convoy 
		value = 5
	}
}
must_protect_the_convoys = {
	allowed = {
		always = yes
	}
	enable = {
		convoy_threat > 0.50
		is_axis_faction_country = no
	}
	abort = {
	    OR = {
		should_ally_do_dday = yes
		date > 1943.5.1
		}
		date > 1942.1.1
		OR = {
	    is_ally_faction_country = yes
	    is_USA_faction_country = yes
	    }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = naval_better_screen
		value = 500
	}
	ai_strategy = {
		type = naval_mission_threshold
		id = "MISSION_CONVOY_ESCORT"
		value = 350 #puts our threshold at 250
	}
	
	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 50
	}
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = convoy 
		value = 5
	}
	
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = screen_ship
		value = 30
	}
}

keep_libya_route_ita = {
    allowed = { original_tag = ITA }
	enable = { 
	    OR = { has_war_with = ENG date > 1939.9.1 }
		OR = {
		448 = { is_controlled_by_ROOT_or_ally = yes }
		449 = { is_controlled_by_ROOT_or_ally = yes }
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { type = naval_avoid_region id = 69 value = 90 }
	
	ai_strategy = {
		type = strike_force_home_base
		id = 23 # italy
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 214 # southern italy
	}
	
	ai_strategy = {
		type = naval_mission_threshold
		id = "MISSION_PATROL"
		value = -999
	}
	ai_strategy = {
		type = naval_mission_threshold
		id = "MISSION_HOLD"
		value = 500
	}
}

USA_prepare_for_dday = {
    allowed = {
		or = { original_tag = ENG original_tag = USA }
	}
	enable = {
        is_in_faction_with = ENG
		has_war_with_europe_country = yes
		num_of_factories > 500
		date > 1943.1.1
		surrender_progress < 0.05#è‡ªå®¶åŽé™¢è¦å®‰å…¨
		ENG = { surrender_progress < 0.05 }
	}
    abort_when_not_enabled = yes 
	
    ai_strategy = {
		type = build_building
		id = radar_station
		target = 126
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 127
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 127
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 130
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 116
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 447
		value = 9570
	}
	
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 631
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 645
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 737
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 336
		value = 1000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 16
		value = 1500
	}
	
	ai_strategy = {
		type = build_building
		id = air_base
		target = 123
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 128
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 132
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 122
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 127
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 125
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 623
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 130
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 338
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 116
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 115
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 129
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 526
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 645
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 623
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 131
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 648
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 16
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 15
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 458
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 646
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 114
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 1
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 115
		value = 8888
	}
}

SOV_plane_dont_early_produce = {
    allowed = {
		or = { original_tag = SOV original_tag = USA }
	}
	enable = {
        date < 1940.1.1
		has_war = no
	}
    abort_when_not_enabled = yes 
	
    ai_strategy = {
		type = equipment_production_factor #é£žæœºä¸æ€¥ç€äº§
		id = fighter
		value = -50
	}
    ai_strategy = {
		type = equipment_production_factor #é£žæœºä¸æ€¥ç€äº§
		id = cas
		value = -50
	}
	ai_strategy = {
		type = equipment_production_factor #é£žæœºä¸æ€¥ç€äº§
		id = tactical_bomber
		value = -50
	}
    ai_strategy = {
		type = equipment_production_factor #é£žæœºä¸æ€¥ç€äº§
		id = strategic_bomber
		value = -50
	}
	ai_strategy = {
		type = equipment_production_factor #é£žæœºä¸æ€¥ç€äº§
		id = naval_bomber
		value = -50
	}
    ai_strategy = {
		type = equipment_production_factor #é£žæœºä¸æ€¥ç€äº§
		id = scout_plane
		value = -50
	}
	ai_strategy = {
		type = equipment_production_factor #é£žæœºä¸æ€¥ç€äº§
		id = heavy_fighter
		value = -50
	}
}

warsaw_chi_zhongguoneizhan = {
	allowed = { always = yes }
	
	enable = {
	    is_soviet_faction_country = yes
		has_idea = chi_zhongguoneizhan
		surrender_progress < 0.05
		not = { is_neighbor_of = event_target:WTT_current_china_leader }
		#capital_scope = { is_on_continent = europe }
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = dont_defend_ally_borders
		target = asia
		value = 7999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = PRC
		value = 7999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = PRC
		value = -7999
	}
	ai_strategy = {
		type = ignore
		id = CHI
		value = 7999
	}
	ai_strategy = {
		type = front_unit_request
		tag = CHI
		value = -7999
	}
	ai_strategy = {
		type = invasion_unit_request
		tag = CHI
		value = -7999
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 75
		value = 999
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 76
		value = 999
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 77
		value = 999
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 78
		value = 999
	}		
	
	ai_strategy = { type = strategic_air_importance id = 76 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 248 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 247 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 246 value = -500000 }
	
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = CHI
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = GXC
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SIK
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = TIB
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SHX
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SUY
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = YUN
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = XSM
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = NXM
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = GSM
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SIK
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = GUD
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SIC
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = NEA
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = XIK
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = XIA
		value = 99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = PRC
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = PRC
		target = call_allies
		value = -99999
	}
}

upgrade_xp_cutoff_air = {
	allowed = { always = yes }
	
	enable = {
		has_air_experience > 100
		or = { has_war_with_major = yes has_air_experience > 200 }
		is_incompetent_heavy_industry_country = no
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = air_xp_spend_priority
		id = upgrade_xp_cutoff
		value = 100
	}
}
upgrade_xp_cutoff_navy = {
	allowed = { always = yes }
	
	enable = {
		has_navy_experience > 100
		or = { has_war_with_major = yes has_navy_experience > 200 }
		is_incompetent_heavy_industry_country = no
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = navy_xp_spend_priority
		id = upgrade_xp_cutoff
		value = 100
	}
}
upgrade_xp_cutoff_land = {
	allowed = { always = yes }
	
	enable = {
		has_army_experience > 100
		or = { has_war_with_major = yes has_army_experience > 200 }
		is_incompetent_heavy_industry_country = no
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = land_xp_spend_priority
		id = upgrade_xp_cutoff
		value = 100
	}
}

PRC_CHI_lets_not_waste_armies = {
    allowed = {
		is_literally_china = yes
	}
	enable = {
        event_target:WTT_communist_china = { has_war_with = event_target:WTT_current_china_leader }
	    NOT = { has_war_with = SOV has_war_with = MON has_war_with = KOR has_war_with = DPR }
		NOT = { is_in_faction_with = SOV }
	}
	abort_when_not_enabled = yes
    
	#ä¸è®¾é˜²çš„å››ä¸ªä»£ç 
	ai_strategy = {
		type = ignore
		id = "SOV"
		value = 1000
	} 
	ai_strategy = {
		type = ignore
		id = "MON"
		value = 1000
	} 
	ai_strategy = {
		type = ignore
		id = "KOR"
		value = 1000
	} 
	ai_strategy = {
		type = ignore
		id = "DPR"
		value = 1000
	} 
	
    ai_strategy = {
		type = prepare_for_war
		id = "SOV"
		value = -1000
	} 
    ai_strategy = {
		type = prepare_for_war
		id = "MON"
		value = -1000
	} 
    ai_strategy = {
		type = prepare_for_war
		id = "KOR"
		value = -1000
	}
	ai_strategy = {
		type = prepare_for_war
		id = "DPR"
		value = -1000
	}
	
	ai_strategy = {
		type = conquer
		id = "SOV"
		value = -1000
	} 
    ai_strategy = {
		type = conquer
		id = "MON"
		value = -1000
	} 
    ai_strategy = {
		type = conquer
		id = "KOR"
		value = -1000
	}
	ai_strategy = {
		type = conquer
		id = "DPR"
		value = -1000
	}
	
	ai_strategy = {
		type = antagonize
		id = "SOV"
		value = -200
	} 
    ai_strategy = {
		type = antagonize
		id = "MON"
		value = -200
	} 
    ai_strategy = {
		type = antagonize
		id = "KOR"
		value = -200
	}
	ai_strategy = {
		type = antagonize
		id = "DPR"
		value = -200
	}
	
	ai_strategy = {
		type = befriend
		id = "SOV"
		value = 200
	} 
    ai_strategy = {
		type = befriend
		id = "MON"
		value = 200
	} 
    ai_strategy = {
		type = befriend
		id = "KOR"
		value = 200
	}
	ai_strategy = {
		type = befriend
		id = "DPR"
		value = 200
	}
	
	ai_strategy = {
		type = front_unit_request
		country_trigger = { is_soviet_faction_country = yes }
		value = -1000
	} 
	
	ai_strategy = {
		type = front_unit_request
		tag = SOV
		value = -1000
	} 
    ai_strategy = {
		type = front_unit_request
		tag = MON
		value = -1000
	} 
    ai_strategy = {
		type = front_unit_request
		tag = KOR
		value = -1000
	}
	ai_strategy = {
		type = front_unit_request
		tag = DPR
		value = -1000
	}
}

SOV_ili_rebellion_SIP = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		any_neighbor_country = {
			original_tag = SIK
			has_war_with = SIK
			has_government = communism
			surrender_progress > 0.1
		}
		SIK = {
			is_in_faction_with = event_target:WTT_current_china_leader
			surrender_progress < 0.1
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { 
		type = send_lend_lease_desire
		id = "SIP"
		value = 5000
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SIP"
		value = 5000
	}
	ai_strategy = {
		type = support
		id = "SIP"
		value = 5000
	}
}

SOV_dont_mess_human_germany = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		GER = {
			is_ai = no
			surrender_progress < 0.1
			num_divisions > 100
		}
		NOT = {
			has_war_with = GER
			is_in_faction_with = GER
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = ignore_claim
		id = "GER"
		value = 1
	}
	ai_strategy = {
		type = declare_war
		id = "GER"
		value = -9999
	}
	ai_strategy = {
		type = contain
		id = "GER"
		value = -200
	}
}

TNG_join_KHR = {
	allowed = {
		original_tag = TNG
	}
	enable = {
	    is_ally_with = KHR
		NOT = { is_ally_with = SIK }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_desire
		id = KHR
		target = join_allies
		value = 9999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = KHR
		target = call_allies
		value = 9999
	}
	
	ai_strategy = {
		type = protect
		id = KHR
		value = 1000
	}
	ai_strategy = {
		type = support
		id = KHR
		value = 500
	}
	ai_strategy = {
		type = alliance
		id = KHR
		value = 500
	}
	ai_strategy = {
		type = befriend
		id = KHR
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = KHR
		value = 500
	}
}

prc_all_china_must_prosper_in_my_prosperity_sphere_TIB = {
	allowed = {
		original_tag = PRC
	}
	enable = {
		has_country_flag = PRC_Establish_state_or_independent_government
		has_completed_focus = PRC_Claim_Tibet
		event_target:WTT_current_china_leader = {
			OR = {
				exists = no
				NOT = {
					has_War_with = ROOT
				}
				has_global_flag = roc_in_taiwan_flag
			}
		}
	}
	abort = {
		TIB = {
			OR = {
				is_in_faction_with = ROOT
				is_subject_of = ROOT
				exists = no
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "TIB"
		value = 9999
	}
	ai_strategy = {
		type = prepare_for_war
		id = "TIB"
		value = 200
	}
	ai_strategy = {
		type = declare_war
		id = "TIB"
		value = 9999
	}
}

eng_no_need_care_pacific = {
	allowed = {
		not = { tag = USA }
	}
	enable = {
		is_in_faction_with = USA
		or = { is_in_faction_with = ENG tag = ENG }
		not = { capital_scope = { is_on_continent = asia } }
		not = { tag = USA }
		USA = {
		    has_navy_size = { size > 100 }
			is_major = yes
			num_divisions > 150
			surrender_progress < 0.06
		}
		any_enemy_country = {
			is_major = yes
			capital_scope = { is_on_continent = europe }
			has_capitulated = no
		}
	}
	abort_when_not_enabled = yes
	
    #ä½¿aiè¿œç¦»æŸç‰‡åŒºåŸŸçš„å››ä¸ªä»£ç 
	ai_strategy = {
		type = area_priority
		id = pacific
		value = -7999
	}
	ai_strategy = {
		type = front_unit_request
		area = pacific
		value = -7999
	}
	ai_strategy = {
		type = invasion_unit_request
		area = pacific
		value = -7999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = pacific
		value = 7999
	}
}

ally_help_human_player = {
	allowed = {
		always = yes
	}
	enable = {
	    is_major = yes
		is_in_faction_with = REN
		is_ally_faction_country = yes
		REN = { has_capitulated = no }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = REN
		value = 7999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = REN
		value = -7999
	}
	ai_strategy = {
		type = support
		id = REN
		value = 7999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = REN
		value = 7999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = REN
		value = 2000
	}
	ai_strategy = {
		type = protect
		id = REN
		value = 2000
	}
}

jap_time_to_defend_homeland = {
	allowed = {
		original_tag = JAP
	}
	enable = {
	    OR = {
		AND = {
		has_offensive_war_with = event_target:WTT_current_china_leader
		event_target:WTT_current_china_leader = { surrender_progress < 0.05 }
		}
		any_enemy_country = { has_navy_size = { size > 50 } }
		}
		num_divisions < 150
		1015 = { is_controlled_by_jap_or_its_puppet = no }
		613 = { is_controlled_by_jap_or_its_puppet = no }
		608 = { is_controlled_by_jap_or_its_puppet = no }
		716 = { is_controlled_by_jap_or_its_puppet = no }
		328 = { is_controlled_by_jap_or_its_puppet = no }
		609 = { is_controlled_by_jap_or_its_puppet = no }
		527 = { is_controlled_by_jap_or_its_puppet = no }
		525 = { is_controlled_by_jap_or_its_puppet = no }
		1001 = { is_controlled_by_jap_or_its_puppet = no }
		592 = { is_controlled_by_jap_or_its_puppet = no }
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = garrison
		value = 100
	}
	ai_strategy = {
        type = put_unit_buffers
	    states = {
	        524
            526
			994
			528
			530
			529
			531
			532
			535
			282
			534
			533
			995
			536
			996
			555
			537
	    }
	    ratio = 1
        area = home_islands
	    subtract_invasions_from_need = no
	    subtract_fronts_from_need = no
	}
	
	ai_strategy = {
		type = front_control

		area = home_islands

		ratio = 0.6

		priority = 10000
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	
	
	
	ai_strategy = {
		type = force_build_armies
		value = 5000
	}
	ai_strategy = {
		type = build_army
		id = infantry
		value = 200
	}
	
	ai_strategy = {
		type = dont_defend_ally_borders
		target = asia
		value = 9999
	}
	ai_strategy = {
		type = front_unit_request
		area = home_islands
		value = 9999
	}
	ai_strategy = {
		type = invasion_unit_request
		country_trigger = { always = yes }
		value = -9999
	}
	ai_strategy = {
		type = area_priority
		id = home_islands
		value = 9999
	}
	
	ai_strategy = {
		type = strike_force_home_base
		id = 76
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 79
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 90
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 75
		value = 500
	}
	
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 76
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 79
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 90
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 75
		value = 500
	}
	
	ai_strategy = { type = naval_mission_threshold id = "MISSION_CONVOY_RAIDING" value = 5000 }
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 10
	}
	
	ai_strategy = {
		type = build_building
		id = air_base
		target = 528
		value = 1500
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 529
		value = 1500
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 530
		value = 1500
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 282
		value = 1000
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 526
		value = 1000
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 536
		value = 8000
	}
	
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 528
		value = 3000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 526
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 282
		value = 3000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 531
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 536
		value = 1500
	}
	
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 528
		value = 3000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 526
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 282
		value = 3000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 536
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 531
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 536
		value = 1500
	}
	
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 9950
		value = 7
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 1092
		value = 7
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 7072
		value = 7
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 9998
		value = 7
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 9859
		value = 7
	}
}
eng_homeland_is_dangerous = {
	allowed = {
		original_tag = ENG
	}
	enable = {
	any_state = {
		or = {
			region = 5
			region = 19
			region = 208
			region = 6
			region = 275
			region = 11
			region = 4
		}
		controller = {
			has_war_with = root
			or = {
			and = {
			is_ai = no
			is_major = yes
			}
			overlord = { is_ai = no is_major = yes }
			}
		}
	}
	}
	abort = {
	is_in_faction_with = USA
	or = {
	has_global_flag = d_day_happened
	date > 1944.5.1
	}
	}

	ai_strategy = {
		type = garrison
		value = 80
	}
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.80
        area = UK
		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
		states = { 
            119
            899
			136
 			126
            125
            130
            131
            132
            133
 			127
 			128
 			129
 			338
 			123
 			122 
            121
            120
 		}	
	}
	
	ai_strategy = {
		type = front_control

		area = UK

		ratio = 0.6

		priority = 10000
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	
	
	
	ai_strategy = {
		type = force_build_armies
		value = 5000
	}
	ai_strategy = {
		type = build_army
		id = infantry
		value = 200
	}
	
	ai_strategy = {
		type = dont_defend_ally_borders
		target = mainland_europe
		value = 9999
	}
	ai_strategy = {
		type = front_unit_request
		area = mainland_europe
		value = -9999
	}
	ai_strategy = {
		type = invasion_unit_request
		area = mainland_europe
		value = -9999
	}
	ai_strategy = {
		type = area_priority
		id = mainland_europe
		value = -9999
	}
	
	ai_strategy = {
		type = front_unit_request
		area = UK
		value = 200
	}
	ai_strategy = {
		type = area_priority
		id = UK
		value = 2000
	}
	
	ai_strategy = {
		type = strike_force_home_base
		id = 18
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 16
		value = 999
	}
	ai_strategy = {
		type = strike_force_home_base
		id = 43
		value = 600
	}
	
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 18
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 16
		value = 999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 43
		value = 600
	}
	
	ai_strategy = { type = naval_mission_threshold id = "MISSION_CONVOY_RAIDING" value = 5000 }
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 70
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 20
	}
	
	ai_strategy = {
		type = build_building
		id = air_base
		target = 129
		value = 1500
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 128
		value = 1500
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 338
		value = 1500
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 123
		value = 1000
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 121
		value = 1000
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 131
		value = 8000
	}
	
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 129
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 128
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 126
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 133
		value = 3000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 119
		value = 2000
	}
	
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 126
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 127
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 128
		value = 3000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 130
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = anti_air_building
		target = 132
		value = 5000
	}
	
	
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 3501
		value = 5
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 9458
		value = 5
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 540
		value = 5
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 11374
		value = 5
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 271
		value = 5
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 11297
		value = 5
	}
	ai_strategy = {
		type = build_building
		id = coastal_bunker
		target = 351
		value = 5
	}
}

stalin_hate_trosiky_prc = {
    allowed = {
		OR = {
		original_tag = SOV
		}
	}
	enable = {
	    has_country_leader = { ruling_only = yes character = SOV_iosif_stalin }
		is_subject = no
		PRC = { leader_is_trotskyist = yes }
	}
    abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = antagonize
		id = PRC
		value = 750
	}
	ai_strategy = {
		type = befriend
		id = PRC
		value = -750
	}
	ai_strategy = {
		type = support
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = protect
		id = PRC
		value = -99999
	}
}
sinkiang_hate_trosiky_prc = {
    allowed = {
		OR = {
		original_tag = SIK
		}
	}
	enable = {
	    has_country_leader = { ruling_only = yes character = SIK_sheng_shicai }
		is_subject = no
		PRC = { leader_is_trotskyist = yes }
	}
    abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = antagonize
		id = PRC
		value = 750
	}
	ai_strategy = {
		type = befriend
		id = PRC
		value = -750
	}
	ai_strategy = {
		type = support
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = protect
		id = PRC
		value = -99999
	}
}

stalin_stop_support_china = {
    allowed = {
		always = yes
	}
	enable = {
	    OR = {
		original_tag = SOV
		is_in_faction_with = SOV
		}
		NOT = { has_War_with = JAP }
		JAP = { has_idea = jap_sov_pact has_war_with = CHI }
	}
    abort_when_not_enabled = yes
	
	ai_strategy = {
		type = support
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = PRC
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = CHI
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = CHI
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = CHI
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = SHX
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = SHX
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = SHX
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = GXC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GXC
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GXC
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = YUN
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = YUN
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = YUN
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = GUD
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GUD
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GUD
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = XIK
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = XIK
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = XIK
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = SUY
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = SUY
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = SUY
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = NXM
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = NXM
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = NXM
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = XSM
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = XSM
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = XSM
		value = -99999
	}
}
axis_stop_support_china = {
    allowed = {
		always = yes
	}
	enable = {
	    OR = {
		original_tag = GER
		is_in_faction_with = GER
		}
		not = { has_War_with = JAP }
		event_target:WTT_current_china_leader = {
		has_War_with = JAP
		has_global_flag = falkenhausen_recalled
		}
	}
    abort_when_not_enabled = yes
	
	ai_strategy = {
		type = support
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = PRC
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = CHI
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = CHI
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = CHI
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = SHX
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = SHX
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = SHX
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = GXC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GXC
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GXC
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = YUN
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = YUN
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = YUN
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = GUD
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GUD
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GUD
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = XIK
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = XIK
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = XIK
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = SUY
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = SUY
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = SUY
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = NXM
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = NXM
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = NXM
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = XSM
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = XSM
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = XSM
		value = -99999
	}
}

JAP_start_buffering_in_pacific_for_USA_player = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		any_enemy_country = {
		    is_major = yes
			is_ai = no
			is_literally_china = no
			or = {
			tag = USA
			has_navy_size = { size > 50 }
			}
			surrender_progress < 0.1
		}
		not = { any_enemy_country = { is_ai = no is_literally_china = yes } }
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers

		# pacific islands
		states = {
			633 #Marshall
			632 #Wake
			684 #Caroline
			645 #Iwo Jima
			638 #Guam
			646 #Saipan
			648
			327
			623
			650
			631
			629
			526
			627
			634
			737
			669
			647
			335
			672
		}

		ratio = 0.2

		area = pacific
		area = oceania

		subtract_invasions_from_need = yes
		subtract_fronts_from_need = yes
	}
	
	ai_strategy = {
	    type = naval_invasion_supremacy_weight
	    value = 100
    }
	ai_strategy = {
	    type = naval_invasion_focus
	    value = 1000
    }
	ai_strategy = {
		type = invade
		id = USA
		value = 2000
	}
	
	ai_strategy = {
		type = front_unit_request
		area = pacific
		value = 50
	}
	ai_strategy = {
		type = invasion_unit_request
		area = pacific
		value = 50
	}
	ai_strategy = {
		type = area_priority
		id = pacific
		value = 150
	}
	
	ai_strategy = {
		type = front_unit_request
		area = pacific_SEA
		value = 35
	}
	ai_strategy = {
		type = invasion_unit_request
		area = pacific_SEA
		value = 35
	}
	ai_strategy = {
		type = area_priority
		id = pacific_SEA
		value = 100
	}
	
	ai_strategy = {
		type = front_unit_request
		area = oceania
		value = 35
	}
	ai_strategy = {
		type = invasion_unit_request
		area = oceania
		value = 35
	}
	ai_strategy = {
		type = area_priority
		id = oceania
		value = 100
	}
	
	ai_strategy = {
		type = role_ratio
		id = marines
		value = 15
	}
	
}
USA_start_buffering_in_pacific_for_jap_player = {
	allowed = {
		original_tag = USA
	}
	enable = {
		any_enemy_country = {
		    is_major = yes
			is_ai = no
			capital_scope = {
				is_on_continent = asia # lets avoid smaller conflicts elsewhere
			}
			or = {
			tag = JAP
			has_navy_size = { size > 50 }
			}
		}
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers

		# pacific islands
		states = {
			633 #Marshall
			632 #Wake
			684 #Caroline
			645 #Iwo Jima
			638 #Guam
			646 #Saipan
			526
			327
			623
			650
			631
			629
		}

		ratio = 0.17

		area = pacific
		area = oceania

		subtract_invasions_from_need = yes
		subtract_fronts_from_need = yes
	}
	
	ai_strategy = {
	    type = naval_invasion_supremacy_weight
	    value = 100
    }
	ai_strategy = {
	    type = naval_invasion_focus
	    value = 1000
    }
	ai_strategy = {
		type = invade
		id = JAP
		value = 2000
	}
	
	ai_strategy = {
		type = front_unit_request
		area = pacific
		value = 30
	}
	ai_strategy = {
		type = invasion_unit_request
		area = pacific
		value = 30
	}
	ai_strategy = {
		type = area_priority
		id = pacific
		value = 100
	}
	
	ai_strategy = {
		type = front_unit_request
		area = oceania
		value = 30
	}
	ai_strategy = {
		type = invasion_unit_request
		area = oceania
		value = 30
	}
	ai_strategy = {
		type = area_priority
		id = oceania
		value = 50
	}
	
	ai_strategy = {
		type = role_ratio
		id = marines
		value = 15
	}
}

JAP_rush_the_south_east = {
	allowed = {
		original_tag = JAP
	}

	enable = {
	    OR = { has_War_with = RAJ has_War_with = BUR has_War_with = PHI has_War_with = MAL has_War_with = INS has_War_with = AST }
		check_variable = {
			This.infantry_equipment_deficit < 25000 #guo
		}
		surrender_progress < 0.05
		has_navy_size = { size > 50 }
	}
	abort = {
	    if = {
		limit = { has_War_with = PHI }
		PHI = { has_capitulated = yes }
		}
		else = { always = yes }
		
		if = {
		limit = { has_War_with = BUR }
		BUR = { has_capitulated = yes }
		}
		else = { always = yes }
		
		if = {
		limit = { OR = { has_War_with = RAJ has_War_with = BUR } }
		640 = { is_controlled_by_ROOT_or_ally = yes }
		288 = { is_controlled_by_ROOT_or_ally = yes }
		1021 = { is_controlled_by_ROOT_or_ally = yes }
		}
		else = { always = yes }
		
		if = {
		limit = { has_War_with = MAL }
		MAL = { has_capitulated = yes }
		}
		else = { always = yes }
		
		if = {
		limit = { has_War_with = INS }
		INS = { has_capitulated = yes }
		}
		else = { always = yes }
		
		if = {
		limit = { has_War_with = AST }
		669 = { is_controlled_by_ROOT_or_ally = yes }
		}
		else = { always = yes }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		
		tag = PHI
		tag = MAL
		tag = INS
		tag = AST
		tag = SAR
		tag = BOR
		tag = ENG
		tag = USA
		tag = SST

		ratio = 0.4

		priority = 500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = front_control
		
        tag = BUR

		ratio = 0.25

		priority = 500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = front_control
		
        tag = RAJ

		ratio = 0.25

		priority = 100
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	
	ai_strategy = {
	 	type = force_defend_ally_borders
		id = "SIA"
		value = 200
	}
	ai_strategy = {
	 	type = protect
		id = "SIA"
		value = 200
	}
	ai_strategy = {
	 	type = support
		id = "SIA"
		value = 200
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = BUR
		value = 25
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = RAJ
		value = 25
	}
	
	ai_strategy = {
	 	type = consider_weak
		id = "BUR"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "RAJ"
		value = 100
	}
	
	ai_strategy = {
	 	type = consider_weak
		id = "PHI"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "MAL"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "INS"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "AST"
		value = 290
	}
	ai_strategy = {
	 	type = consider_weak
		id = "RAJ"
		value = 290
	}
	ai_strategy = {
	 	type = consider_weak
		id = "ENG"
		value = 100
	}
}

GER_rush_the_normandy = { #è¥¿çº¿
	allowed = {
		original_tag = GER
	}

	enable = {
	    west_europe_is_dangerous = yes
		16 = { is_controlled_by_ROOT_or_ally = yes }
		has_global_flag = fall_of_france
		check_variable = {
			This.infantry_equipment_deficit < 100000 #guo
		}
		surrender_progress < 0.15
	}
	abort = {
	    any_enemy_country = {
			is_in_faction_with = SOV
			or = {
			controls_state = 807
			controls_state = 87
			controls_state = 762
			controls_state = 70
			controls_state = 72
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control

		area = west_europe

		ratio = 0.6

		priority = 500
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
	 	type = consider_weak
		id = "USA"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "ENG"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "FRA"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "HOL"
		value = 500
	}
	ai_strategy = {
	 	type = consider_weak
		id = "BEL"
		value = 500
	}
}
	
GER_defend_ally_normandy = { #è¥¿çº¿
	allowed = {
		original_tag = GER
	}
	enable = {
	    has_war_with = ENG
		has_global_flag = fall_of_france
		west_europe_is_dangerous = yes
		or = {
			SOV = {
				OR = {
				surrender_progress > 0.7
				is_ally_with = root
				is_subject = yes
				exists = no
				}
			}
			any_enemy_country = {
				is_ai = no
				is_USA_OR_ally_faction_country = yes
				num_of_factories > 60
			}
		}
	}
	abort = {
	    any_enemy_country = {
			is_in_faction_with = SOV
			or = {
			controls_state = 807
			controls_state = 87
			controls_state = 762
			controls_state = 70
			controls_state = 72
			}
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		tag = SOV
		value = 50
	}

	ai_strategy = {
		type = front_unit_request
		area = west_europe
		value = 200
	}
	ai_strategy = {
		type = area_priority
		id = west_europe
		value = 200
	}
	
	ai_strategy = {
	 	type = front_armor_score
		id = "FRA"
		value = 100
	}
	
	ai_strategy = {
	 	type = front_armor_score
		id = "USA"
		value = 100
	}
	
	ai_strategy = {
	 	type = front_armor_score
		id = "ENG"
		value = 100
	}
	
	
	ai_strategy = {
	 	type = front_armor_score
		id = "BEL"
		value = 50
	}
	
	ai_strategy = {
	 	type = front_armor_score
		id = "HOL"
		value = 50
	}
}

chi_dont_care_sanquzhengfu = {
	enable = {
	    OR = {
		tag = CHI
		tag = SIK
		tag = XSM
		tag = NXM
		tag = GSM
		tag = GXC
		tag = YUN
		tag = SIC
		is_subject_of = CHI
		is_literally_china = yes
		is_warlord = yes
		}
		any_enemy_country = {
		original_tag = SIK
		is_ai = yes
		or = { has_cosmetic_tag = SIK_Ili_Council has_government = communism }
		not = { tag = SIK }
		#num_of_controlled_states < 3
		}
		SOV = { is_ai = yes }
		country_exists = PRC
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		country_trigger = { original_tag = SIK is_ai = yes or = { has_cosmetic_tag = SIK_Ili_Council has_government = communism } not = { tag = SIK } }
		
		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	
	ai_strategy = {
		type = consider_weak
		id = SIP
		value = -9999
	}
	ai_strategy = {
		type = front_unit_request
		country_trigger = { original_tag = SIK is_ai = yes or = { has_cosmetic_tag = SIK_Ili_Council has_government = communism } not = { tag = SIK } }
		value = -50
	}
	
	ai_strategy = {
		type = consider_weak
		id = D09
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D08
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D07
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D06
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D05
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D04
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D03
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D02
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = D01
		value = -9999
	}
	
	ai_strategy = {
		type = conquer
		id = SIP
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D09
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D08
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D07
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D06
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D05
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D04
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D03
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D02
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = D01
		value = -999
	}
}
sanquzhengfu_dont_push = {
    allowed = {
		original_tag = SIK
	}
	enable = {
		or = { has_cosmetic_tag = SIK_Ili_Council has_government = communism }
		not = { tag = SIK }
		SOV = { is_ai = yes }
		country_exists = PRC
		SIK = { is_ai = yes }
		has_war_with_human_player = no
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		tag = SIK
		
		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	
	ai_strategy = {
		type = consider_weak
		id = SIK
		value = -7590
	}
	ai_strategy = {
		type = front_unit_request
		tag = SIK
		value = 500
	}
}

ally_build_some_air_base = {
	enable = {
	    OR = {
		is_in_faction_with = ENG
		is_in_faction_with = USA
		TAG = USA
		TAG = ENG
		}
		any_enemy_country = { is_major = yes }
		num_of_factories > 300
		has_deployed_air_force_size = {
			type = fighter
			size > 3000
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 126
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 130
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 116
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 447
		value = 9570
	}
	
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 631
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 645
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 737
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 336
		value = 1000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 16
		value = 1500
	}
	
	ai_strategy = {
		type = build_building
		id = air_base
		target = 123
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 623
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 338
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 116
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 115
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 129
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 526
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 645
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 623
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 648
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 16
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 458
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 646
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 447
		value = 8888
	}
}
axis_build_some_air_base = {
	enable = {
	    OR = {
		is_in_faction_with = GER
		is_in_faction_with = ITA
		TAG = GER
		TAG = ITA
		TAG = JAP
		}
		any_enemy_country = { is_major = yes }
		num_of_factories > 150
		has_deployed_air_force_size = {
			type = fighter
			size > 3000
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 327
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 648
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 335
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 669
		value = 5000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 613
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 597
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 592
		value = 9570
	}
	
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 16
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 115
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 10
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 46
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 763
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 42
		value = 9570
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 450
		value = 9570
	}
	
	ai_strategy = {
		type = build_building
		id = air_base
		target = 10
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 46
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 76
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 71
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 763
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 98
		value = 8888
	}
	
	
	ai_strategy = {
		type = build_building
		id = air_base
		target = 34
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 16
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 7
		value = 8888
	}
	
	ai_strategy = {
		type = build_building
		id = air_base
		target = 1015
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 1015
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 615
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 615
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = air_base
		target = 1034
		value = 8888
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 1034
		value = 8888
	}
}

minor_countries_should_be_weak = {
    allowed = {
		OR = {
		    original_tag = BEL
            original_tag = HOL
		    original_tag = LUX
			original_tag = DEN
		    original_tag = NOR
			original_tag = YUG
		    original_tag = GRE
		}
		is_historical_focus_on = yes
	}
	enable = {
	    has_army_manpower = { size > 99999 }
	}
    abort = {
	    OR = {
	    has_army_manpower = { size < 99999 }
		any_neighbor_country = {
		is_ai = no
		not = { is_ally_with = root }
		}
		any_enemy_country = {
		is_ai = no
		}
		any_other_country = {
		is_ai = no
		capital_scope = { is_on_continent = europe }
		or = {
		tag = GER
		tag = ITA
		is_ally_with = GER
		}
		}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}

	ai_strategy = {
        type = force_build_armies
        value = -50000
	}
	
	ai_strategy = {
        type = build_army
        value = -50000
	}
	
	ai_strategy = {
        type = ai_wanted_divisions_factor
        value = -999
	}
}

kalami_dont_landing_to_die = {
	enable = {
		is_major = no
        has_war_with_major = yes
		not = { tag = CAN tag = POL }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = naval_invasion_focus value = -9999 }
	ai_strategy = {
		type = invasion_unit_request
		country_trigger = { always = yes }

		value = -9999
	}
}
china_dont_landing_to_die = {
    allowed = {
		is_literally_china = yes
	}
	enable = {
		has_defensive_war_with = JAP
		surrender_progress > 0.01
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = naval_invasion_focus value = -9999 }
	ai_strategy = {
		type = invasion_unit_request
		country_trigger = { always = yes }

		value = -9999
	}
}

ger_careful_against_sov_if_push_too_far = {
    allowed = {
		always = yes
	}
	enable = {
		has_War_with = SOV
		SOV = { surrender_progress > 0.3 num_divisions > 120 }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.6
		
		tag = SOV
		
		priority = 50
		ordertype = front
		execution_type = careful
		#execute_order = yes
		manual_attack = yes
	}
}

rom_help_ger_against_sov = {
    allowed = {
		or = { original_tag = ROM original_tag = HUN original_tag = BUL }
	}
	enable = {
		is_in_faction_with = GER
		has_War_with = SOV
		SOV = { surrender_progress > 0.05 }
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_armor_score
		id = "SOV"
		value = 100
	}
	ai_strategy = {
		type = front_unit_request
		tag = SOV
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "GER"
		value = 500
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GER"
		value = 2000
	}
	ai_strategy = {
		type = support
		id = "GER"
		value = 1000
	}
	ai_strategy = {
		type = conquer
		id = SOV
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = SOV
		value = 500
	}
	ai_strategy = {
		type = area_priority
		id = europe
		value = 999
	}
	ai_strategy = {
		type = area_priority
		id = africa
		value = -999
	}
	ai_strategy = {
		type = garrison
		value = -90
	}
}

CHI_focus_dongbei = {
	allowed = {
		original_tag = CHI
	}
	enable = {
		country_exists = PRC
		has_global_flag = CHI_no_longer_united_flag
		#716 = { controller = { NOT = { has_war_with = ROOT } } }
		#608 = { controller = { NOT = { has_war_with = ROOT } } }
		NOT = { has_War_with = JAP }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_armor_score
		id = "PRC"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "PRC"
		value = 300
	}
	ai_strategy = {
		type = antagonize
		id = "PRC"
		value = 300
	}
	ai_strategy = {
		type = conquer
		id = "PRC"
		value = 300
	}
	ai_strategy = {
		type = front_unit_request
		tag = PRC
		value = 100
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		target = asia
		value = 500
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "GXC"
		value = 500
	}
	ai_strategy = {
		type = support
		id = "GXC"
		value = 200
	}
	ai_strategy = {
		type = protect
		id = "GXC"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "GXC"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "GXC"
		target = offer_military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "GXC"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "GXC"
		target = offer_military_access
		value = 5000
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "SHX"
		value = 500
	}
	ai_strategy = {
		type = support
		id = "SHX"
		value = 200
	}
	ai_strategy = {
		type = protect
		id = "SHX"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SHX"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SHX"
		target = offer_military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SHX"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SHX"
		target = offer_military_access
		value = 5000
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "SUY"
		value = 500
	}
	ai_strategy = {
		type = support
		id = "SUY"
		value = 200
	}
	ai_strategy = {
		type = protect
		id = "SUY"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SUY"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SUY"
		target = offer_military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SUY"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SUY"
		target = offer_military_access
		value = 5000
	}
	
	ai_strategy = {
		type = front_unit_request

		strategic_region = 155
		strategic_region = 243
		strategic_region = 242

		value = 30 # lets put more units, should be safe
	}
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.2
        area = asia
		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
		states = {
            716
			1010
			609
			608
			606
			328
			
			1043
			598
			607
			597
			744
 		}
	}
	
	
}
warlord_hate_prc = {
	allowed = {
		is_literally_china = yes
	}
	enable = {
		country_exists = PRC
		country_exists = CHI
		has_global_flag = CHI_no_longer_united_flag
		or = { has_government = neutrality has_government = fascism }
		NOT = { TAG = CHI }
		is_neighbor_of = PRC
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_armor_score
		id = "PRC"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "PRC"
		value = 300
	}
	ai_strategy = {
		type = antagonize
		id = "PRC"
		value = 300
	}
	ai_strategy = {
		type = conquer
		id = "PRC"
		value = 300
	}
	ai_strategy = {
		type = front_unit_request
		tag = PRC
		value = 100
	}
	
	ai_strategy = {
		type = support
		id = "CHI"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "CHI"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "CHI"
		target = offer_military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "CHI"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "CHI"
		target = offer_military_access
		value = 5000
	}
	
	ai_strategy = {
		type = support
		id = "SHX"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SHX"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SHX"
		target = offer_military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SHX"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SHX"
		target = offer_military_access
		value = 5000
	}
	
	ai_strategy = {
		type = support
		id = "SUY"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SUY"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "SUY"
		target = offer_military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SUY"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "SUY"
		target = offer_military_access
		value = 5000
	}
	
	ai_strategy = {
		type = support
		id = "GXC"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "GXC"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "GXC"
		target = offer_military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "GXC"
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "GXC"
		target = offer_military_access
		value = 5000
	}
}

GER_is_our_friend = {
    allowed = {
	    OR = {
		    tag = SWE
			tag = SWI
			tag = IRQ
			tag = PER
			TAG = SIA
		}
	}
	enable = {
		is_historical_focus_on = yes
	}
	abort = {
		has_war_with = GER
	}
	
	
	ai_strategy = {
		type = befriend
		id = GER
		value = 200
	}

    
	ai_strategy = {
		type = befriend
		id = ITA
		value = 200
	}

    
	ai_strategy = {
		type = befriend
		id = "VIC"
		value = 100
	}
	
	
	ai_strategy = {
		type = befriend
		id = JAP
		value = 200
	}
}

ITA_focus_on_ethiopian_war = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		has_war_with = ETH
	}
	abort = {
		OR = {
			NOT = { has_war_with = ETH }
			NOT = { country_exists = ETH }
			ETH = { has_capitulated = yes }
			date > 1939.9.1
			any_enemy_country = {
				is_major = yes
				capital_scope = { is_on_continent = europe }
			}
			surrender_progress > 0.05
		}
	}

	ai_strategy = {
		type = consider_weak
		id = ETH
		value = 500
	}
	ai_strategy = {
		type = conquer
		id = ETH
		value = 500
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = ETH
		value = 500
	}
	ai_strategy = {
		type = area_priority
		id = horn_of_africa
		value = 1000
	}
	ai_strategy = {
		type = area_priority
		id = africa
		value = 500
	}
	ai_strategy = {
		type = area_priority
		id = europe
		value = -1000
	}
	
	ai_strategy = {
		type = front_control ratio = 0.6
		
		tag = ETH
		
		priority = 2500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
}

FRA_focus_on_EUROPE_war = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		has_capitulated = no
		any_other_country = {
		    capital_scope = { is_on_continent = europe }
			not = { is_ally_with = root }
			is_major = yes
			is_subject = no
			is_democratic_type = no
		}
	}
	abort = {
		OR = {
			surrender_progress > 0.75
			is_in_faction_with = USA
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = consider_weak
		id = GER
		value = -200
	}
	ai_strategy = {
		type = consider_weak
		id = ITA
		value = -200
	}
	ai_strategy = {
		type = consider_weak
		id = SOV
		value = -200
	}
	
	ai_strategy = {
	 	type = front_unit_request
		tag = GER
		value = 100
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = ITA
		value = 50
	}
	
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 28
		value = 10 #guo
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 735
		value = 5 #guo
	}
	
	ai_strategy = {
		type = area_priority
		id = europe
		value = 150
	}
	ai_strategy = {
		type = area_priority
		id = north_africa
		value = 30
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = FRA
		value = 999
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = BEL
		value = 200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = HOL
		value = 200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = LUX
		value = 200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = SWI
		value = 200
	}
}

jap_heat_no_unplaned_state = {
    allowed = {
		original_tag = JAP
	}
	enable = {
        has_war_with = event_target:WTT_current_china_leader
		has_global_flag = jap_unplanned_offensive_happen
		surrender_progress < 0.05
		check_variable = {
			This.infantry_equipment_deficit < 20000 #guo
		}
		event_target:WTT_current_china_leader = { surrender_progress > 0.2 }
	}
	abort = {
	    614 = { is_controlled_by_jap_or_its_puppet = yes }
		1043 = { is_controlled_by_jap_or_its_puppet = yes }
		1034 = { is_controlled_by_jap_or_its_puppet = yes }
		1032 = { is_controlled_by_jap_or_its_puppet = yes }
		592 = { is_controlled_by_jap_or_its_puppet = yes }
		591 = { is_controlled_by_jap_or_its_puppet = yes }
		597 = { is_controlled_by_jap_or_its_puppet = yes }
		1028 = { is_controlled_by_jap_or_its_puppet = yes }
		743 = { is_controlled_by_jap_or_its_puppet = yes }
		598 = { is_controlled_by_jap_or_its_puppet = yes }
		749 = { is_controlled_by_jap_or_its_puppet = yes }
		606 = { is_controlled_by_jap_or_its_puppet = yes }
		1015 = { is_controlled_by_jap_or_its_puppet = yes }
		596 = { is_controlled_by_jap_or_its_puppet = yes }
		615 = { is_controlled_by_jap_or_its_puppet = yes }
		1014 = { is_controlled_by_jap_or_its_puppet = yes }
		1013 = { is_controlled_by_jap_or_its_puppet = yes }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control
		
		country_trigger = { has_War_with = JAP }
		state_trigger = { OR = { region = 143 region = 247 region = 164 } NOT = { has_state_flag = jap_unplanned_offensive_state }
		not = { state = 1016 state = 622 state = 1030 state = 1027 state = 607 state = 1033 state = 595 state = 746 }
		}
		
		ratio = 0.25
		
		priority = 3000
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
	
	ai_strategy = {
		type = consider_weak
		id = CHI
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = HPC
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = SHD
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = XIA
		value = 200
	}
}
jap_dont_heat_unplaned_state = {
    allowed = {
		original_tag = JAP
	}
	enable = {
        has_war_with = event_target:WTT_current_china_leader
		has_global_flag = jap_unplanned_offensive_happen
		OR = {
		date > 1941.6.1
		any_enemy_country = { is_literally_china = no is_major = yes } #oh no the usa!
		}
		614 = { is_controlled_by_jap_or_its_puppet = yes }
		1043 = { is_controlled_by_jap_or_its_puppet = yes }
		1034 = { is_controlled_by_jap_or_its_puppet = yes }
		1032 = { is_controlled_by_jap_or_its_puppet = yes }
		592 = { is_controlled_by_jap_or_its_puppet = yes }
		591 = { is_controlled_by_jap_or_its_puppet = yes }
		597 = { is_controlled_by_jap_or_its_puppet = yes }
		1028 = { is_controlled_by_jap_or_its_puppet = yes }
		743 = { is_controlled_by_jap_or_its_puppet = yes }
		598 = { is_controlled_by_jap_or_its_puppet = yes }
		749 = { is_controlled_by_jap_or_its_puppet = yes }
		606 = { is_controlled_by_jap_or_its_puppet = yes }
		1015 = { is_controlled_by_jap_or_its_puppet = yes }
		596 = { is_controlled_by_jap_or_its_puppet = yes }
		615 = { is_controlled_by_jap_or_its_puppet = yes }
		1014 = { is_controlled_by_jap_or_its_puppet = yes }
		1013 = { is_controlled_by_jap_or_its_puppet = yes }
		
		OR = {
		event_target:WTT_current_china_leader = { surrender_progress > 0.3 }
		}
	}
	abort = { OR = { has_completed_focus = JAP_secure_china date > 1944.4.1 } }
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		strategic_region = 246
		strategic_region = 248
		strategic_region = 245
		strategic_region = 165
		strategic_region = 249
		strategic_region = 144
		
		priority = 2500
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	
}
JAP_ichi_go_rush = {
	allowed = {
		original_tag = JAP
	}
	enable = {
	    has_war_with = event_target:WTT_current_china_leader
	    or = { has_idea = JAP_ichi_go and = { has_global_flag = kmt_wannan_attack has_idea = JAP_one_hit_theory_for_player } }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.60

		tag = CHI
		tag = NEA
        tag = GXC
		tag = XIA
		tag = HPC
		tag = SHD
		tag = GUD

		priority = 12000
		
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
	
	ai_strategy = {
		type = consider_weak
		id = CHI
		value = 15000
	}
	ai_strategy = {
		type = conquer
		id = CHI
		value = 2000
	}
	ai_strategy = {
		type = antagonize
		id = CHI
		value = 2000
	}
	ai_strategy = {
		type = consider_weak
		id = NEA
		value = 15000
	}
	ai_strategy = {
		type = conquer
		id = NEA
		value = 2000
	}
	ai_strategy = {
		type = antagonize
		id = NEA
		value = 2000
	}
	ai_strategy = {
		type = consider_weak
		id = GXC
		value = 15000
	}
	ai_strategy = {
		type = conquer
		id = GXC
		value = 2000
	}
	ai_strategy = {
		type = antagonize
		id = GXC
		value = 2000
	}
	ai_strategy = {
		type = consider_weak
		id = YUN
		value = 12500
	}
	ai_strategy = {
		type = consider_weak
		id = GUD
		value = 12500
	}
	ai_strategy = {
		type = consider_weak
		id = XIA
		value = 12500
	}
	ai_strategy = {
		type = antagonize
		id = XIA
		value = 2000
	}
	
    
}

we_love_cold_war = {
	enable = {
	    is_historical_focus_on = yes
		has_global_flag = nato_suggested
	    or = {
		has_idea = nato_member
		has_idea = warsaw_member
		is_in_faction_with = SOV
		is_in_faction_with = ENG
		is_in_faction_with = USA
		}
	}
	abort = {
	    has_war = yes
	}

	ai_strategy = {
		type = avoid_starting_wars
		# no need of id for this one
		value = 9999 # this value is additive with the 'conquer' strategy, and is targetless. It is meant for very specific situations, and should not be used widely.
	}
	
	ai_strategy = {
		type = declare_war
		id = GRE
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = SPR
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = TUR
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = POR
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = ROM
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = BUL
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = YUG
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = ALB
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = HUN
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = CZE
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = POL
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = SOV
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = USA
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = ENG
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = FRA
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = CHI
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = PRC
		value = -9999
	}
}

PRC_stop_push_gsm = {
	allowed = {
		original_tag = PRC
	}
	enable = {
	    is_historical_focus_on = yes
	    has_war_with = GSM
		or = {
	    controls_province = 13290
		GSM = { surrender_progress > 0.1 }
		}
	}
	abort = {
	    date > 1937.7.7
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = consider_weak
		id = GSM
		value = -9999
	}
	ai_strategy = {
		type = front_unit_request
		tag = GSM
		value = -50
	}
	ai_strategy = {
		type = conquer
		id = GSM
		value = -999
	}
    ai_strategy = {
		type = antagonize
		id = GSM
		value = -999
	}
	
	ai_strategy = {
		type = consider_weak
		id = NXM
		value = -9999
	}
	ai_strategy = {
		type = consider_weak
		id = XSM
		value = -9999
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		tag = GSM
		state = 1044
		state = 756
		
		priority = 12000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
}

ITA_GRE_is_gers_pick = {
	allowed = {
		original_tag = ITA
	}
	enable = {
	    is_historical_focus_on = yes
	    has_war_with = GRE
	    is_in_faction_with = GER
	}
	abort = {
	    OR = {
	    date > 1941.5.1#after this may be too late
		GRE = { has_capitulated = yes }
		}
	}

	ai_strategy = {
		type = consider_weak
		id = GRE
		value = -7590
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		tag = GRE
		
		priority = 2500
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = ALB
		value = 200
	}
}
GER_dont_into_ALB = {
	allowed = {
		NOT = { original_tag = ITA }
	}
	enable = {
	    is_historical_focus_on = yes
	    is_in_faction_with = GER
		ALB = { is_subject_of = ITA }
	}
	abort = {
	    OR = {
	    date > 1941.3.15#after this may be too late
		ALB = { surrender_progress > 0.5 }
		has_War_with = YUG
		is_ally_with = YUG
		NOT = { country_exists = YUG }
		}
	}

	ai_strategy = {
		type = consider_weak
		id = GRE
		value = -200
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		tag = GRE
		
		priority = 2500
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = ALB
		value = 7590
	}
}

sov_dont_care_west_europe = {
	enable = {
	    OR = {
		tag = SOV
		is_in_faction_with = SOV
	    }
		has_war_with = GER
		is_historical_focus_on = yes
		has_war_together_with = ENG
	    date < 1945.3.1
		GER = { is_ai = yes }
		OR = { 64 = { is_controlled_by = root } any_allied_country = { controls_state = 64 } }
		9 = { is_controlled_by_ROOT_or_ally = yes }
		4 = { is_controlled_by_ROOT_or_ally = yes }
	}
	abort = {
	    OR = {
	    ENG = { surrender_progress > 0.07 }
		has_war_with = ENG
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = dont_defend_ally_borders
		value = 9999
		id = ITA
	}
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		state = 39
		state = 160
		state = 850
		state = 159
		state = 161
		
		priority = 1500
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 11
		strategic_region = 275
		strategic_region = 6
		strategic_region = 23
		strategic_region = 7
		
		
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		
		strategic_region = 23
		
		
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		
		state = 47
		state = 186
		state = 161
		state = 162
		
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		
		state = 39
		state = 160
		state = 850
		state = 159
		
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		
		state = 160
		
		
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		
		state = 39
		
		
		value = -9999
	}
	ai_strategy = {
	 	type = invasion_unit_request
		strategic_region = 11
		strategic_region = 275
		strategic_region = 6
		strategic_region = 23
		strategic_region = 7
		
		
		value = -9999
	}
	ai_strategy = {
	 	type = invasion_unit_request
		
		state = 47
		state = 186
		state = 161
		state = 162
		
		value = -9999
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = POL
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = CZE
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = YUG
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = HUN
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = BUL
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = ROM
	}
}

ally_dont_care_bargan = {
	enable = {
		OR = {
		tag = USA
		is_in_faction_with = ENG
	    }
		has_war_with = GER
		is_historical_focus_on = yes
		has_war_together_with = SOV
	}
	abort = {
	    OR = {
	    SOV = { surrender_progress > 0.67 }
		has_war_with = SOV
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 26
		strategic_region = 24
		strategic_region = 134
		strategic_region = 135
		value = -9999
	}
	ai_strategy = {
	 	type = invasion_unit_request
		strategic_region = 26
		strategic_region = 24
		strategic_region = 134
		strategic_region = 135
		value = -9999
	}
	ai_strategy = {
		type = front_control 
		priority = 999
		strategic_region = 26
		strategic_region = 24
		ordertype = invasion
		execute_order = no
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = GRE
	}
}

ally_normandy_first = {
	enable = {
		OR = {
		tag = USA
		is_in_faction_with = ENG
	    }
		is_in_faction_with = FRA
		FRA = { has_capitulated = yes }
		has_war_with = GER
		date < 1944.10.1
	}
	abort = {
	    15 = { is_controlled_by_ROOT_or_ally = yes }
	    14 = { is_controlled_by_ROOT_or_ally = yes }
	    785 = { is_controlled_by_ROOT_or_ally = yes }
		16 = { is_controlled_by_ROOT_or_ally = yes }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 20
		value = -9999
	}
	ai_strategy = {
	 	type = invasion_unit_request
		strategic_region = 20
		value = -9999
	}
	ai_strategy = {
		type = area_priority
		id = southern_france_area
		value = -9999
	}
	ai_strategy = {
		type = front_control 
		priority = 999
		strategic_region = 20
		ordertype = invasion
		execute_order = no
	}
}

axis_dont_invade_sov = {
	enable = {
		OR = {
		tag = GER
		tag = FIN
		is_in_faction_with = GER
	    }
	}
	abort = { always = no }
	
	ai_strategy = {
	 	type = invasion_unit_request
		tag = SOV
		value = -9999
	}
	ai_strategy = {
		type = invade
		id = SOV
		value = -9999
	}
	
	ai_strategy = {
	 	type = invasion_unit_request
		tag = FIN
		value = -9999
	}
	ai_strategy = {
		type = invade
		id = FIN
		value = -9999
	}
}

SIA_love_Japan = {
	enable = {
		capital_scope = {
			is_on_continent = asia
		}
		is_literally_china = no
		OR = {
		has_government = fascism
		has_government = neutrality
	    }
		JAP = {
		is_faction_leader = yes
		is_subject = no
		OR = {
		has_government = fascism
		has_government = neutrality
	    }
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = GER
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = ITA
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = HUN
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = ROM
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = BUL
		value = -50000
	}
}

soviet_hate_kmt = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		is_historical_focus_on = yes
		has_government = communism
		country_exists = event_target:WTT_communist_china
		not = { is_in_faction_with = CHI }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = CHI
		value = -95000
	}
}
warlord_hate_soviet = {
	enable = {
		OR = {
		is_literally_china = yes
		tag = SIK
		tag = TIB
	    }
		is_historical_focus_on = yes
		is_in_faction = no
	}
	abort = {
	    has_government = SOV
	}
	
	ai_strategy = {
		type = alliance
		id = SOV
		value = -95000
	}
	ai_strategy = {
		type = befriend
		id = SOV
		value = -100
	}
}
warlord_hate_ally = {
	enable = {
		OR = {
		is_literally_china = yes
		tag = SIK
		tag = TIB
	    }
		is_historical_focus_on = yes
		is_in_faction = no
	}
	abort = {
	    or = { is_democratic_type = yes has_government = ENG has_government = USA has_government = FRA}
	}
	
	ai_strategy = {
		type = alliance
		id = ENG
		value = -95000
	}
	ai_strategy = {
		type = alliance
		id = USA
		value = -95000
	}
	ai_strategy = {
		type = alliance
		id = FRA
		value = -95000
	}
}

GER_just_war_by_focus = {
    allowed = {
		original_tag = GER
	}
	enable = {
		is_historical_focus_on = yes
		has_government = fascism
		has_war = no
		date < 1939.9.1
	}
	abort = {
	    date > 1939.8.31
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = ignore_claim
		id = POL
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = CZE
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = DEN
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = HOL
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = BEL
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = LUX
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = NOR
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = SWE
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = SWI
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = POL
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = YUG
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = GRE
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = FRA
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = ENG
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = IRE
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = SOV
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = ROM
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = HUN
		value = 1
	}
}
GER_just_war_by_focus_2 = {
    allowed = {
		original_tag = GER
	}
	enable = {
		is_historical_focus_on = yes
		has_government = fascism
		not = { has_War_with = SOV }
	}
	abort = {
	    date > 1941.6.21
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = ignore_claim
		id = SOV
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = LAT
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = LIT
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = EST
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = FIN
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = TUR
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = PER
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = ROM
		value = 1
	}
}

IRE_is_friend = {
    allowed = {
		always = yes
	}
	enable = {
		is_democratic_type = yes
		IRE = {
		is_democratic_type = yes
		}
	}
	abort = {
	  OR = {
		IRE = { has_added_tension_amount > 0.1 }
		has_opinion = { target = IRE value < -50 }
		has_War_with = IRE
	  }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = declare_war
		id = IRE
		value = -9999
	}
	ai_strategy = {
		type = avoid_starting_wars
		id = "IRE"
		value = 200
	}
	ai_strategy = {
		type = conquer
		id = IRE
		value = -500
	}
	ai_strategy = {
		type = contain
		id = IRE
		value = -200
	}
	ai_strategy = {
		type = ignore_claim
		id = IRE
		value = 1
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = IRE
		value = -999
	}
	ai_strategy = {
		type = prepare_for_war
		id = IRE
		value = -999
	}
	
	ai_strategy = {
		type = antagonize
		id = IRE
		value = -200
	}
	
}

sov_dont_care_puppet = {
    allowed = {
		original_tag = SOV
	}
	enable = {
		JAP = {
		OR = {
		is_subject = yes
		is_puppet = yes
		}
		}
		is_historical_focus_on = yes
	}
	abort = {
	    has_war_with = JAP
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = declare_war
		id = JAP
		value = -50000
	}
	ai_strategy = {
		type = avoid_starting_wars
		id = "JAP"
		value = 200
	}
	ai_strategy = {
		type = conquer
		id = JAP
		value = -5000
	}
	ai_strategy = {
		type = ignore_claim
		id = JAP
		value = 1
	}
}

ROM_is_friend = {
	enable = {
		is_in_faction_with = GER
		GER = { has_government = fascism }
		ROM = {
		NOT = {
		has_government = communism
		has_war_with = root
		}
		is_in_faction = no
		is_subject = no
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = befriend
		id = ROM
		value = 200
	}
	ai_strategy = {
		type = alliance
		id = ROM
		value = 200
	}
	ai_strategy = {
		type = declare_war
		id = ROM
		value = -50000
	}
	ai_strategy = {
		type = avoid_starting_wars
		id = "ROM"
		value = 200
	}
	ai_strategy = {
		type = antagonize
		id = ROM
		value = -100
	}
	ai_strategy = {
		type = conquer
		id = ROM
		value = -750
	}
	ai_strategy = {
		type = ignore_claim
		id = ROM
		value = 1
	}
	ai_strategy = {
		type = protect
		id = ROM
		value = 200
	}
}

GER_help_subject = {
    allowed = {
	    original_tag = GER
	}
	enable = {
		has_war = yes
		surrender_progress < 0.15
		any_other_country = {
		is_in_faction_with = root
		surrender_progress > 0
		capital_scope = {
				is_on_continent = europe
			}
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = force_defend_ally_borders
		value = 500
		target = europe
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		id = RSI
	}
	ai_strategy = {
		type = protect
		value = 200
		id = RSI
	}
	
	ai_strategy = {
		type = dont_defend_ally_borders
		value = 999
		target = asia
	}
}
GER_buffer_berlin = {
    allowed = {
	    original_tag = GER
	}
	enable = {
		has_war = yes
		controls_state = 64
		or = {
		not = { has_full_control_of_state = 64 }
		not = { has_full_control_of_state = 68 }
		not = { has_full_control_of_state = 63 }
		not = { has_full_control_of_state = 66 }
		not = { has_full_control_of_state = 69 }
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.15
        area = europe
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = {
            64
			62
			65
			69
 		}
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 64
		value = 15
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 62
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 65
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 69
		value = 5
	}
}

SOV_buffer_gaojiasuo = {
    allowed = {
	    original_tag = SOV
	}
	enable = {
		has_war = yes
		controls_state = 229
		or = {
		not = { has_full_control_of_state = 245 }
		not = { has_full_control_of_state = 238 }
		not = { has_full_control_of_state = 217 }
		not = { has_full_control_of_state = 234 }
		not = { has_full_control_of_state = 230 }
		not = { has_full_control_of_state = 229 }
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.08
        area = gaojiasuo
		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
		states = {
            229
			821
			232
			231
 		}
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 231
		value = 2
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 821
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 232
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 229
		value = 8
	}
}
SOV_buffer_leningrad = {
    allowed = {
	    original_tag = SOV
	}
	enable = {
		has_war = yes
		controls_state = 195
		or = {
		surrender_progress > 0.2
		not = { has_full_control_of_state = 195 }
		not = { has_full_control_of_state = 146 }
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.05
        area = europe
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = {
            195
 		}
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 195
		value = 10
	}
}
SOV_buffer_moscow = {
    allowed = {
	    original_tag = SOV
	}
	enable = {
		has_war = yes
		controls_state = 219
		or = {
		surrender_progress > 0.3
		not = { has_full_control_of_state = 219 }
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.08
        area = europe
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = {
            219
 		}
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 219
		value = 8
	}
}
SOV_buffer_Stalingrad = {
    allowed = {
	    original_tag = SOV
	}
	enable = {
		has_war = yes
		controls_state = 217
		or = {
		surrender_progress > 0.3
		not = { has_full_control_of_state = 217 }
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.04
        area = europe
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = {
            217
			236
 		}
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 217
		value = 8
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 236
		value = 3
	}
}

prc_dont_rush_kmt_too_early = {
    allowed = {
	    original_tag = PRC
	}
	enable = {
		has_war_with = CHI
		has_global_flag = PRC_civil_war_started
	}
	abort = {
		has_global_flag = { flag = PRC_civil_war_started days > 365 }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = invasion_unit_request
		country_trigger = { always = yes }

		value = -9999
	}
	
	ai_strategy = {
		type = front_control ratio = 1 #guo
		
		tag = CHI
		
		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		tag = SUY
		
		priority = 500
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		tag = SHX
		
		priority = 500
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		tag = GSM
		tag = NXM
		tag = XSM
		
		priority = 500
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	
	ai_strategy = {
		type = consider_weak
		id = CHI
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = SHX
		value = -200
	}
	ai_strategy = {
		type = consider_weak
		id = SUY
		value = -200
	}
	ai_strategy = {
		type = consider_weak
		id = GSM
		value = -200
	}
	ai_strategy = {
		type = consider_weak
		id = NXM
		value = -200
	}
	ai_strategy = {
		type = consider_weak
		id = XSM
		value = -200
	}
}
prc_time_to_rush_kmt = {
    allowed = {
	    original_tag = PRC
	}
	enable = {
		has_war_with = CHI
		has_global_flag = { flag = PRC_civil_war_started days > 365 }
		check_variable = {
			This.infantry_equipment_deficit < 25000 #guo
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = invasion_unit_request
		country_trigger = { always = yes }

		value = -9999
	}
	
	ai_strategy = {
		type = front_control ratio = 0.6
		
		tag = CHI
		
		priority = 7500
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.25
		
		tag = SUY
		
		priority = 200
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.25
		
		tag = SHX
		
		priority = 200
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.25
		
		tag = GSM
		tag = NXM
		tag = XSM
		
		priority = 200
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
	
	ai_strategy = {
		type = consider_weak
		id = CHI
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = SHX
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = SUY
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = GSM
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = NXM
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = XSM
		value = 500
	}
}

sov_stop_for_a_while = {
    allowed = {
	    original_tag = SOV
	}
	enable = {
		is_historical_focus_on = yes
		OR = {
		has_war_together_with = ENG
		has_war_together_with = USA
		has_war_together_with = FRA
		}
		has_war_with = GER
		#GER = { 
		#is_ai = yes
		#}
		#USA = { is_ai = yes }
		#ENG = { is_ai = yes }
		#FRA = { is_ai = yes }
		ENG = { surrender_progress < 0.1 }
		GER = { surrender_progress < 0.05 }
		16 = { is_controlled_by_enemy = yes }
		has_full_control_of_state = 219
		has_full_control_of_state = 217
		or = {
	controls_state = 226
	controls_state = 193
	controls_state = 834
	controls_state = 198
	    }
		controls_state = 209
		controls_state = 202
		date > 1942.1.1
		date < 1944.6.22
		surrender_progress < 0.3
	}
	abort = {
		west_europe_is_dangerous = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		area = West_of_Ural_Mountains
		
		priority = 12000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	ai_strategy = {
		type = consider_weak
		id = GER
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = ROM
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = HUN
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = BUL
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = SLO
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = ITA
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = FIN
		value = -7590
	}
}

ally_stop_in_italy = {
	enable = {
		is_historical_focus_on = yes
		is_ally_faction_country = yes
		OR = {
		has_war_together_with = SOV
		}
		has_war_with = GER
		GER = { is_ai = yes }
		SOV = { surrender_progress > 0.05 }
		117 = { is_controlled_by_ROOT_or_ally = yes }
		849 = { is_controlled_by_ROOT_or_ally = yes }
		115 = { is_controlled_by_ROOT_or_ally = yes }
		156 = { is_controlled_by_ROOT_or_ally = yes }
		157 = { is_controlled_by_ROOT_or_ally = yes }
		2 = { is_controlled_by_ROOT_or_ally = yes }
		date < 1944.4.1
	}
	abort = {
		has_global_flag = d_day_happened
		west_europe_is_dangerous = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		strategic_region = 23
		strategic_region = 21
		
		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = consider_weak
		id = RSI
		value = -7590
	}
	ai_strategy = {
		type = consider_weak
		id = ITA
		value = -7590
	}
}

SPR_dont_care_por = {
    allowed = {
		original_tag = SPR
	}
	enable = {
		has_civil_war = yes
	}
	abort = {
		has_war_with = POR
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = POR
		value = -9999
	}
	ai_strategy = {
		type = prepare_for_war
		id = POR
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = POR
		value = -9999
	}
	ai_strategy = {
		type = ignore
		id = POR
		value = 9999
	}
}
SPR_dont_care_fra = {
    allowed = {
		original_tag = SPR
	}
	enable = {
		has_civil_war = yes
	}
	abort = {
		has_war_with = FRA
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = FRA
		value = -9999
	}
	ai_strategy = {
		type = prepare_for_war
		id = FRA
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = FRA
		value = -9999
	}
	ai_strategy = {
		type = ignore
		id = FRA
		value = 9999
	}
}

TNG_will_lose = {
    allowed = {
		original_tag = TNG
	}
	enable = {
		is_historical_focus_on = yes
		date > 1937.10.1#historically lose after this time
		HMI = { is_ai = yes }
		KHR = {
		if = {
		limit = { exists = yes }
		is_ai = yes
		}
		else = { always = yes }
		}
		SOV = { is_ai = yes has_civil_war = no }
		CHI = { is_ai = yes has_civil_war = no }
		
		not = {
		any_other_country = {
		is_neighbor_of = SIK
		is_ai = no
		}
		}
	}
	abort = {
		SIK = {
		is_ai = no
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = SIK
		value = -9999
	}
	ai_strategy = {
		type = prepare_for_war
		id = SIK
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = SIK
		value = -9999
	}
	ai_strategy = {
		type = antagonize
		id = SIK
		value = -9999
	}
	ai_strategy = {
		type = befriend
		id = SIK
		value = 9999
	}
	ai_strategy = {
		type = ignore
		id = SIK
		value = 9999
	}
	
	ai_strategy = {
		type = prepare_for_war
		id = XSM
		value = 9999
	}
	ai_strategy = {
		type = front_unit_request
		tag = XSM
		value = 9999
	}
	ai_strategy = {
		type = antagonize
		id = XSM
		value = 200
	}
	ai_strategy = {
		type = conquer
		id = XSM
		value = 200
	}
	
	ai_strategy = {
		type = garrison
		value = -90
	}
}

sov_dont_care_turkey = {
    allowed = {
		always = yes
	}
	enable = {
		is_historical_focus_on = yes
		any_enemy_country = {
		is_major = yes
		not = { is_in_faction_with = TUR }
		}
		TUR = { is_ai = yes }
	}
	abort = {
		has_War_with = TUR
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = TUR
		value = -999
	}
	ai_strategy = {
		type = prepare_for_war
		id = TUR
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = TUR
		value = -999
	}
	ai_strategy = {
		type = ignore
		id = TUR
		value = 999
	}
}
sov_dont_care_AFG = {
    allowed = {
		always = yes
	}
	enable = {
		is_historical_focus_on = yes
		any_enemy_country = {
		is_major = yes
		not = { is_in_faction_with = AFG }
		}
		AFG = { is_ai = yes }
	}
	abort = {
		has_War_with = AFG
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = AFG
		value = -999
	}
	ai_strategy = {
		type = prepare_for_war
		id = AFG
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = AFG
		value = -999
	}
	ai_strategy = {
		type = ignore
		id = AFG
		value = 999
	}
}
sov_dont_care_sik = {
    allowed = {
		always = yes
	}
	enable = {
		is_historical_focus_on = yes
		any_enemy_country = {
		is_major = yes
		not = { is_in_faction_with = SIK }
		}
		SIK = { OR = { is_ai = yes has_government = root } }
	}
	abort = {
		has_War_with = SIK
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = SIK
		value = -999
	}
	ai_strategy = {
		type = prepare_for_war
		id = SIK
		value = -999
	}
	ai_strategy = {
		type = conquer
		id = SIK
		value = -999
	}
	
}

sov_care_japan_a_bit = {
    allowed = {
		original_tag = SOV
	}
	enable = {
	    OR = {
		is_historical_focus_on = no
		JAP = { is_ai = no }
		}
	}
	abort = {
		OR = {
		is_ally_with = JAP
		has_non_aggression_pact_with = JAP
		has_government = JAP
		has_civil_war = yes
		}
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = JAP
		value = 30
	}
	ai_strategy = {
	 	type = front_armor_score
		id = "JAP"
		value = 25
	}
	ai_strategy = {
		type = front_unit_request
		tag = MAN
		value = 30
	}
	ai_strategy = {
	 	type = front_armor_score
		id = "MAN"
		value = 25
	}
}

ENG_is_very_cool_when_socialism = {
	enable = {
		OR = {
		    has_government = n_socialism
		    has_government = democratic
		}
	    ENG = {
		has_government = n_socialism
		}
	}
	abort = {
		has_war_with = ENG
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = befriend
		id = "ENG"			
		value = 200
	}
    
}
FRA_is_very_cool_when_socialism = {
	enable = {
		OR = {
		    has_government = n_socialism
		    has_government = democratic
		}
	    FRA = {
		has_government = n_socialism
		}
	}
	abort = {
		has_war_with = FRA
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = befriend
		id = "FRA"			
		value = 200
	}
    
}
USA_is_very_cool_when_socialism = {
	enable = {
		OR = {
		    has_government = n_socialism
		    has_government = democratic
		}
	    USA = {
		has_government = n_socialism
		}
	}
	abort = {
		has_war_with = USA
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = befriend
		id = "USA"			
		value = 200
	}
    
}
CHI_is_very_cool_when_socialism = {
	enable = {
		OR = {
		    has_government = n_socialism
		    has_government = democratic
		}
	    CHI = {
		has_government = n_socialism
		}
	}
	abort = {
		has_war_with = CHI
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = befriend
		id = "CHI"			
		value = 200
	}
    
}
JAP_is_very_cool_when_socialism = {
	enable = {
		OR = {
		    has_government = n_socialism
		    has_government = democratic
		}
	    JAP = {
		has_government = n_socialism
		}
	}
	abort = {
		has_war_with = JAP
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = befriend
		id = "JAP"			
		value = 200
	}
    
}

ENG_HATE_IRE = {
    allowed = {
		original_tag = ENG
	}
	enable = {     
    original_tag = ENG	
    NOT = { is_in_faction_with = IRE }   
	IRE = {
	OR = {
    has_idea = IRE_trade_war
	has_idea = IRE_trade_war2
    }	
	}
	has_civil_war = no
	}

    abort = {
		OR = {
		has_War_with = IRE
		has_war_together_with = IRE
		IRE = { has_idea = IRE_trade_war_cooling }
		}
	}

    abort_when_not_enabled = yes
	
    ai_strategy = {
		type = alliance
		id = IRE
		value = -999
	}
	ai_strategy = {
		type = antagonize
		id = IRE
		value = 20
	}
}
IRE_HATE_ENG = {
    allowed = {
		original_tag = IRE
	}
	enable = {     
    original_tag = IRE	
    NOT = { is_in_faction_with = ENG }                                 
	OR = {
    has_idea = IRE_trade_war
	has_idea = IRE_trade_war2
    }	
	has_civil_war = no
	}

    abort = {
	    OR = {
		has_War_with = ENG
		has_war_together_with = ENG
		has_idea = IRE_trade_war_cooling
		}
	}

    abort_when_not_enabled = yes
		
    ai_strategy = {
		type = alliance
		id = ENG
		value = -999
	}
	ai_strategy = {
		type = antagonize
		id = ENG
		value = 20
	}
}

ally_help_invade_japan = {
	allowed = {
		or = {
		tag = USA
		tag = SOV
		tag = ENG
		tag = AST
		tag = NZL
		tag = FRA
		tag = CHI
		}
	}
	enable = {
	    has_war_with = JAP
		surrender_progress < 0.1
		JAP = { surrender_progress > 0.1 }
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = dont_defend_ally_borders
		value = -9999
		target = asia
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 5000
		target = asia
	}
	ai_strategy = {
		type = invade
		id = JAP
		value = 2000
	}
	ai_strategy = {
		type = front_unit_request
		tag = JAP
		value = 300
	}
}

always_dont_invade_AST_mainland = {
	allowed = {
		always = yes
	}
	enable = {
	    has_war_with = AST
		has_War_with = event_target:WTT_current_china_leader
		event_target:WTT_current_china_leader = { has_capitulated = no }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control 
		priority = 999
		strategic_region = 193
		strategic_region = 156
		strategic_region = 194
		strategic_region = 157
		
		ordertype = invasion
		execute_order = no
	}
	
	ai_strategy = {
	 	type = invasion_unit_request
		strategic_region = 193
		strategic_region = 156
		strategic_region = 194
		strategic_region = 157
		
		value = -9999
	}
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 193
		strategic_region = 156
		strategic_region = 194
		strategic_region = 157
		
		value = -9999
	}
	
}

always_dont_invade_japan_mainland = {
	allowed = {
		always = yes
	}
	enable = {
	    has_war_with = JAP
		JAP = {
		or = {
		has_government = fascism
		has_government = neutrality
		}
		surrender_progress < 0.1
		}
	}
	abort = {
	    date > 1945.9.1
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control 
		priority = 9999
		strategic_region = 154
		ordertype = invasion
		execute_order = no
	}
	ai_strategy = {
		type = front_control 
		priority = 10000
		area = home_islands
		ordertype = invasion
		execute_order = no
	}
	
	ai_strategy = {
	 	type = invasion_unit_request
		strategic_region = 154
		strategic_region = 186
		strategic_region = 159
		strategic_region = 187
		strategic_region = 158
		strategic_region = 188
		strategic_region = 142
		strategic_region = 228
		strategic_region = 93
		strategic_region = 155
		
		strategic_region = 247
		strategic_region = 164
		strategic_region = 143
		strategic_region = 248
		
		value = -9999
	}
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 154
		value = -9999
	}
	ai_strategy = {
	 	type = invasion_unit_request
		strategic_region = 154
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = home_islands
		value = -9999
	}
	ai_strategy = {
	 	type = invasion_unit_request
		area = home_islands
		value = -9999
	}
	
	ai_strategy = {
	 	type = invasion_unit_request
		state = 537
		value = -9999
	}
	
	ai_strategy = {
	 	type = invasion_unit_request
		state = 524
		value = -9999
	}
	
}
ally_dont_invade_japan_now = { #wait for nuke
	enable = {
	    has_war_with = JAP
		is_historical_focus_on = yes
		date < 1945.9.1
		or = {
		tag = ENG
		tag = USA
		is_in_faction_with = ENG
		}
		if = {
		limit = { is_in_faction_with = PHI }
		PHI = { has_capitulated = no controls_state = 327 }
		}
		else = { always = yes }
			OR = { #guo
			    controls_state = 645
			    645 = {
				    controller = {
					    has_war_with = JAP
		            }
			    }
			}
	        OR = { #guo
			    controls_state = 526
			    526 = {
				    controller = {
					    has_war_with = JAP
		            }
			    }
			}
			OR = { #guo
			    controls_state = 737
			    737 = {
				    controller = {
					    has_war_with = JAP
		            }
			    }
			}
	        OR = { #guo
			    controls_state = 634
			    634 = {
				    controller = {
					    has_war_with = JAP
		            }
			    }
			}
			OR = { #guo
			    controls_state = 523
			    523 = {
				    controller = {
					    has_war_with = JAP
		            }
			    }
			}
	}
	abort = {
	    JAP = { surrender_progress > 0.1 }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = invade
		id = "JAP"
		value = -9999
	}
    ai_strategy = {
		type = invasion_unit_request
		tag = JAP
		value = -9999
	}
}

sov_should_dont_invade_japan_island = {
    allowed = {
		original_tag = SOV
	}
	enable = {
	    has_war_with = JAP
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = invade
		id = JAP
		value = -2000
	}
}

GER_enter_fin = {
	allowed = {
		original_tag = GER
	}
	enable = {
	    or = {
		has_attache_from = FIN
		is_in_faction_with = FIN
		FIN = { has_idea = fin_ger_brother }
		}
	}
	abort = {
	    has_war_with = FIN
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.03
        area = europe
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = {
            148
 		}
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = FIN
		value = 7590
	}
}
GER_enter_fin_2 = {
	allowed = {
		always = yes
	}
	enable = {
	    or = {
		has_attache_from = FIN
		is_in_faction_with = FIN
		FIN = { has_idea = fin_ger_brother }
		}
		is_axis_faction_country = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = dont_defend_ally_borders
		id = FIN
		value = 7590
	}
}

GER_enter_rom = {
	allowed = {
		original_tag = GER
	}
	enable = {
	    or = {
		has_attache_from = ROM
		is_in_faction_with = ROM
		}
	}
	abort = {
	    has_war_with = ROM
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.01
        area = europe
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = {
            46
 		}
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = ROM
		value = 200
	}
}

GER_rommel_in_africa_GEF = {
	allowed = {
		original_tag = LBA
	}
	enable = {
		has_country_flag = GER_erwin_rommel_in_africa
	}
	abort = {
	    always = no
	}
	
	ai_strategy = {
		type = garrison
		value = -90
	}
	
	ai_strategy = {
		type = befriend
		id = GER
		value = 600
	}
	ai_strategy = {
		type = alliance
		id = GER
		value = 9999
	}
	
	ai_strategy = {
		type = befriend
		id = ITA
		value = 200
	}
	ai_strategy = {
		type = alliance
		id = ITA
		value = 9999
	}
	
	ai_strategy = {
		type = consider_weak
		id = EGY
		value = 200
	}
	ai_strategy = {
		type = conquer
		id = EGY
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = EGY
		value = 1000
	}
	ai_strategy = {
		type = consider_weak
		id = ENG
		value = 200
	}
	ai_strategy = {
		type = conquer
		id = ENG
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = ENG
		value = 1000
	}
	ai_strategy = {
		type = consider_weak
		id = FRA
		value = 200
	}
	ai_strategy = {
		type = conquer
		id = FRA
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = FRA
		value = 1000
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = GER
		value = 200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = ITA
		value = 200
	}
    
	ai_strategy = {
		type = dont_defend_ally_borders
		target = europe
		value = 9999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = asia
		value = 9999
	}
	ai_strategy = {
		type = force_defend_ally_borders
		target = north_africa
		value = 9999
	}
	ai_strategy = {
        type = area_priority
        id = north_africa
        value = 9999
    }
	ai_strategy = {
	 	type = front_unit_request
		area = north_africa
		value = 9999
	}
	
	ai_strategy = {
		type = support
		id = GER
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GER
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GER
		value = -99999
	}
	
	ai_strategy = { type = diplo_action_desire id = GER target = send_expeditionary_force value = -99999 }
	ai_strategy = { type = diplo_action_desire id = ITA target = send_expeditionary_force value = -99999 }
	ai_strategy = { type = diplo_action_desire id = ROM target = send_expeditionary_force value = -99999 }
	ai_strategy = { type = diplo_action_desire id = HUN target = send_expeditionary_force value = -99999 }
	
	ai_strategy = {
		type = support
		id = ITA
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = ITA
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = ITA
		value = -99999
	}
	ai_strategy = {
		type = support
		id = ROM
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = ROM
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = ROM
		value = -99999
	}
	ai_strategy = {
		type = support
		id = HUN
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = HUN
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = HUN
		value = -99999
	}
	
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 451
		value = 10
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 663
		value = 10
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 450
		value = 10
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 452
		value = 10
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 665
		value = 10
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 448
		value = 10
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 458
		value = 10
	}
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 17
		strategic_region = 273
		strategic_region = 274
		strategic_region = 140
		strategic_region = 184
		strategic_region = 272
		strategic_region = 216
		strategic_region = 217
		value = -999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = europe
		value = -9999
	}
	ai_strategy = {
        type = area_priority
        id = europe
        value = -9999
    }
	ai_strategy = {
	 	type = front_unit_request
		area = asia
		value = -9999
	}
	ai_strategy = {
        type = area_priority
        id = asia
        value = -9999
    }
}
GER_rommel_in_africa = {
	allowed = {
		original_tag = GER
	}
	enable = {
		is_in_faction_with = ITA
		has_war_with = ENG
		POL = { has_capitulated = yes }
		FRA = { has_capitulated = yes }
		not = { has_country_flag = GER_erwin_rommel_in_africa }
		has_global_flag = GER_erwin_rommel_go_to_africa
	}
	abort = {
	    or = {
		448 = { CONTROLLER = { has_war_with = root } }
        458 = { CONTROLLER = { has_war_with = root } }
		surrender_progress > 0.07
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = send_volunteers_desire
		id = GEF
		value = -99999
	}
	ai_strategy = { type = diplo_action_desire id = GEF target = send_expeditionary_force value = -99999 }
	
	ai_strategy = {
 		type = put_unit_buffers
	
		# ratio of total armeis in country to be buffered
 		ratio = 0.05 #guo
		#order_id = 22
		# you can specify an order id. ratio of same orders ids will be share same ratio

 		# states to put garrison orders (if no state is friendly, strat is invalid)
 		states = { 
 			451
			450
			448
			
			452
			447
			114
 		}
	
		# ai areas that the orders will use these buffers in
 		#area = europe
 		area = north_africa #guo
		area = suez #guo
	
 		# by default if you have orders in target areas, the buffer will request less units. 
		# you can override this to disable the feature
 		subtract_invasions_from_need = no
 		subtract_fronts_from_need = yes
 	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = ITA
		value = 300
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = GEF
		value = 500
	}
	
	ai_strategy = {
		type = send_lend_lease_desire
		id = GEF
		value = 9999
	}
	ai_strategy = {
		type = support
		id = GEF
		value = 9999
	}
	ai_strategy = {
		type = protect
		id = GEF
		value = 5000
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		target = north_africa
		value = 500
	}
	ai_strategy = { #guo
        type = area_priority
        id = north_africa
        value = 20
    }
	ai_strategy = {
	 	type = front_unit_request
		area = north_africa
		value = 10
	}
	
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 451
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 663
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 450
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 452
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 665
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 448
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 458
		value = 3
	}
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 17
		strategic_region = 273
		strategic_region = 274
		strategic_region = 140
		strategic_region = 184
		strategic_region = 272
		strategic_region = 216
		strategic_region = 217
		value = -999
	}
}
GER_retreat_from_africa = {
    allowed = {
		original_tag = GER
	}
	enable = {
	    or = {
        448 = { CONTROLLER = { has_war_with = root } }
        458 = { CONTROLLER = { has_war_with = root } }
		surrender_progress > 0.07
		}
		not = { has_country_flag = GER_erwin_rommel_in_africa }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = dont_defend_ally_borders
		target = africa
		value = 9999
	}
    ai_strategy = {
		type = area_priority
		id = africa
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = africa
		value = -9999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = suez
		value = 9999
	}
    ai_strategy = {
		type = area_priority
		id = suez
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = suez
		value = -9999
	}
}

JAP_retreat_from_daxibei = {
    allowed = {
		always = yes
	}
	enable = {
	    or = {
        is_in_faction_with = JAP
		TAG = JAP
		}
		has_war_with = event_target:WTT_current_china_leader
		or = { #åŽä¸­å’Œè¥¿å—æ²¡æ‰“ä¸‹æ¥å°±ä¸è¿›è¥¿åŒ—
		605 = { is_controlled_by_enemy = yes }
		753 = { is_controlled_by_enemy = yes }
		744 = { is_controlled_by_enemy = yes }
		325 = { is_controlled_by_enemy = yes }
		622 = { is_controlled_by_enemy = yes }
		1034 = { is_controlled_by_enemy = yes }
		1015 = { is_controlled_by_enemy = yes }
		1035 = { is_controlled_by_enemy = yes }
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 144
		strategic_region = 200
		strategic_region = 250
		value = -999
	}
	ai_strategy = {
		type = area_priority
		id = daxibei
		value = -999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = daxibei
		value = 9999
	}
}

GER_retreat_from_gaojiasuo = {
    allowed = {
		always = yes
	}
	enable = {
	    or = {
        is_in_faction_with = GER
		TAG = GER
		}
		has_war_with = SOV
		245 = { is_controlled_by_ROOT_or_ally = no }
		217 = { is_controlled_by_ROOT_or_ally = no }
		228 = { is_controlled_by_ROOT_or_ally = no }
		260 = { is_controlled_by_ROOT_or_ally = no }
		date > 1942.6.1
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 135
		strategic_region = 134
		strategic_region = 137
		strategic_region = 239
		value = -999
	}
	ai_strategy = {
		type = area_priority
		id = gaojiasuo
		value = -999
	}
}
GER_be_careful_into_gaojiasuo = {
    allowed = {
		always = yes
	}
	enable = {
	    or = {
        is_in_faction_with = GER
		TAG = GER
		}
		has_war_with = SOV
		or = {
		218 = { is_controlled_by_ROOT_or_ally = yes }
		245 = { is_controlled_by_ROOT_or_ally = yes }
		}
	}
	abort = {
	    217 = { is_controlled_by_ROOT_or_ally = yes }
		236 = { is_controlled_by_ROOT_or_ally = yes }
		829 = { is_controlled_by_ROOT_or_ally = yes }
		407 = { is_controlled_by_ROOT_or_ally = yes }
		406 = { is_controlled_by_ROOT_or_ally = yes }
		239 = { is_controlled_by_ROOT_or_ally = yes }
		265 = { is_controlled_by_ROOT_or_ally = yes }
		260 = { is_controlled_by_ROOT_or_ally = yes }
	}
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 135
		value = -90
	}
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 134
		value = -90
	}
}

GER_retreat_from_finland = {
    allowed = {
		always = yes
	}
	enable = {
	    or = {
        is_in_faction_with = GER
		TAG = GER
		}
		not = { tag = FIN }
		has_war_with = SOV
		SOV = { surrender_progress < 0.65 }
		or = {
		219 = { is_controlled_by_ROOT_or_ally = no }
		264 = { is_controlled_by_ROOT_or_ally = no }
		247 = { is_controlled_by_ROOT_or_ally = no }
		229 = { is_controlled_by_ROOT_or_ally = no }
		217 = { is_controlled_by_ROOT_or_ally = no }
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		strategic_region = 13
		strategic_region = 265
		strategic_region = 150
		strategic_region = 12
		value = -90
	}
	
	ai_strategy = {
	 	type = front_unit_request
		state = 722
		
		value = -999
	}
	ai_strategy = {
	 	type = front_unit_request
		state = 213
		
		value = -999
	}
	ai_strategy = {
	 	type = front_unit_request
		state = 215
		
		value = -999
	}
	ai_strategy = {
	 	type = front_unit_request
		state = 214
		
		value = -999
	}
	
	ai_strategy = {
		type = area_priority
		id = north_finlan
		value = -90
	}
}

GER_retreat_from_saiwasituo = {
    allowed = {
		always = yes
	}
	enable = {
	    or = {
        is_in_faction_with = GER
		TAG = GER
		}
		has_war_with = SOV
		202 = { is_controlled_by_ROOT_or_ally = no }
		203 = { is_controlled_by_ROOT_or_ally = no }
		226 = { is_controlled_by_ROOT_or_ally = no }
		date > 1942.1.1
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		
		strategic_region = 135
		strategic_region = 134
		strategic_region = 137
		value = -999
	}
	ai_strategy = {
	 	type = front_unit_request
		state = 196
		state = 137
		state = 234
		
		value = -999
	}
}

SOV_tankograd = {
	allowed = {
		original_tag = SOV
	}
	enable = { 
		date > 1938.9.1
	}
	abort = {
		has_completed_focus = SOV_development_of_tankograd
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 405
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 586
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 653
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 572
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 571
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 570
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 40
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 568
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 569
		value = 5000
	}
	
	ai_strategy = {
		type = build_building
		id = arms_factory
		target = 408
		value = 5000
	}
}

SOV_Azerbaijan_oil = {
	allowed = {
		always = yes
	}
	enable = {
	    or = {
		date > 1941.1.1
		any_enemy_country = { is_major = yes }
		}
		controls_state = 229
	}
	abort = { 229 = { infrastructure > 4 } }
	
	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 229
		value = 99999
	}
}

SIK_rush_TNG_HMI_go = {
	allowed = {
		or = { original_tag = SIK original_tag = SOV }
	}
	enable = {
	SIK = { has_war_with = TNG }
	has_government = communism
	SOV = { has_civil_war = no has_war_with_major = no }
	check_variable = {
			This.infantry_equipment_deficit < 20000 #guo
		}
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.6

		tag = TNG

		#ratio = 0.65

		priority = 500
		
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
	
	ai_strategy = {
		type = front_control ratio = 0.25

		tag = HMI

		#ratio = 0.25

		priority = 200
		
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	
	ai_strategy = {
		type = front_control ratio = 0.25

		tag = KHR

		#ratio = 0.05

		priority = 200
		
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	
	ai_strategy = {
		type = consider_weak
		id = TNG
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = HMI
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = KHR
		value = 500
	}
}

jap_blockade_china_sea = {
	allowed = {
		original_tag = JAP
	}
	enable = {
	date < 1941.9.1
	OR = {
	has_war_with = CHI
	has_war_with = PRC
	}
	NOT = {
	has_war_with = USA
	has_war_with = ENG
	}
	OR = {
	CHI = { is_ai = no }
	PRC = {
	is_ai = no
	num_of_controlled_states > 10
	}
	}
	}
	abort = {
    CHI = { surrender_progress > 0.2 }
	613 = { is_controlled_by_jap_or_its_puppet = yes }
	592 = { is_controlled_by_jap_or_its_puppet = yes }
	591 = { is_controlled_by_jap_or_its_puppet = yes }
	743 = { is_controlled_by_jap_or_its_puppet = yes }
	608 = { is_controlled_by_jap_or_its_puppet = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 77#æŒªå¨æµ·
		value = 500
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 76#ä¸¹éº¦æµ·
		value = 500
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 75#ä¼Šæ¯”åˆ©äºšæµ·å²¸
		value = 500
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 79#åŒ—å¤§è¥¿æ´‹æµ·è„Š
		value = 500
	}
	
	
	ai_strategy = {
		type = strike_force_home_base
		id = 77#æŒªå¨æµ·
		value = 200
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 76#ä¸¹éº¦æµ·
		value = 200
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 75#ä¼Šæ¯”åˆ©äºšæµ·å²¸
		value = 200
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 79#åŒ—å¤§è¥¿æ´‹æµ·è„Š
		value = 200
	}
}

plm_buffer_beiping = {
	allowed = {
		original_tag = SUY
	}
	enable = {
	controls_state = 608
	has_war_with = event_target:WTT_communist_china
	}
	abort = {
    any_enemy_country = {
	or = {
	tag = event_target:WTT_communist_china
	tag = PRC
	}
	has_government = communism
	surrender_progress > 0.5
	}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.3
        area = asia
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = { 
            608
			1013
			609
 		}	
	}
}	

chi_buffer_taiwan_abit = {
	allowed = {
		original_tag = CHI
	}
	enable = {
	controls_state = 524
	has_war_with = event_target:WTT_communist_china
	}
	abort = {
    any_enemy_country = {
	or = {
	tag = event_target:WTT_communist_china
	tag = PRC
	}
	has_government = communism
	surrender_progress > 0.5
	}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.03
        area = asia
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = { 
            524
 		}
	}
}
warlord_dont_into_taiwan = {
	allowed = {
		is_literally_china = yes
	}
	enable = {
	has_war_together_with = event_target:WTT_current_china_leader
	not = { tag = event_target:WTT_current_china_leader }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		state = 524
		
		value = -999
	}
}

fra_buffer_paris = {
	allowed = {
		original_tag = FRA
	}
	enable = {
	not = { is_ally_with = event_target:human_player }
	or = {
	controls_state = 16
	controls_state = 14
	controls_state = 19
	}
	}
	abort = {
	is_ally_with = event_target:human_player
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.06
        area = europe
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
		states = { 
            16
			14
			19
 		}
	}
}

sov_the_battle_of_poland = {
	allowed = {
		original_tag = SOV
	}
	enable = {
	has_idea = SOV_molotov_ribbentrop_pact
	not = { is_in_faction_with = POL }
	POL = { not = { has_government = SOV } }
	POL = { has_capitulated = no }
	}
	abort = {
	has_global_flag = peace_with_pol
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = prepare_for_war
		id = POL
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = POL
		value = 200
	}
	ai_strategy = {
		type = consider_weak
		id = POL
		value = 500
	}
	ai_strategy = {
		type = front_control ratio = 0.6

		tag = POL

		#ratio = 0.2

		priority = 1500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
}

WARSAW_dont_join_PRC_war_with_KMT = {
	enable = {
	OR = {
	TAG = SOV
	is_in_faction_with = SOV
	}
	NOT = { TAG = PRC }
	any_other_country = { OR = { is_literally_china = yes original_tag = TIB original_tag = SIK } has_War_with = PRC }
	any_other_country = {
	is_major = yes
	is_democratic_type = yes
	is_faction_leader = yes
	NOT = { has_war_with = SOV }
	}
	}
	abort = {
	OR = {
	and = { is_in_faction_with = PRC not = { has_idea = chi_zhongguoneizhan } }
	has_war_with = CHI
	has_war_with = event_target:WTT_communist_china
	has_war_with = event_target:WTT_current_china_leader
	has_war_with = PRC
	has_war_with = SIK
	has_war_with = TIB
	any_other_country = {
	is_major = yes
	is_literally_china = no
	has_war_with = PRC
	is_subject = no
	}
	}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = declare_war
		id = CHI
		value = -9999
	}
	ai_strategy = {
		type = contain
		id = CHI
		value = -2000
	}
	ai_strategy = {
		type = ignore
		id = CHI
		value = 5000
	}
	ai_strategy = {
		type = avoid_starting_wars
		id = "CHI"
		value = 9999
	}
	
	ai_strategy = {
		type = declare_war
		id = TIB
		value = -9999
	}
	ai_strategy = {
		type = contain
		id = TIB
		value = -2000
	}
	ai_strategy = {
		type = ignore
		id = TIB
		value = 5000
	}
	ai_strategy = {
		type = avoid_starting_wars
		id = "TIB"
		value = 9999
	}
	
	ai_strategy = {
		type = declare_war
		id = SIK
		value = -9999
	}
	ai_strategy = {
		type = contain
		id = SIK
		value = -2000
	}
	ai_strategy = {
		type = ignore
		id = SIK
		value = 5000
	}
	ai_strategy = {
		type = avoid_starting_wars
		id = "SIK"
		value = 9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "PRC"
		value = -99999
	}
	
	
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = CHI
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = GXC
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SIK
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = TIB
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SHX
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SUY
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = YUN
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = XSM
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = NXM
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = GSM
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SIK
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = GUD
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = SIC
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = NEA
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = XIK
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = PRC
		target_country = XIA
		value = 99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = PRC
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = PRC
		target = call_allies
		value = -99999
	}
}

ally_dont_join_pol_war_with_sov = {
	enable = {
	is_historical_focus_on = yes
	is_in_faction_with = ENG
	is_in_faction_with = POL
	has_war_with = GER
	POL = { has_war_with = GER }
	not = { has_war_with = SOV }
	SOV = {
	has_idea = SOV_molotov_ribbentrop_pact
	not = { has_government = fascism }
	not = { is_in_faction_with = GER }
	}
	}
	abort = {
	has_global_flag = peace_with_pol
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = dont_join_wars_with
		id = POL
		value = 99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = POL
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = POL
		target = call_allies
		value = -99999
	}
	
	ai_strategy = {
		type = dont_join_wars_with
		id = POL
		target_country = SOV
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = POL
		target_country = MON
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = POL
		target_country = TAN
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = POL
		target_country = FIN
		value = 99999
	}
	ai_strategy = {
		type = dont_join_wars_with
		id = POL
		target_country = TUR
		value = 99999
	}
}

vic_dont_join_ger_early = {
    allowed = {
	    original_tag = FRA
	}
	enable = {
		has_focus_tree = vichy_french_focus
		16 = { is_controlled_by = GER }
	}
	
	abort = {
	    any_enemy_country = {
		is_major = yes
		has_war_with = GER
		}
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = alliance
		id = GER
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = ITA
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = ROM
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = HUN
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = BUL
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = SLO
		value = -9999
	}
}
	
vic_be_alone_but_love_ger = {
    allowed = {
	    original_tag = FRA
	}
	enable = {
		has_focus_tree = vichy_french_focus
		16 = { is_controlled_by = GER }
	}
	
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = befriend
		id = GER
		value = 200
	}
	ai_strategy = {
		type = support
		id = GER
		value = 9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GER
		value = 9999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GER
		value = 9999
	}
	
	ai_strategy = {
		type = alliance
		id = JAP
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = RRC
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = EHB
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = SIA
		value = -9999
	}
	
	ai_strategy = {
		type = alliance
		id = CHI
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = PRC
		value = -9999
	}
	
	ai_strategy = {
		type = alliance
		id = ENG
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = FRA
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = USA
		value = -9999
	}
	
	ai_strategy = {
		type = alliance
		id = SOV
		value = -9999
	}
}

fic_be_alone_but_love_jap = {
    allowed = {
	    original_tag = FIC
	}
	enable = {
		has_idea = fic_be_loyal_to_vic
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = befriend
		id = JAP
		value = 200
	}
	
	ai_strategy = {
		type = befriend
		id = VIC
		value = 500
	}
	ai_strategy = {
		type = support
		id = VIC
		value = 200
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = VIC
		value = 200
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = VIC
		value = 200
	}
	
	ai_strategy = {
		type = alliance
		id = JAP
		value = 500
	}
	ai_strategy = {
		type = alliance
		id = VIC
		value = 1000
	}
}

ally_ignore_vic_before_1942 = {
	enable = {
	    is_in_faction_with = ENG
		has_war_with = GER
		date < 1942.11.1
		any_country = {
		has_focus_tree = vichy_french_focus
		}
	}
	
	abort = {
	    any_country = {
		has_focus_tree = vichy_french_focus
		OR = {
		has_war_with = ENG
		has_war_together_with = ENG
		}
		}
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "VIC"
		value = -999
	}
	ai_strategy = {
		type = protect
		id = "VIC"
		value = -9999
	}
	ai_strategy = {
		type = protect
		id = FIC
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "VIC"
		target = guarantee
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_desire
		id = FIC
		target = guarantee
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = "VIC"
		value = -9999
	}
	ai_strategy = {
		type = antagonize
		id = "VIC"
		value = -75
	}
	ai_strategy = {
		type = ignore
		id = "VIC"
		value = 999
	}
	ai_strategy = {
		type = declare_war
		id = "VIC"
		value = -9999
	}
	ai_strategy = {
		type = avoid_starting_wars
		id = "VIC"
		value = 200
	}
	ai_strategy = {
		type = ignore_claim
		id = "VIC"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "FIC"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "SIA"
		value = 1
	}
}

SOV_dont_kick_ger_too_early = {
    allowed = {
		original_tag = SOV
	}
	enable = {
	    tag = SOV
		has_government = communism
		date < 1943.1.1
		has_army_manpower = { size < 4000000 }
	}
	
	abort = {
	    any_enemy_country = { is_major = yes }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = GER
		value = -9999
	}
	ai_strategy = {
		type = ignore_claim
		id = GER
		value = 1
	}
	
	ai_strategy = {
		type = declare_war
		id = ITA
		value = -9999
	}
	ai_strategy = {
		type = ignore_claim
		id = ITA
		value = 1
	}
	
	ai_strategy = {
		type = declare_war
		id = JAP
		value = -9999
	}
	ai_strategy = {
		type = ignore_claim
		id = JAP
		value = 1
	}
	
}

GER_fight_for_Leningrad = {
    allowed = {
	    original_tag = GER
	}
	enable = {
        has_war_with = SOV
		surrender_progress < 0.05
		208 = { is_controlled_by_ROOT_or_ally = yes }
	}
	
    abort = {
	    SOV = {
		NOT = { has_full_control_of_state = 195 }
		}
		#244 = { is_controlled_by_ROOT_or_ally = yes }
		controls_province = 9197
		controls_province = 9164
		controls_province = 3072
	}
	
	abort_when_not_enabled = yes

    ai_strategy = {
		type = front_control ratio = 0.6
		strategic_region = 132
		
		priority = 3500
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 195
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 244
		value = 4
	}
}
GER_fight_for_moscow = {
    allowed = {
	    original_tag = GER
	}
	enable = {
        has_war_with = SOV
		surrender_progress < 0.05
		or = { has_idea = GER_barbarossa check_variable = { This.infantry_equipment_deficit < 55000 } }
		SOV = { surrender_progress > 0.25 }
		242 = { is_controlled_by_ROOT_or_ally = yes }
		224 = { is_controlled_by_ROOT_or_ally = yes }
		222 = { is_controlled_by_ROOT_or_ally = yes }
		243 = { is_controlled_by_ROOT_or_ally = yes }
		date < 1943.1.1
	}
	
    abort = {
	    has_global_flag = mosikebaoweizhan
	}
	
	abort_when_not_enabled = yes

    ai_strategy = {
		type = front_control ratio = 0.6
		strategic_region = 133
		strategic_region = 131
		
		priority = 3500
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 219
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 242
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 205
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 223
		value = 3
	}
	
}
GER_fight_for_stalingrad = {
    allowed = {
	    original_tag = GER
	}
	enable = {
        has_war_with = SOV
		surrender_progress < 0.05
		16 = { is_controlled_by_ROOT_or_ally = yes }
		221 = { is_controlled_by_ROOT_or_ally = yes }
		206 = { is_controlled_by_ROOT_or_ally = yes }
		202 = { is_controlled_by_ROOT_or_ally = yes }
		2 = { is_controlled_by_ROOT_or_ally = yes }
		date > 1942.6.28
	}
	
    abort = {
	    OR = {
	    date > 1943.3.1
		check_variable = {
			This.infantry_equipment_deficit > 35000 #guo
		}
		and = {
		controls_state = 217
		controls_state = 229
		}
		}
	}
	
	abort_when_not_enabled = yes

    ai_strategy = {
		type = front_control ratio = 0.6
		tag = SOV
		
		priority = 3000
		ordertype = front
		execution_type = balanced
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = consider_weak
		id = SOV
		value = 500
	}
	
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 217
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 237
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 245
		value = 4
	}
	
}
GER_stop_after_moscow_battel = {
    allowed = {
	    original_tag = GER
	}
	enable = {
        has_war_with = SOV
		206 = { is_controlled_by_ROOT_or_ally = yes }
		202 = { is_controlled_by_ROOT_or_ally = yes }
		
		226 = { is_controlled_by_ROOT_or_ally = yes }
		815 = { is_controlled_by_ROOT_or_ally = yes }
		
		not = { has_idea = GER_barbarossa }
		has_global_flag = SOV_defense_moscow_ai_happen
		date > 1942.1.1
	}
	
    abort = {
	    OR = {
	    date > 1942.6.1
		}
	}
	
	abort_when_not_enabled = yes

    ai_strategy = {
		type = front_control ratio = 0.60 #guo
		tag = SOV
		
		priority = 8888
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	ai_strategy = {
		type = consider_weak
		id = SOV
		value = -2570
	}
}

SOV_wait_for_allies_to_enter_germany = {
    allowed = {
		always = yes
	}
	enable = {
	    is_soviet_faction_country = yes
        has_war_with = GER
		GER = {
		surrender_progress > 0
		}
		10 = { is_controlled_by_ROOT_or_ally = yes }
		OR = {
		has_war_together_with = ENG
		has_war_together_with = USA
		has_war_together_with = FRA
		}
		date < 1945.1.1
		OR = { west_europe_is_dangerous = yes 2 = { controller = { is_ally_faction_country = yes } } }
	}
	
	abort = {
		any_state = {
			is_core_of = GER
			is_owned_by = GER
			or = { state = 56 state = 57 state = 51 state = 42 state = 1064 }   
			controller = {
				is_ally_faction_country = yes
				has_war_with = GER
				NOT = { has_war_with = SOV }
			}
		}
	}
	
	abort_when_not_enabled = yes

    ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = GER

		priority = 10000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = consider_weak
		id = GER
		value = -9999
	}
}
SOV_fight_for_berlin = {
    allowed = {
		original_tag = SOV
	}
	enable = {
	    tag = SOV
        has_war_with = GER
		10 = { is_controlled_by_ROOT_or_ally = yes }
		any_state = {
			is_core_of = GER
			controller = {
				is_in_faction_with = ENG
				has_war_with = GER
				NOT = { has_war_with = SOV }
			}
		}
		GER = {
		surrender_progress > 0.15
		}
	}
	
    abort = {
	    OR = { 64 = { is_fully_controlled_by = root } any_allied_country = { has_full_control_of_state = 64 } }
	}
	
	abort_when_not_enabled = yes

    ai_strategy = {
		type = front_control ratio = 0.6

		state = 64
		state = 62
		state = 65
		state = 69
		state = 61
		
		priority = 9000
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	
	ai_strategy = {
		type = consider_weak
		id = GER
		value = 500
	}
}
SOV_pause_let_allies_take_over_germany = {#æˆ‘ä»¬åªéœ€è¦æ˜“åŒ—æ²³ä¸œå²¸åœ°åŒº
    allowed = {
		always = yes
	}
	enable = {
	    is_soviet_faction_country = yes
		OR = {
		has_war_together_with = ENG
		has_war_together_with = USA
		has_war_together_with = FRA
		}
        has_war_with = GER
		GER = {
		surrender_progress > 0.2
		}
		#OR = { 64 = { is_fully_controlled_by = root } any_allied_country = { has_full_control_of_state = 64 } }
		64 = { is_controlled_by_ROOT_or_ally = yes }
		date < 1945.3.1
		west_europe_is_dangerous = yes
	}
	
    abort = {
	    #not = { OR = { 64 = { is_fully_controlled_by = root } any_allied_country = { has_full_control_of_state = 64 } } }
		64 = { is_controlled_by_ROOT_or_ally = no }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		area = west_europe
		value = -9999
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = GER


		priority = 7500
        
		ordertype = front
		execution_type = careful
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.10 #guo

		state = 64


		priority = 9500
        
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
		manual_attack = yes
	}
}

ally_should_wait_for_sov = {#æˆ‘ä»¬åªéœ€è¦æ˜“åŒ—æ²³è¥¿å²¸åœ°åŒº

	enable = {
	is_ally_faction_country = yes
	OR = {
		has_war_together_with = SOV
	}
	any_state = {
		is_core_of = GER
		controller = {
			is_in_faction_with = ROOT
			has_war_with = GER
		}
	}
	has_war_with = GER
	GER = {
	surrender_progress > 0.2
	}
	SOV = {
	surrender_progress < 0.5
	}
	date < 1945.3.1
	}
	abort = {
        64 = {
	    controller = {
		is_in_faction_with = SOV
	    }
	    }
	}
	abort_when_not_enabled = yes

    ai_strategy = {
		type = consider_weak
		id = GER
		value = -9999
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = GER


		priority = 9999
        
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = front_unit_request
		area = east_europe
		value = -9999
	}
}

NEA_let_chang_into = {
	allowed = {
		original_tag = NEA
	}
	enable = {
		not = { has_War_with = CHI }
		not = { has_War_with = JAP }
		not = { is_in_faction_with = PRC }
		is_guaranteed_by = CHI
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_acceptance
		id = CHI
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "CHI"
		value = 5000
	}
	ai_strategy = {
		type = consider_weak
		id = PRC
		value = -5000
	}
	ai_strategy = { type = support id = CHI value = -5000 }
	ai_strategy = { type = protect id = CHI value = -5000 }
}

HPC_dont_let_chang_into = {
	allowed = {
		original_tag = HPC
	}
	enable = {
	not = { is_subject_of = CHI }
	CHI = { has_idea = nea_idea_CHI_he_umezu_agreement }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_acceptance
		id = CHI
		target = military_access
		value = -7500
	}
}

SHD_dont_let_chang_into = {
	allowed = {
		original_tag = SHD
	}
	enable = {
	not = { is_subject_of = CHI }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_acceptance
		id = CHI
		target = military_access
		value = -7500
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = CHI
		target = docking_rights
		value = 100
	}
}

SOV_dont_get_china_military_access = {#å¦åˆ™ä¼šæ‹¿ä¸åˆ°ä¸œåŒ—
	allowed = {
		always = yes
	}
	enable = {
	is_soviet_faction_country = yes
	not = { is_in_faction_with = CHI is_in_faction_with = PRC }
	not = { has_War_with = CHI has_War_with = PRC }
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = diplo_action_desire
		id = CHI
		target = military_access
		value = -7500
	}
	ai_strategy = {
		type = diplo_action_desire
		id = PRC
		target = military_access
		value = -7500
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = "CHI"
		target = offer_military_access
		value = -7500
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = "PRC"
		target = offer_military_access
		value = -7500
	}
}

GER_ignore_bel_hol_lux = {
	allowed = {
		original_tag = GER
	}
	enable = {
	is_historical_focus_on = yes
	NOT = { has_completed_focus = GER_around_maginot }
	has_government = fascism
	date < 1940.5.1
	}
	abort = {
	    OR = {
		date > 1940.5.1
	    has_war_with = HOL
	    has_war_with = BEL
	    has_war_with = LUX
	    has_completed_focus = GER_around_maginot
	    focus_progress  = {
			focus = GER_around_maginot 
			progress > 0
		}
	    }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = HOL
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "HOL"
		target = declare_war
		value = -9999
	}
	ai_strategy = {
		type = ignore_claim
		id = HOL
		value = 1
	}
	
	ai_strategy = {
		type = declare_war
		id = BEL
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "BEL"
		target = declare_war
		value = -9999
	}
	ai_strategy = {
		type = ignore_claim
		id = BEL
		value = 1
	}
	
	ai_strategy = {
		type = declare_war
		id = LUX
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "LUX"
		target = declare_war
		value = -9999
	}
	ai_strategy = {
		type = ignore_claim
		id = LUX
		value = 1
	}
	ai_strategy = {
		type = ignore
		id = LUX
		value = 9999
	}
	ai_strategy = {
		type = prepare_for_war
		id = LUX
		value = -9999
	}
	ai_strategy = {
		type = front_unit_request
		tag = LUX
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = LUX
		value = -200
	}
	ai_strategy = {
		type = antagonize
		id = LUX
		value = -200
	}
	ai_strategy = {
		type = front_armor_score
		id = LUX
		value = -500
	}
}
GER_operation_yellow = {
	allowed = {
		original_tag = GER
	}
	enable = {
		OR = {
		    has_war_with = HOL
			has_war_with = BEL
			has_war_with = LUX
		}
		date < 1941.4.20 #after this may be too late
		or = {
		
		if = {
		limit = {
		has_war_with = HOL
		}
		HOL = { has_capitulated = no }
		}
		else = { always = yes }
		
		if = {
		limit = {
		has_war_with = BEL
		}
		BEL = { has_capitulated = no }
		}
		else = { always = yes }
		
		if = {
		limit = {
		has_war_with = LUX
		}
		LUX = { has_capitulated = no }
		}
		else = { always = yes }
		
		}
	}
	abort = {
	    or = {
		
		OR = {
		has_war_with = SOV
		has_war_with = ITA
		}
		
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.25
		tag = HOL

		priority = 7500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.25
		tag = BEL

		priority = 7500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.25
		tag = LUX

		priority = 7500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	ai_strategy = {
		type = front_armor_score
		id = "HOL"
		value = 100
	}
	ai_strategy = {
		type = consider_weak
		id = "HOL"
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = "HOL"
		value = 999
	}
	ai_strategy = {
		type = conquer
		id = "HOL"
		value = 500
	}
	ai_strategy = {
		type = front_armor_score
		id = "BEL"
		value = 100
	}
	ai_strategy = {
		type = consider_weak
		id = "BEL"
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = "BEL"
		value = 999
	}
	ai_strategy = {
		type = conquer
		id = "BEL"
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = "LUX"
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = "LUX"
		value = 999
	}
	ai_strategy = {
		type = conquer
		id = "LUX"
		value = 500
	}
	ai_strategy = {
		type = declare_war
		id = "LUX"
		value = 9999
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "LUX"
		target = declare_war
		value = 99999
	}
	
	ai_strategy = {
		type = front_unit_request

		tag = BEL

		value = 30 # lets put more units, should be safe
	}

	ai_strategy = {
		type = front_unit_request

		tag = HOL

		value = 30 # lets put more units, should be safe
	}
	
	ai_strategy = {
		type = front_unit_request

		tag = FRA

		value = 25 # lets put more units, should be safe
	}
	
	
}
GER_dont_heat_maginot = {
	allowed = {
		original_tag = GER
	}
	enable = {
		has_war_with = FRA
		date < 1940.6.10 #after this may be too late
		FRA = {
		    NOT = {
			owns_state = 34
			owns_state = 6
			}
			is_ai = yes
		}
	}
	abort = {
	    or = {
		FRA = { has_capitulated = yes }
		BEL = { has_capitulated = yes }
		is_in_faction_with = BEL
		has_full_control_of_state = 34
		has_full_control_of_state = 6
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		state = 28
		state = 42
		state = 1064
		state = 8
		state = 17

		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	
	ai_strategy = {
		type = consider_weak
		id = "FRA"
		value = -7590
	}
	ai_strategy = {
		type = front_armor_score
		id = "FRA"
		value = -500
	}
}
GER_dont_heat_maginot_fra_no_ai = {
	allowed = {
		original_tag = GER
	}
	enable = {
		has_war_with = FRA
		FRA = {
		    NOT = {
			owns_state = 34
			owns_state = 6
			}
			is_ai = no
		}
	}
	abort = {
	    or = {
		FRA = { has_capitulated = yes }
		BEL = { has_capitulated = yes }
		is_in_faction_with = BEL
		has_full_control_of_state = 34
		has_full_control_of_state = 6
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		
		state = 28
		state = 42
		state = 1064
		state = 8
		state = 17

		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = consider_weak
		id = "FRA"
		value = -7590
	}
	ai_strategy = {
		type = front_armor_score
		id = "FRA"
		value = 50
	}
}
GER_time_to_go_paris = {
	allowed = {
		original_tag = GER
	}
	enable = {
		has_war_with = FRA
		or = {
		and = {
		FRA = { is_ai = yes }
		date > 1940.6.1 #after this may be too late
		}
		BEL = { has_capitulated = yes }
		is_in_faction_with = BEL
		has_full_control_of_state = 34
		has_full_control_of_state = 6
		}
	}
	abort = {
	    or = {
		FRA = { has_capitulated = yes }
		surrender_progress > 0.1
		date > 1941.4.20
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.6
		area = west_europe

        state_trigger = { not = { state = 28 state = 42 state = 1064 } }

		priority = 7500
		ordertype = front
		execution_type = balanced
		execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = consider_weak
		id = "FRA"
		value = 500
	}
	ai_strategy = {
		type = front_armor_score
		id = "FRA"
		value = 100
	}
	ai_strategy = {
		type = conquer
		id = "FRA"
		value = 500
	}
	ai_strategy = {
		type = front_unit_request

		tag = FRA

		value = 100 # lets put more units, should be safe
	}
	
	ai_strategy = {
		type = consider_weak
		id = "LUX"
		value = 500
	}
	ai_strategy = {
		type = antagonize
		id = "LUX"
		value = 999
	}
	ai_strategy = {
		type = conquer
		id = "LUX"
		value = 500
	}
	ai_strategy = {
		type = declare_war
		id = "LUX"
		value = 9999
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "LUX"
		target = declare_war
		value = 99999
	}
	
	
}

PRC_hold_down_please = {
	allowed = {
		original_tag = PRC
	}
	enable = {
	has_war_with = CHI
	date < 1936.12.12
	1030 = { not = { has_state_flag = I_choose_this_state_to_DMZ } }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = consider_weak
		id = CHI
		value = -5000
	}
	ai_strategy = {
		type = consider_weak
		id = NEA
		value = -5000
	}
	ai_strategy = {
		type = front_unit_request
		tag = NEA
		value = 5000
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = CHI

		##ratio = 0.5

		priority = 1000
        
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = NEA

		##ratio = 0.5

		priority = 1000
        
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
}

JAP_help_man_against_sov = {
	allowed = {
		original_tag = JAP
	}
	enable = {
	is_in_faction_with = MAN
	SOV = { is_ai = no }
	OR = {
	has_war_with = SOV
	SOV = {
	    OR = {
		is_justifying_wargoal_against = MAN
		is_justifying_wargoal_against = ROOT
		focus_progress = { focus = SOV_end_the_khalkhin_gol_conflict progress > 0 }
		focus_progress = { focus = SOV_recover_the_kuril_islands progress > 0 }
		}
	}
	}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = SOV
		value = 200
	}
	ai_strategy = {
		type = front_armor_score
		id = "SOV"
		value = 150
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = MAN
		value = -999
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = MAN
		value = 500
	}
	ai_strategy = {
		type = protect
		id = MAN
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = ECA
		value = -999
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = ECA
		value = 500
	}
	ai_strategy = {
		type = protect
		id = ECA
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = SOV
		value = 9750
	}
	ai_strategy = {
		type = antagonize
		id = SOV
		value = 9750
	}
}

JAP_man_need_help = {
	allowed = {
		original_tag = JAP
	}
	enable = {
	is_in_faction_with = MAN
	any_enemy_country = { is_neighbor_of = MAN }
	if = {
	limit = {
	has_war_with = SOV
	}
	SOV = { is_ai = no }
	}
	else = { always = yes }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = MAN
		value = -999
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = MAN
		value = 500
	}
	ai_strategy = {
		type = protect
		id = MAN
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = ECA
		value = -999
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = ECA
		value = 500
	}
	ai_strategy = {
		type = protect
		id = ECA
		value = 100
	}
}

jap_hold_the_manchukuo = {
	allowed = {
		original_tag = JAP
	}
	enable = {
	or = {
	has_war_with = CHI
	has_war_with = PRC
	}
	or = {
	610 = { is_controlled_by_jap_or_its_puppet = no }
	609 = { is_controlled_by_jap_or_its_puppet = no }
	1012 = { is_controlled_by_jap_or_its_puppet = no }
	
	612 = { is_controlled_by_jap_or_its_puppet = no }
	611 = { is_controlled_by_jap_or_its_puppet = no }
	608 = { is_controlled_by_jap_or_its_puppet = no }
	}
	if = {
	limit = { has_war_with = SOV }
	SOV = { is_ai = no }
	}
	else = { always = yes }
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = ECA
		value = 500
	}
	ai_strategy = {
		type = protect
		id = ECA
		value = 100
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = ECA
		value = -500
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = MAN
		value = 999
	}
	ai_strategy = {
		type = protect
		id = MAN
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = MAN
		value = -999
	}
	
	ai_strategy = {
		type = front_unit_request

		strategic_region = 155	# province on a strategic region
		strategic_region = 243	# province on a strategic region
		strategic_region = 244	# province on a strategic region
		strategic_region = 143	# province on a strategic region
		

		value = 300
	}
}

HUN_dont_join_ger_before_vienna_award = {
	allowed = {
		original_tag = HUN
	}
	enable = {
	is_historical_focus_on = yes
	GER = {
	has_government = fascism
	}
	is_in_faction = no
	has_war = no
	OR = {
	has_government = fascism
	has_government = neutrality
	}
	}
	abort = {
	or = {
	has_country_flag = GER_second_vienna_award_HUN_north
	has_country_flag = GER_second_vienna_award_HUN_all
	}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = alliance
		id = GER
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = ITA
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = JAP
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = ROM
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = BUL
		value = -50000
	}
}

USA_we_need_to_save_ourselfZZ = {
	allowed = {
		original_tag = USA
	}
	enable = {
    surrender_progress > 0.1
	has_civil_war = no
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = garrison
		value = 100
	}
	ai_strategy = {
		type = front_unit_request
		country_trigger = { NOT = { is_neighbor_of = FROM } }
		value = -999
	}
	
    ai_strategy = {
		type = dont_defend_ally_borders
		target = africa
		value = 9999
	}
    ai_strategy = {
		type = area_priority
		id = africa
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = africa
		value = -9999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = europe
		value = 9999
	}
    ai_strategy = {
		type = area_priority
		id = europe
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = europe
		value = -9999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = suez
		value = 9999
	}
    ai_strategy = {
		type = area_priority
		id = suez
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = suez
		value = -9999
	}
	
	ai_strategy = {
		type = area_priority
		id = north_america
		value = 9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = north_america
		value = 9999
	}
    ai_strategy = {
		type = force_defend_ally_borders
		target = north_america
		value = 9999
	}
	
    ai_strategy = {
        type = force_build_armies
        value = 5000
    }
	ai_strategy = {
		type = build_army
		id = medium_armor
		value = 500
	}
	
	ai_strategy = {
		type = build_army
		id = infantry
		value = 100
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 10
	}
	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = 15
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = cas
		value = 5
	}
}

ENG_help_allyzz = {
    allowed = {
		or = {
            original_tag = ENG
	    }
	}
	enable = {
	or = {
    original_tag = ENG
	}
	surrender_progress < 0.05
	has_war = yes
	num_subjects > 0
	}

    abort_when_not_enabled = yes

	ai_strategy = {
		type = force_build_armies
		id = "ENG"
		value = 1000
	}

	ai_strategy = {
		type = force_defend_ally_borders
		value = 1000
		target = africa
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "RAJ"
		value = 4999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "RAJ"
		value = -5000
	}
ai_strategy = {
		type = force_defend_ally_borders
		id = "BUR"
		value = 4999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BUR"
		value = -5000
	}
ai_strategy = {
		type = protect
		id = "RAJ"
		value = 1000
	}
ai_strategy = {
		type = support
		id = "RAJ"
		value = 100
	}
ai_strategy = {
		type = protect
		id = "BUR"
		value = 1000
	}
ai_strategy = {
		type = support
		id = "BUR"
		value = 100
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "EGY"
		value = 4999
	}
    ai_strategy = {
		type = protect
		id = "EGY"
		value = 3000
	}
}

chi_help_YUN_GXC = {
    allowed = {
	    OR = {
		original_tag = CHI
		original_tag = NEA
		original_tag = YUN
		original_tag = GXC
		original_tag = GUD
		original_tag = XIK
		}
	}
	enable = {
	has_war_with = JAP
	OR = {
	has_war_together_with = YUN
	has_war_together_with = GXC
	}
	}

    
    abort_when_not_enabled = yes

	ai_strategy = {
		type = force_defend_ally_borders
		id = "YUN"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "YUN"
		value = -500
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "GXC"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GXC"
		value = -500
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "GUD"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GUD"
		value = -500
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "XIA"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "XIA"
		value = -500
	}
}

chi_help_RAJ_BUR = {
    allowed = {
	    OR = {
		original_tag = CHI
		original_tag = NEA
		}
	}
	enable = {
	has_war_with = JAP
	surrender_progress < 0.75
	OR = {
	has_war_together_with = RAJ
	has_war_together_with = BUR
	}
	        325 = {
			is_controlled_by_ROOT_or_ally = yes
			}
			747 = {
			is_controlled_by_ROOT_or_ally = yes
			}
	}

    
    abort_when_not_enabled = yes
	
	ai_strategy = {
		type = support
		id = "BUR"
		value = 50
	}
    ai_strategy = {
		type = diplo_action_desire
		id = BUR
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = RAJ
		target = military_access
		value = 5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = ENG
		target = military_access
		value = 5000
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "BUR"
		value = 5000
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BUR"
		value = -5000
	}
}

raj_defend_japan = {
    allowed = {
	    OR = {
		original_tag = RAJ
		original_tag = BUR
		}
	}
	enable = {
	    is_in_faction_with = ENG
	    NOT = { is_in_faction_with = JAP }
	}

    abort_when_not_enabled = yes

	ai_strategy = {
		type = force_defend_ally_borders
		id = "RAJ"
		value = 9999
	}
    ai_strategy = {
		type = force_defend_ally_borders
		id = "BUR"
		value = 9999
	}
	
	ai_strategy = {
		type = front_unit_request
		strategic_region = 141
		strategic_region = 189
		strategic_region = 229
		value = 9999
	}
	
	ai_strategy = { #not worth building anything else
		type = building_target
		id = arms_factory
		value = 500
	}
	
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
	
	ai_strategy = { #build units or the sov will destory us
        type = force_build_armies
        value = 3000
    }
	
	ai_strategy = {
		type = dont_defend_ally_borders
		target = africa
		value = 9999
	}
	
	ai_strategy = {
		type = area_priority
		id = asia
		value = 9999
	}
	
    ai_strategy = {
		type = area_priority
		id = africa
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = africa
		value = -9999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = europe
		value = 9999
	}
    ai_strategy = {
		type = area_priority
		id = europe
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = europe
		value = -9999
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		target = suez
		value = 9999
	}
    ai_strategy = {
		type = area_priority
		id = suez
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		area = suez
		value = -9999
	}
}

ally_dont_like_fascism_FIC = {
	enable = {
	is_historical_focus_on = yes
	is_in_faction_with = ENG
	is_democratic_type = yes
	has_global_flag = fall_of_france
	FIC = { has_government = fascism }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = alliance
		id = FIC
		value = -9999
	}
}

ITA_hesitate_to_join_wars_becuase_we_need_more_time_or_we_will_get_crushed = {#this was a okay strat PDX it just needed to be coded better!
	allowed = {
		original_tag = ITA
	}

 	enable = {
		#date < 1940.6.10
		not = { has_war_with = ENG }
		not = { has_war_with = FRA }
		ROOT = {
			is_in_faction_with = GER						
		}
 	}
	abort = {
				or = {
					any_enemy_country = { is_major = yes }
					FRA = {
						OR = {
						surrender_progress > 0.15 #time to cash in
						has_capitulated = yes
						is_in_faction_with = ITA
						exists = no
						}
					}
					ENG = {
						OR = {
						surrender_progress > 0.15 #time to cash in
						has_capitulated = yes
						is_in_faction_with = ITA
						exists = no
						}
					}
				}
	}

 	abort_when_not_enabled = yes

	ai_strategy = {
		type = force_build_armies
		id = "ITA"
		value = 1000
	}
	ai_strategy = {
		type = build_army
		id = infantry
		value = 200
	}
	ai_strategy = {
		type = build_army
		id = medium_armor
		value = 200
	}
	ai_strategy = {
		type = build_army
		id = mountaineers
		value = 100
	}
	

	ai_strategy = {
		type = dont_join_wars_with
		id = GER
		value = 1000000 #Vaules were way to high down from... 1000
	}
	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = POL
		value = 1000000
	}
	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = FRA
		value = 1000000
	}
	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = ENG
		value = 1000000
	}
	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = NOR
		value = 1000000
	}
	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = DEN
		value = 1000000
	}
	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = BEL
		value = 1000000
	}
	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = HOL
		value = 1000000
	}

    ai_strategy = {
		type = dont_join_wars_with
		id = HUN
		value = 1000000 #Vaules were way to high down from... 1000
	}
	
	ai_strategy = {
		type = dont_join_wars_with
		id = BUL
		value = 1000000 #Vaules were way to high down from... 1000
	}

	ai_strategy = { #help you in other ways
		type = send_lend_lease_desire
		id = "GER"
		value = 888
	}

	ai_strategy = { #help you in other ways
		type = send_volunteers_desire
		id = "GER"
		value = 888
	}
	
 	ai_strategy = {
 		type = dont_join_wars_with
 		id = SLO
 		value = 1000000 #Vaules were way to high down from... 1000
 	}

	ai_strategy = {
 		type = dont_join_wars_with
 		id = ROM
 		value = 1000000 #Vaules were way to high down from... 1000
 	}
	
	
	ai_strategy = {
 		type = dont_join_wars_with
 		id = "GER"
 		value = 99999
		target_country = FRA
 	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "SLO"
		value = 99999
		target_country = FRA
	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "D09"
		value = 99999
		target_country = FRA
	}
	
	ai_strategy = {
		type = dont_join_wars_with
		id = "D10"
		value = 99999
		target_country = FRA
	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "DEN"
		value = 99999
		target_country = FRA
	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "NOR"
		value = 99999
		target_country = FRA
	}
	
 	ai_strategy = {
 		type = dont_join_wars_with
 		id = "GER"
 		value = 99999
		target_country = ENG
 	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "SLO"
		value = 99999
		target_country = ENG
	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "D09"
		value = 99999
		target_country = ENG
	}
	
	ai_strategy = {
		type = dont_join_wars_with
		id = "D10"
		value = 99999
		target_country = ENG
	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "DEN"
		value = 99999
		target_country = ENG
	}

	ai_strategy = {
		type = dont_join_wars_with
		id = "NOR"
		value = 99999
		target_country = ENG
	}	

	ai_strategy = {
		type = diplo_action_desire
		id = "GER"
		value = -99999
		target = call_allies
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = "SLO"
		value = -99999
		target = call_allies
	}

	ai_strategy = {
		type = diplo_action_desire
		id = "D09"
		value = -99999
		target = call_allies
	}

	ai_strategy = {
		type = diplo_action_desire
		id = "D10"
		value = -99999
		target = call_allies
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = "DEN"
		value = -99999
		target = call_allies
	}	

	ai_strategy = {
		type = diplo_action_desire
		id = "NOR"
		value = -99999
		target = call_allies
	}
	
		
	
	ai_strategy = {
		type = diplo_action_desire
		id = "SLO"
		value = -99999
		target = join_allies
	}
	
	

	ai_strategy = {
		type = diplo_action_acceptance
		id = SLO
		target = call_allies
		value = -99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = GER
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = call_allies
		value = -99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = JAP
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = JAP
		target = call_allies
		value = -99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = HUN
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = HUN
		target = call_allies
		value = -99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = ROM
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = ROM
		target = call_allies
		value = -99999
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = BUL
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = BUL
		target = call_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_desire
		id = "D09"
		value = -99999
		target = join_allies
	}

	ai_strategy = {
		type = diplo_action_desire
		id = "D10"
		value = -99999
		target = join_allies
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = "DEN"
		value = -99999
		target = join_allies
	}	

	ai_strategy = {
		type = diplo_action_desire
		id = "NOR"
		value = -99999
		target = join_allies
	}
	
	ai_strategy = {
		type = ignore
		id = "SWI"
		value = 999
	}	
	
	ai_strategy = {
		type = ignore
		id = "GER"
		value = 999
	}
	
	ai_strategy = {
		type = ignore
		id = "DEN"
		value = 999
	}	
	
	ai_strategy = {
		type = ignore
		id = "NOR"
		value = 999
	}	

	ai_strategy = {
		type = declare_war
		id = "ENG"
		value = -999
	}

	ai_strategy = {
		type = declare_war
		id = "FRA"
		value = -999
	}

	ai_strategy = {
		type = declare_war
		id = "POL"
		value = -999
	}
}

GER_avoid_war_with_TUR = {
	enable = {
		TUR = {
			exists = yes
		}
	}
	abort = {
		OR = {
			has_wargoal_against = TUR
			has_war_with = TUR
			TUR = {
				is_ai = no
			}
		}
	}

	ai_strategy = {
		type = conquer
		id = TUR
		value = -999
	}

	ai_strategy = {
		type = antagonize
		id = TUR
		value = -100
	}
	
	#guo
	ai_strategy = {
		type = front_unit_request
		tag = TUR
		value = -9999
	}
	ai_strategy = {
		type = prepare_for_war
		id = TUR
		value = -9999
	}
	ai_strategy = {
		type = ignore
		id = TUR
		value = 9999
	}
}

GER_war_POL_time = {
	allowed = {
		original_tag = GER
	}
	enable = {
is_historical_focus_on = yes
has_government = fascism
		has_war = no
		date < 1939.9.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = "POL"			
		value = -9999
	}
}

GER_no_war_SWE = {
	allowed = {
		original_tag = GER
	}
	enable = {
has_idea = ger_swe_maoyixieding
OR = {
SWE = { is_in_faction = no }
is_in_faction_with = SWE
}
	}
	abort = {
	has_war_with = SWE
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = prepare_for_war
		id = "SWE"			
		value = -999
	}
ai_strategy = {
		type = conquer
		id = "SWE"			
		value = -999
	}
ai_strategy = {
		type = befriend
		id = "SWE"			
		value = 100
	}
ai_strategy = {
		type = alliance
		id = "SWE"			
		value = 200
	}
ai_strategy = {
		type = protect
		id = "SWE"			
		value = 100
	}
}

GER_war_SOV_time = {
	allowed = {
		original_tag = GER
	}
	enable = {
is_historical_focus_on = yes
has_government = fascism
		date < 1941.6.22
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = "SOV"			
		value = -9999
	}
}

ITA_war_GRE_time = {
	allowed = {
		original_tag = ITA
	}
	enable = {
        is_historical_focus_on = yes
        has_government = fascism
	    date < 1940.10.28
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = "GRE"
		value = -9999
	}
    
}

GER_war_YUG_time = {
	allowed = {
		original_tag = GER
	}
	enable = {
    is_historical_focus_on = yes
    has_government = fascism
	date < 1941.3.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = "YUG"
		value = -9999
	}
    ai_strategy = {
		type = declare_war
		id = "GRE"
		value = -9999
	}
}

GER_ignore_MAN_MEJ_ECA = {
    allowed = {
		or = {
            original_tag = GER
		    original_tag = ITA
	    }
	}
	enable = {
	OR = {
		original_tag = GER
		original_tag = ITA
		}
		has_government = fascism
		NOT = { MAN = { is_in_faction_with = JAP } has_War_with = JAP }
        MAN = { is_major = no }
		is_historical_focus_on = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "MAN"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "MAN"
		value = -5000
	}
	ai_strategy = {
		type = support
		id = "MAN"
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "MAN"
		target = guarantee
		value = -9999
	}
	
	ai_strategy = {
		type = alliance
		id = "ECA"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "ECA"
		value = -5000
	}
	ai_strategy = {
		type = support
		id = "ECA"
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "ECA"
		target = guarantee
		value = -9999
	}
	
	ai_strategy = {
		type = alliance
		id = "EHB"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "EHB"
		value = -5000
	}
	ai_strategy = {
		type = support
		id = "EHB"
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = "EHB"
		target = guarantee
		value = -9999
	}
}

axis_invade_ENG_USA = { #now it is TNO time
	
	enable = {
surrender_progress < 0.05
NOT = { has_war_with = SOV }
OR = {
is_in_faction_with = GER
tag = GER
tag = JAP
tag = ITA
}
OR = {
has_war_with = ENG
has_war_with = USA
}
OR = {
has_war_together_with = GER
has_war_together_with = ITA
has_war_together_with = JAP
}
OR = {
SOV = { exists = no }
SOV = { has_capitulated = yes }
SOV = { is_in_faction_with = GER }
SOV = { is_subject = yes }
}
OR = {
FRA = { exists = no }
FRA = { has_capitulated = yes }
FRA = { is_in_faction_with = GER }
FRA = { is_subject = yes }
}
		
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
                                id = "ENG"
		value = 2000
		
	}
 
                ai_strategy = {
		type = conquer
                                id = "ENG"
		value = 2000
		
	}

                ai_strategy = {
		type = invade
                                id = "USA"
		value = 2000
		
	}

                ai_strategy = {
		type = conquer
                                id = "USA"
		value = 2000
		
	}
ai_strategy = {
		type = invade
                                id = "BRA"
		value = 2000
		
	}

                ai_strategy = {
		type = conquer
                                id = "BRA"
		value = 2000
		
	}
ai_strategy = {
		type = invade
                                id = "CAN"
		value = 2000
		
	}
 
                ai_strategy = {
		type = conquer
                                id = "CAN"
		value = 2000
		
	}

                ai_strategy = {
		type = invade
                                id = "MEX"
		value = 2000
		
	}

                ai_strategy = {
		type = conquer
                                id = "MEX"
		value = 2000
		
	}
ai_strategy = {
		type = invade
                                id = "AST"
		value = 2000
		
	}
 
                ai_strategy = {
		type = conquer
                                id = "AST"
		value = 2000
		
	}
ai_strategy = {
		type = invade
                                id = "RAJ"
		value = 2000
		
	}
 
                ai_strategy = {
		type = conquer
                                id = "RAJ"
		value = 2000
		
	}
                ai_strategy = {
		type = invade
                                id = "NZL"
		value = 2000
		
	}

                ai_strategy = {
		type = conquer
                                id = "NZL"
		value = 2000
		
	}
ai_strategy = {
		type = invade
                                id = "SAF"
		value = 2000
		
	}

                ai_strategy = {
		type = conquer
                                id = "SAF"
		value = 2000
		
	}

ai_strategy = {
		type = force_defend_ally_borders
		value = 500
		target = europe
	}
ai_strategy = {
		type = force_defend_ally_borders
		value = 500
		target = asia
	}
ai_strategy = {
		type = force_defend_ally_borders
		value = 1000
		target = north_america 
	}
ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		target = south_america 
	}
                ai_strategy = {
		type = area_priority
		id = north_america 
		value = 1500
	}
ai_strategy = {
		type = area_priority
		id = europe
		value = 500
	}
ai_strategy = {
		type = area_priority
		id = asia
		value = 500
	}
ai_strategy = {
		type = area_priority
		id = south_america 
		value = 100
	}
                ai_strategy = {
		type = garrison
		value = -90
	}
	
	ai_strategy = {
		type = front_unit_request
		area = north_america
		value = 1500
	}
	ai_strategy = {
		type = front_unit_request
		area = europe
		value = 500
	}
	ai_strategy = {
		type = front_unit_request
		area = asia
		value = 500
	}
	ai_strategy = {
		type = front_unit_request
		area = south_america
		value = 200
	}
                
}

AXIS_dont_go_IRE_and_ENG = {
	enable = {
		OR = {
		    tag = GER
	        tag = ITA
			is_in_faction_with = GER
			is_in_faction_with = ITA
		}
	    is_historical_focus_on = yes
	    
		SOV = { is_subject = no }
		SOV = { has_capitulated = no }
		ENG = { has_capitulated = no }
		ENG = { is_subject = no }
	}
	abort = {
	or = {
	ENG = {
	surrender_progress > 0.05
	}
	ENG = {
	is_subject = yes
	}
	ENG = {
	has_capitulated = yes
	}
	ENG = {
	exists = no
	}
	ENG = {
	is_ally_with = ROOT
	}
	SOV = {
	is_subject = yes
	}
	SOV = {
	has_capitulated = yes
	}
	SOV = {
	exists = no
	}
	SOV = {
	is_ally_with = ROOT
	}
	}
	}
    abort_when_not_enabled = yes
	
    ai_strategy = {
		type = invasion_unit_request
		tag = ENG
		tag = FRA
		tag = IRE
		tag = ICE
		tag = HOL
		tag = BEL
		value = -9999
	}
	ai_strategy = {
		type = invade
		id = "ENG"
		value = -9999
	}
	ai_strategy = {
		type = invade
		id = "FRA"
		value = -9999
	}
	ai_strategy = {
		type = invade
		id = "ICE"
		value = -9999
	}
	ai_strategy = {
		type = invade
		id = "IRE"
		value = -9999
	}
}

SOV_defend_germany = {
	allowed = {
		original_tag = SOV
	}
	enable = {
	OR = {
	date > 1941.1.1
	GER = { is_justifying_wargoal_against = root }
	GER = {
			focus_progress = {
				focus = GER_ussr_war_goal
				progress > 0
			}
		}
	}
	has_war_with_major = no
	NOT = {
	is_ally_with = GER
	}
	OR = {
	is_neighbor_of = GER
	GER = { any_allied_country = { is_neighbor_of = root } }
	GER = { any_subject_country = { is_neighbor_of = root } }
	}
	GER = { is_major = yes }
	}
	abort = {
	or = {
	has_war_with = GER
	}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = prepare_for_war
		id = "GER"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "R02"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "ROM"
		value = 10
	}
	ai_strategy = {
		type = prepare_for_war
		id = "HUN"
		value = 10
	}
	ai_strategy = {
		type = prepare_for_war
		id = "FIN"
		value = 20
	}
}

SOV_war_FIN_time = {
	allowed = {
		original_tag = SOV
		
	}
	enable = {
is_historical_focus_on = yes
has_government = communism    
		date < 1939.11.30
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = "FIN"			
		value = -9999
	}
}

SOV_winterwar = {			
	allowed = {
		original_tag = SOV
		
	}
	enable = {
    tag = SOV
    is_historical_focus_on = yes
	date > 1939.1.1
    NOT = { is_in_faction_with = FIN }
    146 = { is_claimed_by = ROOT }   
	not = { owns_state = 146 }
	}
	abort = {
    date > 1940.6.1
    NOT = { has_war_with = FIN }
    }
	abort_when_not_enabled = yes
	
    ai_strategy = {
		type = invade
        id = FIN
		value = -5000
		
	}
    ai_strategy = {
		type = prepare_for_war
		id = FIN
		value = 200
	}

                #ai_strategy = {
	#	type = ignore_army_incompetence   
	#	value = -1000
	#} 
	ai_strategy = {
		type = front_control ratio = 0.25

		tag = FIN

		#ratio = 0.2

		priority = 500
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
	ai_strategy = {
		type = front_control 

		area = europe
		
		ordertype = invasion
		execute_order = no
	}
    ai_strategy = {
		type = consider_weak
        id = FIN
		value = 500
		
	}  
}

FIN_winterwar = {			
	allowed = {
		or = {
            original_tag = FIN
	    }
	}
	enable = {
tag = FIN
is_historical_focus_on = yes
	               date > 1939.1.1
date < 1941.1.1
NOT = { is_in_faction_with = SOV }
146 = { is_claimed_by = SOV }
owns_state = 146           
	}
	abort = {
date > 1940.6.1
NOT = { has_war_with = SOV }
    }
	abort_when_not_enabled = yes
	
                ai_strategy = {
		type = invade
                                id = "SOV"
		value = -5000
		
	}
 
                

                ai_strategy = {
		type = prepare_for_war
		id = SOV
		value = 999
	}

                ai_strategy = {
		type = antagonize
		id = SOV
		value = 200
	}
                
	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = SOV

		##ratio = 0.8

		priority = 300
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	ai_strategy = {
		type = front_control 

		area = europe
		
		ordertype = invasion
		execute_order = no
	}
                ai_strategy = {
		type = consider_weak
                                id = "SOV"
		value = -3000
		
	}
}

SOV_dont_naval_invade_axis = {
	allowed = {
		original_tag = SOV
	}

	enable = {
		OR = {
			has_war_with = GER
			has_war_with = ITA
			has_war_with = ROM
            has_war_with = JAP
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 168
		value = 800
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 29
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 169
		value = 800
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 18
		value = 800
	}		

	ai_strategy = {
		type = naval_avoid_region
		id = 42
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 173
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 174
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 206
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 207
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 9
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 30
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 16
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 47
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 48
		value = 800
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 42
		value = 800
	}
	
	

	#ai_strategy = {
	#	type = naval_avoid_region
	#	id = 46
	#	value = 600
	#}		
}

SOV_cold_war_navy = { #the red navy
	allowed = {
		has_dlc = "Man the Guns"
		original_tag = SOV
	}

	enable = {
		has_equipment = {
  			convoy > 500
  		}
		if = {
		limit = { or = { tag = JAP tag = SOV is_ally_faction_country = yes is_USA_faction_country = yes } }
		convoy_threat < 0.50
		}
		else = { always = yes }
		NOT = { has_global_flag = no_more_submarine }
    }
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = role_ratio
		id = naval_better_submarine
		value = 9999
	}
}

USA_wants_jungong = {
	allowed = {
		original_tag = USA
	}

	enable = {
		or = { date > 1940.1.1 has_war_with_major = yes num_of_naval_factories > 260 has_civil_war = yes }
		or = { num_of_naval_factories > 200 has_civil_war = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 1500
	}
	
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 200
	}
	
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
	
}
USA_wants_chuanwu = {
	allowed = {
		original_tag = USA
	}

	enable = {
	    or = {
		date > 1939.1.1
		all_core_state = {
		infrastructure > 4
	    }
		}
		num_of_naval_factories < 280
	}

	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = dockyard
		value = 500
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 100
	}
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}
USA_no_need_industrial_complex = {
	allowed = {
		original_tag = USA
	}

	enable = {
		num_of_civilian_factories > 300
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}
USA_build_infrastructure = {
	allowed = {
		original_tag = USA
	}

	enable = {
		date < 1939.1.1
	}
    abort = {
		or = {
			has_war_with_major = yes
			has_civil_war = yes
			all_core_state = {
				infrastructure > 4
			}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 261
        value = 800
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 395
        value = 800
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 393
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 394
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 391
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 392
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 373
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 396
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 388
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 368
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 816
        value = 500
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 383
        value = 200
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 382
        value = 200
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 381
        value = 200
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 380
        value = 200
    }
	
	ai_strategy = {
		type = building_target
		id = infrastructure
		value = 5000
	}
ai_strategy = {
        type = build_building
id = infrastructure
        target = 463
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 629
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 686
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 632
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 650
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 631
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 630
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 727
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 642
        value = -6000
    }
ai_strategy = {
        type = build_building
id = infrastructure
        target = 638
        value = -6000
    }

}

PRC_wants_FAZHAN = {
	allowed = {
		original_tag = PRC
	}
	enable = {
		has_country_flag = PRC_Establish_state_or_independent_government
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 650
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 35
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 350
	}
    ai_strategy = {
		type = building_target
		id = dockyard
		value = 100
	}
}

PRC_peace_liberate_beiping = {
    allowed = {
		original_tag = PRC
	}
	enable = {
            has_war_with = event_target:WTT_current_china_leader
			has_global_flag = PRC_civil_war_started
            SUY = {
			controls_state = 608
			has_cosmetic_tag = huabei_bandit_supression_hq
			has_war_with = root
			}
			date < 1949.1.1
			608 = {
			    all_neighbor_state = { is_controlled_by = root }
			}
	}
    abort = { has_global_flag = PRC_contact_fuzuoyi_decision_happen }
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = SUY
		state = 608

		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
}
PRC_peace_liberate_sik = {
    allowed = {
		original_tag = PRC
	}
	enable = {
        has_war_with = CHI
		any_enemy_country = {
				tag = SIK
				NOT = {
					OR = {
						has_country_flag = I_am_turkestan
						has_idea = SIK_For_the_TAR_revolution
					}
				}
				has_government = neutrality
				is_subject_of = CHI
				is_neighbor_of = ROOT
		}
	    has_global_flag = PRC_civil_war_started
	}
    abort = { has_global_flag = PRC_contact_sik_decision_happen }
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = consider_weak
		id = "SIK"
		value = -7590
	}
	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = SIK

		priority = 2000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
}

PRC_dont_help_ally = {
    allowed = {
		or = {
            original_tag = PRC
	    }
	}
	enable = {
        tag = PRC
		has_war_with = JAP
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = support
		id = CHI
		value = -500
	}
    ai_strategy = {
		type = support
		id = SHX
		value = -500
	}
	ai_strategy = {
		type = support
		id = SUY
		value = -500
	}
	ai_strategy = {
		type = support
		id = SHD
		value = -500
	}
	ai_strategy = {
		type = support
		id = GUD
		value = -500
	}
                ai_strategy = {
		type = support
		id = GXC
		value = -500
	}
    ai_strategy = {
		type = support
		id = YUN
		value = -500
	}
                ai_strategy = {
		type = support
		id = XSM
		value = -500
	}
                ai_strategy = {
		type = support
		id = XIK
		value = -500
	}
                ai_strategy = {
		type = support
		id = NXM
		value = -500
	}
	ai_strategy = {
		type = support
		id = GSM
		value = -500
	}
    ai_strategy = {
		type = support
		id = SIK
		value = -500
	}
                ai_strategy = {
		type = support
		id = TNG
		value = -500
	}
    ai_strategy = {
		type = support
		id = SOV
		value = -500
	}
                 ai_strategy = {
		type = support
		id = TAN
		value = -500
	}
    ai_strategy = {
		type = support
		id = MON
		value = -500
	}
        
    ai_strategy = {
		type = dont_defend_ally_borders
		id = CHI
		value = 500
	}
                ai_strategy = {
		type = dont_defend_ally_borders
		id = YUN
		value = 500
	}
                ai_strategy = {
		type = dont_defend_ally_borders
		id = GXC
		value = 500
	}
                ai_strategy = {
		type = dont_defend_ally_borders
		id = XSM
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = GSM
		value = 500
	}
                ai_strategy = {
		type = dont_defend_ally_borders
		id = SIK
		value = 500
	}
    ai_strategy = {
		type = dont_defend_ally_borders
		id = GUD
		value = 500
	}
	
	ai_strategy = {
		type = dont_defend_ally_borders
		target = asia
		value = 1000
	}
}

KMT_lets_rush_prc_at_beginning = {
	enable = {
	    OR = {
            TAG = event_target:WTT_current_china_leader
            TAG = CHI
        }
		OR = {
        has_idea = KMT_Strategic_initiative
		any_enemy_country = {
	or = {
	tag = event_target:WTT_communist_china
	tag = PRC
	}
	has_government = communism
	surrender_progress > 0.5
	}
		}
		check_variable = {
			This.infantry_equipment_deficit < 30000 #guo
		}
	}
	abort_when_not_enabled = yes
    
	ai_strategy = {
		type = consider_weak
		id = "PRC"
		value = 500
	}
	
	ai_strategy = {
		type = front_control ratio = 0.6

		tag = PRC

		#ratio = 0.8

		priority = 2000
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = SUY
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = SHX
		value = 100
	}
	ai_strategy = {
		type = protect
		id = SUY
		value = 500
	}
	ai_strategy = {
		type = protect
		id = SHX
		value = 100
	}
}

warlord_should_defend_prc = {
	allowed = {
		OR = {
		TAG = NXM
		TAG = XSM
		TAG = GSM
		}
	}
	enable = {
		is_neighbor_of = PRC
	}
	abort = {
	OR = {
	is_in_faction_with = PRC
	is_subject_of = PRC
	has_war_with = JAP
	has_government = PRC
	
	any_neighbor_country = {
	not = { tag = PRC }
	is_ai = no
	}
	
	}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = prepare_for_war
		id = PRC
		value = 9999
	}
	ai_strategy = {
		type = front_unit_request
		tag = PRC
		value = 9999
	}
	ai_strategy = {
		type = conquer
		id = PRC
		value = 999
	}
    ai_strategy = {
		type = antagonize
		id = PRC
		value = 999
	}
	
	
}

SHX_should_defend_prc = {
	allowed = {
		TAG = SHX
	}
	enable = { 
		is_neighbor_of = PRC
	}
	abort = {
	    date > 1936.4.1
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = prepare_for_war
		id = PRC
		value = 7500
	}
	ai_strategy = {
		type = consider_weak
		id = PRC
		value = -7500
	}
}

warlord_dont_join_japan = {
	allowed = {
	    or = {
		is_warlord = yes
		tag = SIK
		tag = TIB
		}
	}
	enable = { 
		is_historical_focus_on = yes
		is_subject = no
		JAP = {
		OR = {
		has_government = fascism
		has_government = neutrality
		has_offensive_war_with = CHI
		}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = JAP
		value = -50000
	}
	ai_strategy = {
		type = antagonize
		id = JAP
		value = 100
	}
}

fascism_dont_send_volunteers_to_japan = {
	
	enable = { 
		OR = {
		has_government = fascism
		has_government = neutrality
		}
		JAP = {
		has_offensive_war = yes
		OR = {
		has_government = neutrality
		has_government = fascism
		}
		}
		NOT = {
		has_global_flag = tripartite_pact
		}
		is_historical_focus_on = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = send_volunteers_desire
		id = JAP
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = JAP
		value = -9999
	}
	ai_strategy = {
		type = support
		id = JAP
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = MAN
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = MAN
		value = -9999
	}
	ai_strategy = {
		type = support
		id = MAN
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = MEJ
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = MEJ
		value = -9999
	}
	ai_strategy = {
		type = support
		id = MEJ
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = ECA
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = ECA
		value = -9999
	}
	ai_strategy = {
		type = support
		id = ECA
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = RRC
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = RRC
		value = -9999
	}
	ai_strategy = {
		type = support
		id = RRC
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = EHB
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = EHB
		value = -9999
	}
	ai_strategy = {
		type = support
		id = EHB
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = RFM
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = RFM
		value = -9999
	}
	ai_strategy = {
		type = support
		id = RFM
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = JNC
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = JNC
		value = -9999
	}
	ai_strategy = {
		type = support
		id = JNC
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = MAF
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = MAF
		value = -9999
	}
	ai_strategy = {
		type = support
		id = MAF
		value = -9999
	}
}

communism_democratic_dont_send_volunteers_to_japan = {
	
	enable = {
		OR = {
		has_government = communism
		is_democratic_type = yes
		}
		JAP = {
		has_offensive_war = yes
		OR = {
		has_government = neutrality
		has_government = fascism
		}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = send_volunteers_desire
		id = JAP
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = JAP
		value = -9999
	}
	ai_strategy = {
		type = support
		id = JAP
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = MAN
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = MAN
		value = -9999
	}
	ai_strategy = {
		type = support
		id = MAN
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = MEJ
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = MEJ
		value = -9999
	}
	ai_strategy = {
		type = support
		id = MEJ
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = ECA
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = ECA
		value = -9999
	}
	ai_strategy = {
		type = support
		id = ECA
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = RRC
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = RRC
		value = -9999
	}
	ai_strategy = {
		type = support
		id = RRC
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = EHB
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = EHB
		value = -9999
	}
	ai_strategy = {
		type = support
		id = EHB
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = RFM
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = RFM
		value = -9999
	}
	ai_strategy = {
		type = support
		id = RFM
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = JNC
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = JNC
		value = -9999
	}
	ai_strategy = {
		type = support
		id = JNC
		value = -9999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = MAF
		value = -9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = MAF
		value = -9999
	}
	ai_strategy = {
		type = support
		id = MAF
		value = -9999
	}
}

ALL_needs_to_save_ppzzz = {#FUCK YOU SB AI

	enable = {
		NOT = { tag = ETH }
		NOT = { tag = BUL }
		NOT = { tag = ROM }
		NOT = { tag = YUG }
		NOT = { tag = GRE }
		NOT = { tag = TUR }
		NOT = { tag = SWI }
		NOT = { is_subject_of = JAP }
		
		has_political_power < 750
		is_historical_focus_on = yes
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = pp_spend_priority
		id = relation
		value = -9999
	}
}

CHI_help_TNG = {
	allowed = { tag = CHI }
	enable = {
		tag = CHI
		country_exists = TNG
		has_government = TNG
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = send_volunteers_desire
		id = "TNG"
		value = -9999
	}
                ai_strategy = {
		type = support
		id = "TNG"
		value = 100
	}
                ai_strategy = {
		type = befriend
		id = "TNG"
		value = 35
	}
}

chi_winter_offensive_1939 = {#Only perform careful attacks, we want to defend while germany has buffs.
	allowed = {
		original_tag = CHI
	}

	enable = {
		has_defensive_war_with = JAP
any_core_state = { has_dynamic_modifier = { modifier = chinese_offensive scope = JAP } }
check_variable = {
			This.infantry_equipment_deficit < 25000 #guo
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.6

		tag = JAP

		#ratio = 0.8

		priority = 999
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}
                ai_strategy = {
		type = front_control ratio = 0.6

		tag = RRC

		#ratio = 0.8

		priority = 999
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}
	
	ai_strategy = {
		type = front_control ratio = 0.6

		tag = EHB

		#ratio = 0.8

		priority = 999
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}
	
                ai_strategy = {
		type = front_control ratio = 0.6

		tag = RFM

		#ratio = 0.8

		priority = 999
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}
ai_strategy = {
		type = front_control ratio = 0.6

		tag = JNC

		#ratio = 0.8

		priority = 600
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}
                ai_strategy = {
		type = consider_weak
		id = JAP
		value = 500
	}
                
                ai_strategy = {
		type = consider_weak
		id = RRC
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = EHB
		value = 500
	}

                ai_strategy = {
		type = consider_weak
		id = RFM
		value = 500
	}
ai_strategy = {
		type = consider_weak
		id = JNC
		value = 500
	}
}

# befriend
# conquer
# antagonize
# build_ship
# build_army
# unit_ratio
# build_building
# research_tech
# garrison
# protect
# influence

FIN_wants_army = {
	allowed = {
	    OR = {
		original_tag = FIN
		original_tag = SIA
		original_tag = FIC
		original_tag = VIN
		original_tag = KOR
		original_tag = BUR
		original_tag = RAJ
		original_tag = AST
		original_tag = NZL
		original_tag = EGY
		original_tag = CAN
		original_tag = BEL
		original_tag = HOL
		original_tag = GRE
		original_tag = ROM
		original_tag = HUN
		original_tag = BUL
		original_tag = YUG
		
		original_tag = POL
		original_tag = CZE
		original_tag = TUR
		original_tag = SPR
		original_tag = POR
		original_tag = SWE
		
		original_tag = MEX
		original_tag = BRA
		original_tag = SIK
		original_tag = TNG
		}
	}
	
	enable = {
		date > 1937.1.1
	}
	abort = {
		num_divisions > 80
	}

	ai_strategy = { #not worth building anything else
		type = building_target
		id = arms_factory
		value = 1000
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
	
	ai_strategy = {
        type = force_build_armies
        value = 3000
	}
    ai_strategy = {
		type = role_ratio
		id = infantry
		value = 1000
	}
}
FIN_we_just_need_to_hold_the_line_not_go_for_it_vs_sovs = { #it is bad timing
	allowed = {
		original_tag = FIN
	}

	enable = {
	    has_war_with = SOV
                               GER = {
                                    has_war_with = SOV
                               }
                               208 = {
                                    is_fully_controlled_by = SOV
                               }
		
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = SOV

		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
    ai_strategy = {
		type = consider_weak
		id = SOV
		value = -7590
	}
}
FIN_its_timing = {#go go go
	allowed = {
		original_tag = FIN
	}

	enable = {		
		has_war_with = SOV                               
                                NOT = {
                                            208 = {
                                                      is_fully_controlled_by = SOV
                                                      }
                                 
                                }
		GER = { has_war_with = SOV }
		check_variable = {
			This.infantry_equipment_deficit < 50000 #guo
		}
	}
                abort = {
				    or = {
                    all_core_state = { is_fully_controlled_by = root }
					and = {
					has_full_control_of_state = 722
					has_full_control_of_state = 148
					has_full_control_of_state = 147
					has_full_control_of_state = 929
					has_full_control_of_state = 150
					has_full_control_of_state = 146
					has_full_control_of_state = 111
					}
					}
                }
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = SOV
		state_trigger = { not = { state = 195 state = 208 state = 244 } }

		priority = 500
		
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
}
FIN_stop_again = { #we have taken all core state so dont mess sov in further
	allowed = {
		original_tag = FIN
	}

	enable = {
		                        or = {
                    all_core_state = { is_fully_controlled_by = root }
					and = {
					has_full_control_of_state = 722
					has_full_control_of_state = 148
					has_full_control_of_state = 147
					has_full_control_of_state = 929
					has_full_control_of_state = 150
					has_full_control_of_state = 146
					has_full_control_of_state = 111
					}
					}
								has_war_with = SOV
	}
	
	abort = {
	SOV = { surrender_progress > 0.7 }
	}
                
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = SOV

		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
    ai_strategy = {
		type = consider_weak
		id = SOV
		value = -7590
	}
}
FIN_dont_attack_leningrad = { #Soviet AI just need to defense FIN and wait to negotiations 
	allowed = {
		original_tag = FIN
	}

	enable = {
		has_war_with = SOV
		has_war_together_with = GER
		controls_province = 3060
		controls_province = 9150
	}
	
	abort = {
	    SOV = { surrender_progress > 0.7 }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 1 #guo
		tag = SOV
		state_trigger = {
			OR = {
				state = 146
				state = 195
				state = 216
				state = 208
				state = 244
		        state = 264
			}
		}
		
		priority = 10000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
	ai_strategy = {
		type = front_control ratio = 1 #guo
		tag = SOV
		state = 146
		state = 195
		state = 216
		state = 208
		state = 244
		state = 264
		
		state_trigger = {
			OR = {
				state = 146
				state = 195
				state = 216
				state = 208
				state = 244
		        state = 264
			}
		}
		
		priority = 12000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = no
	}
}

SOV_we_just_need_to_hold_the_line_not_go_for_it_vs_FINS = { #Soviet AI just need to defense FIN and wait to negotiations 
	allowed = {
		original_tag = SOV
	}

	enable = {
		ROOT = {
			has_defensive_war = yes
			has_war_with = FIN
		}
		
		date < 1944.6.8
		GER = { 
			exists = yes
			has_offensive_war_with = ROOT 
		}
		FIN = { 
			has_capitulated = no 
			is_subject = no
		}
		195 = { is_controlled_by_ROOT_or_ally = yes }
		213 = { is_controlled_by_ROOT_or_ally = yes }
		215 = { is_controlled_by_ROOT_or_ally = yes }
	}
	
	abort = {
	date > 1942.1.1
	OR = {
	    surrender_progress < 0.05
		206 = { controller = { is_in_faction_with = SOV } }
		199 = { controller = { is_in_faction_with = SOV } }
		78 = { controller = { is_in_faction_with = SOV } }
		97 = { controller = { is_in_faction_with = SOV } }
		94 = { controller = { is_in_faction_with = SOV } }
		has_global_flag = d_day_happened
		west_europe_is_dangerous = yes
		}
	}
                
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = FIN

		priority = 10
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
    ai_strategy = {
		type = consider_weak
		id = FIN
		value = -999
	}
}

###GUO
FIN_guli = {
	
	enable = {
	               has_war_with = GER
                               OR = { has_government = democratic has_government = n_socialism }  
                               is_historical_focus_on = yes
							   FIN = { is_ai = yes }
		country_exists = SOV
SOV = { is_major = yes }  
	}
                abort = {
OR = {
AND = {
GER = { has_war_with = SOV }
FIN = { has_war_with = SOV }
}
FIN = { has_war_with = ROOT }
has_war_with = SOV
is_in_faction_with = FIN
}
                }

	abort_when_not_enabled = yes

	#ai_strategy = {
	#	type = ignore
	#	id = "FIN"
	#	value = 999
	#}
                ai_strategy = {
		type = protect
		id = "FIN"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "FIN"
		value = 100
	}
ai_strategy = { #help you in other ways
		              type = send_lend_lease_desire
		              id = FIN
		              value = 100
	                            }
                ai_strategy = {
		type = diplo_action_desire
		id = "FIN"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "FIN"		
		value = -9999
	}
}

PER_guli = { #Finnish AI takes mercy on Soviets even if the front is weak
	

	enable = {
	               has_war_with = GER
                               is_democratic_type = yes
                               is_historical_focus_on = yes
							   PER = { is_ai = yes }
		country_exists = SOV
SOV = { is_major = yes }  
	}
                abort = {
OR = {
has_war_with = SOV
has_war_with = PER
PER = { has_government = democratic }
is_in_faction_with = PER
}
                }

	abort_when_not_enabled = yes

	
                ai_strategy = {
		type = protect
		id = "PER"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "PER"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "PER"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "PER"		
		value = -9999
	}
}

ROM_guli = { #Finnish AI takes mercy on Soviets even if the front is weak
	

	enable = {
country_exists = SOV
SOV = { is_major = yes }  
                               is_democratic_type = yes
                               is_historical_focus_on = yes
							   ROM = { is_ai = yes }
	}
    abort = {
OR = {
has_war_with = SOV
has_war_with = ROM
ROM = { has_completed_focus = ROM_appoint_allied_friendly_government }
is_in_faction_with = ROM
}
    }

	abort_when_not_enabled = yes

	ai_strategy = {
		type = ignore
		id = "ROM"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "ROM"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "ROM"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "ROM"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "ROM"		
		value = -9999
	}
}

BUL_guli = { #Finnish AI takes mercy on Soviets even if the front is weak
	

	enable = {
	               ###has_war_with = GER
#country_exists = SOV
#SOV = { is_major = yes }  
                               is_democratic_type = yes
                               is_historical_focus_on = yes
							   BUL = { is_ai = yes }
		BUL = { NOT = { has_government = democratic } }
	}
                abort = { 
OR = {
has_war_with = BUL
is_in_faction_with = BUL
}
                }
	abort_when_not_enabled = yes

	ai_strategy = {
		type = ignore
		id = "BUL"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "BUL"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "BUL"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "BUL"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "BUL"		
		value = -9999
	}
}

TUR_guli = { #Finnish AI takes mercy on Soviets even if the front is weak
	

	enable = {
	               ###has_war_with = GER
country_exists = SOV
SOV = { is_major = yes }  
                               is_democratic_type = yes
                               is_historical_focus_on = yes
							   TUR = { is_ai = yes }
	
	}
                abort = {
OR = {
has_war_with = SOV
has_war_with = TUR
TUR = { has_completed_focus = TUR_join_the_allies }
is_in_faction_with = TUR
}
                }

	abort_when_not_enabled = yes

	ai_strategy = {
		type = ignore
		id = "TUR"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "TUR"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "TUR"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "TUR"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "TUR"		
		value = -9999
	}
}

AFG_guli = { #Finnish AI takes mercy on Soviets even if the front is weak
	

	enable = {
	               ###has_war_with = GER
country_exists = SOV
SOV = { is_major = yes }  
                               is_democratic_type = yes
                               is_historical_focus_on = yes
							   AFG = { is_ai = yes }
	
	}
                abort = {
OR = {
has_war_with = SOV
has_war_with = AFG
AFG = { has_government = democratic }
is_in_faction_with = AFG
}
                }

	abort_when_not_enabled = yes

	ai_strategy = {
		type = ignore
		id = "AFG"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "AFG"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "AFG"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "AFG"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "AFG"		
		value = -9999
	}
}

TIB_guli = { #Finnish AI takes mercy on Soviets even if the front is weak
	

	enable = {
	               ###has_war_with = GER
OR = {
country_exists = event_target:WTT_communist_china
country_exists = event_target:WTT_current_china_leader
}
#OR = {
#CHI = { is_major = yes }
#PRC = { is_major = yes }
#}
###SOV = { is_major = yes }  
                               is_democratic_type = yes
                               is_historical_focus_on = yes
							   TIB = { is_ai = yes }
	
	}
                abort = {
OR = {
has_war_with = event_target:WTT_communist_china
has_war_with = event_target:WTT_current_china_leader
has_war_with = TIB
TIB = { has_government = democratic }
is_in_faction_with = TIB
}
                }

	abort_when_not_enabled = yes

	ai_strategy = {
		type = ignore
		id = "TIB"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "TIB"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "TIB"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "TIB"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "TIB"		
		value = -9999
	}
}

baltic_guli = { #Finnish AI takes mercy on Soviets even if the front is weak
	

	enable = {
	               ###has_war_with = GER
country_exists = SOV
SOV = { is_major = yes }  
                               is_democratic_type = yes
                               is_historical_focus_on = yes
							   LIT = { is_ai = yes }
LAT = { is_ai = yes }
EST = { is_ai = yes }
	
	}
                abort = {
OR = {
has_war_with = SOV
has_war_with = LIT
has_war_with = LAT
has_war_with = EST
LIT = { has_government = democratic }
LAT = { has_government = democratic }
EST = { has_government = democratic }
is_in_faction_with = LIT
is_in_faction_with = LAT
is_in_faction_with = EST
}
                }

	abort_when_not_enabled = yes

	ai_strategy = {
		type = ignore
		id = "LIT"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "LIT"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "LIT"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "LIT"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "LIT"		
		value = -9999
	}

                ai_strategy = {
		type = ignore
		id = "LAT"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "LAT"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "LAT"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "LAT"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "LAT"		
		value = -9999
	}

                ai_strategy = {
		type = ignore
		id = "EST"
		value = 999
	}
                ai_strategy = {
		type = protect
		id = "EST"
		value = -999
	}
                ai_strategy = {
		type = support
		id = "EST"
		value = -999
	}
                ai_strategy = {
		type = diplo_action_desire
		id = "EST"
		target = guarantee
		value = -9999
	}
                ai_strategy = {
		type = alliance
		id = "EST"		
		value = -9999
	}
}

ENG_wants_jungong = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		or = { date > 1937.6.1 has_war_with_major = yes has_civil_war = yes }
	}
	abort = {
		or = {
			num_of_military_factories > 700
		}
	}
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 700
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}

JAP_wants_jungong = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		or = { date > 1937.6.1 has_war_with_major = yes has_civil_war = yes }
	}
	abort = {
		or = {
			num_of_military_factories > 600
		}
	}
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 600
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}

GER_wants_jungong = {
	allowed = {
		original_tag = GER
	}
	enable = {
		or = { date > 1937.6.1 has_war_with_major = yes has_civil_war = yes }
	}
	abort = {
		or = {
			num_of_military_factories > 1000
		}
	}
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 1000
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}

GER_wants_chuanwu = {
	allowed = {
		original_tag = GER
	}

	enable = {
		date > 1937.6.1
		date < 1941.1.1
		num_of_naval_factories < 40
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = dockyard
		value = 50
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 50
	}
}

SOV_wants_LIANYOU = {
	allowed = {
		original_tag = SOV
	}

	enable = {
		has_completed_focus = SOV_restoration_and_development
		not = {
		is_in_faction_with = ENG
		is_in_faction_with = USA
		}
		rubber < 300
		check_variable = { resource_imported@rubber > 60 }
	}
	abort = {
		check_variable = { resource_imported@rubber < 30 }
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = synthetic_refinery
		value = 100
	}
}

USA_wants_lianyou = {
	allowed = {
		original_tag = USA
	}

	enable = {
		OR = {
			date > 1941.1.1
			has_completed_focus = USA_rubber_reserve_company
		}
		rubber < 300
	}
	abort = {
	    OR = {
	    all_core_state = { synthetic_refinery > 1 }
		all_core_state = {
			free_building_slots = {
				building = synthetic_refinery
				size < 1
				include_locked = no
			}
		}
		check_variable = { resource_imported@rubber < 30 }
		}
	}

	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = synthetic_refinery
		value = 100
	}
}

JAP_wants_LIANYOU = {
	allowed = {
		original_tag = JAP
	}

	enable = {
	    OR = {
		date > 1941.1.1
		has_idea = JAP_USA_sanctions_idea_4
		}
		NOT = {
		is_in_faction_with = ENG
		is_in_faction_with = USA
		is_in_faction_with = SOV
		}
	}
	abort = {
	    OR = {
	    all_core_state = { synthetic_refinery > 1 }
		all_core_state = {
			free_building_slots = {
				building = synthetic_refinery
				size < 1
				include_locked = no
			}
		}
		check_variable = { resource_imported@oil < 30 }
		}
	}

	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = synthetic_refinery
		value = 100
	}
}

GER_we_need_more_fucking_rubber_and_oil = {
	allowed = {
		original_tag = GER
	}
	enable = {
		NOT = {
		is_in_faction_with = ENG
		is_in_faction_with = USA
		is_in_faction_with = SOV
		}
		rubber < 200
		or = {
		has_war = yes
		date > 1939.1.1
		}
	}
	abort = {
		OR = {
	    all_core_state = { synthetic_refinery > 1 }
		all_core_state = {
			free_building_slots = {
				building = synthetic_refinery
				size < 1
				include_locked = no
			}
		}
		check_variable = { resource_imported@rubber < 30 }
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = synthetic_refinery
		value = 100
	}
}

ITA_wants_jungong = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		or = { date > 1937.6.1 has_war_with_major = yes has_civil_war = yes }
	}
	abort = {
		or = {
			num_of_military_factories > 500
		}
	}
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 500
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}

ITA_wants_chuanwu = {
	allowed = {
		original_tag = ITA
	}

	enable = {
		date > 1937.6.1
		date < 1940.12.1
		num_of_naval_factories < 45
	}

	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = dockyard
		value = 50
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 100
	}
}

FRA_wants_jungong = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		or = { date > 1937.6.1 has_war_with_major = yes has_civil_war = yes }
	}
	abort = {
		or = {
			num_of_military_factories > 500
		}
	}
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 500
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}

SOV_wants_mingong = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		date < 1938.9.1
	}
	abort = {
	    or = {
	    any_enemy_country = { is_major = yes }
		has_civil_war = yes
		num_of_civilian_factories > 350
		}
	}
	abort_when_not_enabled = yes
	
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 500
	}
}
SOV_wants_jungong = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		or = { date > 1938.9.1 has_war_with_major = yes has_civil_war = yes num_of_civilian_factories > 350 }
	}
	abort = {
		or = {
			num_of_military_factories > 1000
		}
	}
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 1500
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 150
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
	ai_strategy = {
		type = building_target
		id = dockyard
		value = -500
	}
}
SOV_wants_chuanwu = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_military_factories > 1000
	}
	abort = {
		or = {
			num_of_naval_factories > 300
		}
	}
	ai_strategy = {
		type = building_target
		id = dockyard
		value = 400
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 100
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = -500
	}
}

ALL_wants_jungong = {
	
	enable = {
		is_major = no
        has_idea = tot_economic_mobilisation  
		not = { tag = CHI }
	}
	abort = {
		or = {
			num_of_military_factories > 350
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 500
	}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
}

SOV_peace = {
	allowed = {		
	   original_tag = SOV                                              		
	}

	enable = {
    is_historical_focus_on = yes	
	NOT = {
    has_war_with = USA
    has_war_with = ENG
    has_war_with = FRA
	has_war_with = event_target:WTT_current_china_leader
    }
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = declare_war
		id = USA
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = USA
		value = -9999
	}     
                ai_strategy = {
		type = declare_war
		id = ENG
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = ENG
		value = -9999
	}     
                ai_strategy = {
		type = declare_war
		id = FRA
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = FRA
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = WGR
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = POL
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = WGR
		value = -9999
	}
	
	ai_strategy = {
		type = ignore_claim
		id = "USA"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "ENG"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "FRA"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "WGR"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "POL"
		value = 1
	}
	
	ai_strategy = {
		type = contain
		id = "USA"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "ENG"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "FRA"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "WGR"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "POL"
		value = -500
	}
}

SOV_ignore_claim_zz = {
	allowed = {
	   original_tag = SOV
	}

	enable = {
    is_historical_focus_on = yes                              
	has_government = communism
	NOT = { is_in_faction_with = GER }
	date < 1941.6.22
	}
	
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = ignore_claim
		id = "FIN"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "POL"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "ROM"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "TUR"
		value = 1
	}
}

SOV_dont_ally_prc_untill_vist = {
	allowed = {
	   original_tag = SOV
	}

	enable = {
    is_historical_focus_on = yes	
	NOT = {
    is_in_faction_with = PRC
	has_war_together_with = PRC
    }                              
	has_government = PRC
	}
	
	abort = {
	PRC = { has_completed_focus = PRC_Join_USSR }
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = PRC
		value = -9999
	}
	ai_strategy = {
		type = befriend
		id = PRC
		value = 100
	}                 
	ai_strategy = {
		type = support
		id = PRC
		value = 200
	}    
	ai_strategy = {
		type = send_lend_lease_desire
		id = PRC
		value = 200
	}    
}

SIA_dont_ally_anyone_untill_they_coming = {
	allowed = {
	   original_tag = SIA
	}

	enable = {
        not = { is_ally_with = JAP has_war_together_with = JAP }
		not = { is_ally_with = CHI has_war_together_with = CHI }
		not = { is_ally_with = ENG has_war_together_with = ENG }
		
		JAP = { has_War_with = CHI has_completed_focus = southern_expansion_focus }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = prepare_for_war
		id = BUR
		value = 500
	}
	ai_strategy = {
		type = front_unit_request
		tag = BUR
		value = 80
	}
	ai_strategy = {
		type = prepare_for_war
		id = RAJ
		value = 200
	}
	ai_strategy = {
		type = front_unit_request
		tag = RAJ
		value = 30
	}
	ai_strategy = {
		type = prepare_for_war
		id = ENG
		value = 100
	}
	ai_strategy = {
		type = front_unit_request
		tag = ENG
		value = 30
	}
	
	ai_strategy = {
		type = alliance
		id = JAP
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = CHI
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = ENG
		value = -50000
	}
	
	ai_strategy = {
		type = befriend
		id = JAP
		value = 200
	}
	
	ai_strategy = {
		type = support
		id = JAP
		value = -999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = JAP
		value = -999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = JAP
		value = -999
	}
	ai_strategy = {
		type = support
		id = ENG
		value = -999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = ENG
		value = -999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = ENG
		value = -999
	}
	ai_strategy = {
		type = support
		id = CHI
		value = -999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = CHI
		value = -999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = CHI
		value = -999
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = JAP
		target = military_access
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = JAP
		target = docking_rights
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = RRC
		target = military_access
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = RRC
		target = docking_rights
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = EHB
		target = military_access
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = EHB
		target = docking_rights
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = CHI
		target = military_access
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = CHI
		target = docking_rights
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = ENG
		target = military_access
		value = -9999
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = ENG
		target = docking_rights
		value = -9999
	}
}

PRC_dont_ally_sov_untill_vist = {
	allowed = { original_tag = PRC }
	enable = {
    is_historical_focus_on = yes
	NOT = {
    is_in_faction_with = SOV
	has_war_together_with = SOV
    }        
    has_government = SOV
	}
	
	abort = {
	has_completed_focus = PRC_Join_USSR
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = SOV
		value = -9999
	}
	ai_strategy = {
		type = befriend
		id = SOV
		value = 100
	}                 
}

GER_collaboration_on_FRA = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		FRA = {
			exists = yes
			has_capitulated = no
			NOT = { is_ally_with = GER }
			is_major = yes
		}
		num_finished_operations = {
			operation = operation_collaboration_government
			target = FRA
			value < 2
		}
		OR = {
		has_government = fascism
		has_government = neutrality
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_operation
		operation = operation_collaboration_government
		value = 9999
		operation_target = FRA
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 7590
		mission_target = FRA
	}
}

GER_collaboration_on_POL = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		POL = {
			exists = yes
			has_capitulated = no
			NOT = { is_ally_with = GER }
		}
		num_finished_operations = {
			operation = operation_collaboration_government
			target = POL
			value < 2
		}
		OR = {
		has_government = fascism
		has_government = neutrality
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_operation
		operation = operation_collaboration_government
		value = 5670
		operation_target = POL
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 5670
		mission_target = POL
	}
	
}

GER_root_out_resistance_Paris = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		16 = {
			resistance > 15 
		}
		controls_state = 16
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_mission
		value = 2000
		mission = root_out_resistance
		state = 16
		num_operatives = 1
		mission_target = GER
	}
}
GER_root_out_resistance_Warsaw = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		10 = {
			resistance > 15 
		}
		controls_state = 10
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_mission
		value = 2000
		mission = root_out_resistance
		state = 10
		num_operatives = 1
		mission_target = GER
	}
}
GER_the_france_war = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		date > 1939.1.1
		original_tag = GER
		or = {
		has_government = fascism
		has_government = neutrality
		}
		surrender_progress < 0.1
		FRA = {
			exists = yes
			has_capitulated = no
			not = { is_in_faction_with = root }
			not = { is_ally_with = root }
		}
	}
	
	abort = {
	or = {
	has_war_with = ITA
	has_war_with = SOV
	has_war_with = CZE
	}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_mission
		mission = counter_intelligence
		value = 1000
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		state = 28
		num_operatives = 1
		mission_target = FRA
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1500
		state = 735
		num_operatives = 1
		mission_target = FRA
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		state = 18
		num_operatives = 1
		mission_target = FRA
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		state = 16
		num_operatives = 1
		mission_target = FRA
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		state = 34
		num_operatives = 1
		#mission_target = BEL
	}
	
	ai_strategy = {
		type = operation_equipment_priority
		value = 100
	}
}
GER_battle_of_Britain = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		tag = GER
		not = { has_war_with = SOV }
		has_war_with = ENG
		FRA = {
		OR = {
		has_capitulated = yes
		exists = no
		is_in_faction_with = GER
		}
		}
	}
	
	abort = {
		or = {
			date > 1940.10.1
			has_war_with = SOV
			has_war_with = ITA
		}
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 999
		state = 127
		num_operatives = 1
		mission_target = ENG
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 999
		state = 126
		num_operatives = 1
		mission_target = ENG
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 999
		state = 128
		num_operatives = 1
		mission_target = ENG
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_infiltrate_armed_forces_airforce
		value = 9999
		operation_target = SOV
	}
}
GER_the_SOV_war = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		date > 1940.10.1
		tag = GER
		has_government = fascism
		SOV = {
			exists = yes
			not = { is_in_faction_with = GER }
		}
		FRA = {
		OR = {
		has_capitulated = yes
		exists = no
		is_in_faction_with = GER
		}
		}
		ITA = {
		OR = {
		has_capitulated = yes
		exists = no
		is_in_faction_with = GER
		}
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_mission
		mission = counter_intelligence
		value = 1000
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		state = 808#é‡ŒåŠ 
		num_operatives = 1
		#mission_target = SOV
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		state = 206#æ˜Žæ–¯å…‹
		num_operatives = 1
		#mission_target = SOV
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		state = 202#åŸºè¾…
		num_operatives = 1
		#mission_target = SOV
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 100
		state = 219#Moscow
		num_operatives = 1
		#mission_target = SOV
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		state = 195#Leningrad
		num_operatives = 1
		#mission_target = SOV
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 300
		state = 829#æ©æ ¼æ–¯
		num_operatives = 1
		#mission_target = SOV
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 500
		state = 217#Stalingrad
		num_operatives = 1
		#mission_target = SOV
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 9999
		state = 218#Rostov
		num_operatives = 1
		#mission_target = SOV
	}
	
	ai_strategy = {
		type = operation_equipment_priority
		value = 100
	}
}
GER_collaboration_on_SOV = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		tag = GER
		SOV = {
			exists = yes
			has_capitulated = no
			has_war_with = GER
		}
	}
	
	abort = { 
		not = { has_war_with = SOV }
	}
	
	ai_strategy = {
		type = operative_operation
		operation = operation_rescue_operative
		value = 9999
		operation_target = SOV
	}
	
	ai_strategy = {
		type = operation_equipment_priority
		value = 100
	}
}
GER_trade_with_SWE = {
	allowed = {
		original_tag = GER
	}
	
	enable = {
		110 = {
			controller = {
				is_in_faction_with = ROOT
			}
		}
		any_enemy_country = { is_major = yes }
		is_historical_focus_on = yes
		SWE = { 
			is_in_faction = no
			not = { has_war_with = ROOT } 
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_mission
		value = 9999
		mission = control_trade
		num_operatives = 1
		state = 141
		mission_target = SWE
	}
}

JAP_collaboration_on_INS = {
	allowed = {
		original_tag = JAP
	}
	
	enable = {                            
		INS = {
			exists = yes
			has_capitulated = no
			NOT = { is_ally_with = JAP }
		}
		num_finished_operations = {
			operation = operation_collaboration_government
			target = INS
			value < 2
		}
		OR = {
		has_government = fascism
		has_government = neutrality
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operative_operation
		operation = operation_collaboration_government
		value = 99999
		operation_target = INS
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 99999
		mission_target = INS
		num_operatives = 1
	}
}

USA_ENG_peace = {#Only perform careful attacks, we want to defend while germany has buffs.
	allowed = {
		always = yes
	}

	enable = {
is_historical_focus_on = yes
is_ally_faction_country = yes
	               NOT = {
                                          has_war_with = SOV
										  has_war_with = event_target:WTT_communist_china
                               }
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = declare_war
		id = SOV
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = ROM
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = BUL
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = PRC
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = CHI
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = SOV
		value = -9999
	}
	ai_strategy = {
		type = conquer
		id = ROM
		value = -9999
	}
	ai_strategy = {
		type = contain
		id = SOV
		value = -500
	}
	ai_strategy = {
		type = contain
		id = ROM
		value = -500
	}
	ai_strategy = {
		type = contain
		id = BUL
		value = -500
	}
	ai_strategy = {
		type = contain
		id = PRC
		value = -500
	}
	ai_strategy = {
		type = contain
		id = CHI
		value = -500
	}
	
	ai_strategy = {
		type = ignore_claim
		id = "SOV"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "ROM"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "PRC"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "CHI"
		value = 1
	}
}

SOV_dahoufang = {
	allowed = {
		original_tag = SOV
	}
	enable = {
       always = yes
	}
    abort = { is_subject = yes }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 572
        value = 2000
    }
                ai_strategy = {
        type = factory_build_score_factor
        target = 653
        value = 2000
    }

	ai_strategy = {
        type = factory_build_score_factor
        target = 651
        value = 500
    }
                 ai_strategy = {
        type = factory_build_score_factor
        target = 405
        value = 500
    }
                 ai_strategy = {
        type = factory_build_score_factor
        target = 249
        value = 1500
    }
                 ai_strategy = {
        type = factory_build_score_factor
        target = 586
        value = 500
    }
                 ai_strategy = {
        type = factory_build_score_factor
        target = 400
        value = 500
    }
                 ai_strategy = {
        type = factory_build_score_factor
        target = 582
        value = 1500
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 403
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 580
        value = 50
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 571
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 590
        value = 50
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 583
        value = 50
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 402
        value = 50
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 570
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 578
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 568
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 567
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 566
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 564
        value = 100
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 219
        value = 100
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 217
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 195
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 206
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 202
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 221
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 195
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 220
        value = 35
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 882
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 40
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 569
        value = 35
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 654
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 588
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 589
        value = 35
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 585
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 830
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 878
        value = 35
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 563
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 831
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 823
        value = 35
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 573
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 401
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 407
        value = 35
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 406
        value = 35
    }
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 577
        value = 25
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 576
        value = 25
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 824
        value = 25
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 516
        value = 25
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 878
        value = 25
    }
}

CHI_peace = {#Only perform careful attacks, we want to defend while germany has buffs.
	allowed = {		
			original_tag = CHI
			                                             		
	}

	enable = {	
is_historical_focus_on = yes	
	               NOT = {
                                          has_war_with = USA
                                          has_war_with = ENG
                                          has_war_with = SOV
                                          

                               }
                                
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = declare_war
		id = USA
		value = -9999
	}
                ai_strategy = {
		type = befriend
		id = USA
		value = 25
	}
	ai_strategy = {
		type = conquer
		id = USA
		value = -9999
	}     
                ai_strategy = {
		type = declare_war
		id = ENG
		value = -9999
	}
                ai_strategy = {
		type = befriend
		id = ENG
		value = 15
	}
	ai_strategy = {
		type = conquer
		id = ENG
		value = -9999
	}     
                ai_strategy = {
		type = ignore
		id = ENG
		value = 9999
	}     
                ai_strategy = {
		type = declare_war
		id = SOV
		value = -9999
	}
                ai_strategy = {
		type = befriend
		id = SOV
		value = 15
	}
	ai_strategy = {
		type = conquer
		id = SOV
		value = -9999
	}                  
                ai_strategy = {
		type = declare_war
		id = TAN
		value = -9999
	}
                ai_strategy = {
		type = befriend
		id = TAN
		value = 15
	}
	ai_strategy = {
		type = conquer
		id = TAN
		value = -9999
	} 
                ai_strategy = {
		type = ignore
		id = TAN
		value = 9999
	}     
                ai_strategy = {
		type = declare_war
		id = FIC
		value = -9999
	}
                ai_strategy = {
		type = befriend
		id = FIC
		value = 15
	}
	ai_strategy = {
		type = conquer
		id = FIC
		value = -9999
	}     
                ai_strategy = {
		type = ignore
		id = FIC
		value = 9999
	}     
                ai_strategy = {
		type = declare_war
		id = POR
		value = -9999
	}
                ai_strategy = {
		type = ignore
		id = POR
		value = 9999
	}     
	ai_strategy = {
		type = conquer
		id = POR
		value = -9999
	}     
                ai_strategy = {
		type = befriend
		id = POR
		value = 15
	}
	ai_strategy = {
		type = declare_war
		id = RAJ
		value = -9999
	}
                ai_strategy = {
		type = ignore
		id = RAJ
		value = 9999
	}     
	ai_strategy = {
		type = conquer
		id = RAJ
		value = -9999
	}     
                ai_strategy = {
		type = befriend
		id = RAJ
		value = 15
	}
                ai_strategy = {
		type = befriend
		id = HOL
		value = 15
	}
                ai_strategy = {
		type = befriend
		id = BEL
		value = 15
	}
	
	
	ai_strategy = {
		type = ignore_claim
		id = "ENG"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "POR"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "FIC"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "RAJ"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "MON"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "TAN"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "SOV"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "JAP"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "SIK"
		value = 1
	}
	
	ai_strategy = {
		type = contain
		id = "USA"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "ENG"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "FRA"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "SOV"
		value = -500
	}
}

PRC_peace = {#Only perform careful attacks, we want to defend while germany has buffs.
	allowed = {		
			original_tag = PRC
			                                             		
	}

	enable = {	
is_historical_focus_on = yes	
	               NOT = {
                                          has_war_with = USA
                                          has_war_with = ENG
                                          has_war_with = SOV
                                          

                               }
                                
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = ignore_claim
		id = "ENG"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "POR"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "FIC"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "RAJ"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "MON"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "TAN"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "SOV"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "JAP"
		value = 1
	}
	ai_strategy = {
		type = ignore_claim
		id = "SIK"
		value = 1
	}
	
	ai_strategy = {
		type = declare_war
		id = USA
		value = -9999
	}
                
	ai_strategy = {
		type = conquer
		id = USA
		value = -9999
	}     
                ai_strategy = {
		type = declare_war
		id = ENG
		value = -9999
	}
                ai_strategy = {
		type = ignore
		id = ENG
		value = 9999
	}     
	ai_strategy = {
		type = conquer
		id = ENG
		value = -9999
	}     
                ai_strategy = {
		type = declare_war
		id = SOV
		value = -9999
	}
               
	ai_strategy = {
		type = conquer
		id = SOV
		value = -9999
	}   
                ai_strategy = {
		type = declare_war
		id = MON
		value = -9999
	}
                
	ai_strategy = {
		type = conquer
		id = MON
		value = -9999
	}   
                ai_strategy = {
		type = declare_war
		id = TAN
		value = -9999
	}
                
	ai_strategy = {
		type = conquer
		id = TAN
		value = -9999
	} 
                ai_strategy = {
		type = declare_war
		id = FIC
		value = -9999
	}
                ai_strategy = {
		type = ignore
		id = FIC
		value = 9999
	}     
	ai_strategy = {
		type = conquer
		id = FIC
		value = -9999
	}     
                ai_strategy = {
		type = declare_war
		id = POR
		value = -9999
	}
                ai_strategy = {
		type = ignore
		id = POR
		value = 9999
	}     
	ai_strategy = {
		type = conquer
		id = POR
		value = -9999
	}     
	
	ai_strategy = {
		type = contain
		id = "USA"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "ENG"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "FRA"
		value = -500
	}
	ai_strategy = {
		type = contain
		id = "SOV"
		value = -500
	}
}

dont_get_in_china_civil_war = {

	enable = {
		NOT = { tag = PRC }
		NOT = { tag = CHI }
		PRC = { has_war_with = CHI }
		is_historical_focus_on = yes
	}
	abort = { has_global_flag = chi_guoguangjihua }

	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_volunteers_desire
		id = "PRC"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "CHI"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "NEA"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SHX"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GXC"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XSM"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GSM"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "NXM"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SUY"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SIC"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "YUN"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XIK"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XIA"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GUD"
		value = -99999
	}
	
}
USA_get_in_china_civil_war = {

	enable = {
	    is_USA_faction_country = yes
		is_major = yes
		not = { has_government = communism }
		NOT = { tag = PRC }
		NOT = { tag = CHI }
		event_target:WTT_communist_china = { has_war_with = event_target:WTT_current_china_leader }
		has_global_flag = chi_guoguangjihua
		NOT = { has_War_with = event_target:WTT_current_china_leader is_ally_with = event_target:WTT_communist_china }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_volunteers_desire
		id = "CHI"
		value = 99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "CHI"
		value = 99999
	}
	ai_strategy = {
		type = support
		id = "CHI"
		value = 99999
	}
	ai_strategy = {
		type = protect
		id = "CHI"
		value = 99999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "NEA"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SHX"
		value = 99999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "GXC"
		value = 99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "GXC"
		value = 99999
	}
	ai_strategy = {
		type = support
		id = "GXC"
		value = 99999
	}
	ai_strategy = {
		type = protect
		id = "GXC"
		value = 99999
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "XSM"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GSM"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "NXM"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SUY"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SIC"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "YUN"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XIK"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XIA"
		value = 99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GUD"
		value = 99999
	}
	
}

stop_produce_army_PRC = {
	allowed = {
		original_tag = PRC
	}
	enable = {
		num_divisions > 600
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -50000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_CHI = {
	allowed = {
		original_tag = CHI
	}
	enable = {
		num_divisions > 600
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_USA = {
	allowed = {
		original_tag = USA
	}
	enable = {
		num_divisions > 600
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_SOV = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_divisions > 700
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_JAP = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		num_divisions > 500
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_ITA = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		num_divisions > 350
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_GER = {
	allowed = {
		original_tag = GER
	}
	enable = {
		num_divisions > 600
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_ENG = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		num_divisions > 450
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

stop_produce_army_FRA = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		num_divisions > 450
	}
	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = -70000
    }
	ai_strategy = {
		type = ai_wanted_divisions_factor
		value = -999
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = -9999
	}
	
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
# å„ç§å†›é˜Ÿæ‹›å‹Ÿæ„æ„¿-99999
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = camelry
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armored_car
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = suppression
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = light_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -9999
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
}

ITA_wants_mingong = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		date < 1937.6.1                             
	}
	abort = {
	    or = {
	    any_enemy_country = { is_major = yes }
		has_civil_war = yes
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 200
	}
}

FRA_wants_mingong = {
	allowed = {
		original_tag = FRA
	}
	enable = {
		date < 1937.6.1                             
	}
	abort = {
	    or = {
	    any_enemy_country = { is_major = yes }
		has_civil_war = yes
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 200
	}
}

GER_wants_mingong = {
	allowed = {
		original_tag = GER
	}
	enable = {
		date < 1937.6.1	
	}
	abort = {
	    or = {
	    any_enemy_country = { is_major = yes }
		has_civil_war = yes
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 200
	}
	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 65
		value = 99999
	}
	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 51
		value = 99999
	}
	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 42
		value = 99999
	}
}

ENG_in_for_the_long_haul_bruv_tt = {
	allowed = { original_tag = ENG }
	enable = {
		date < 1937.6.1		
	}
	abort = {
	    or = {
	    any_enemy_country = { is_major = yes }
		has_civil_war = yes
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 200
	}	
}

MAJOR_MIN_convoy_building = {
	enable = {
		is_major = yes
        has_equipment = {
  			convoy < 500
  		}
NOT = { tag = USA }
NOT = { tag = ENG }
NOT = { tag = JAP }
NOT = { tag = SOV }
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = convoy
		value = 80
	}
	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 100
	}
}

MAJOR_MIN_convoy_building_NAVAL = {
	enable = {
		is_major = yes
        has_equipment = {
  			convoy < 800
  		}
OR = {
 tag = USA 
 tag = ENG 
 tag = JAP 
tag = SOV 
}
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = convoy
		value = 80
	}
	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 100
	}
}

ROM_boost_oil_production = {
	allowed = {
		always = yes
	}

	enable = {
        controls_state = 46
	}
	abort={
		46 = { infrastructure > 4 }
	}

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 46
		value = 99999
	}
}

ROM_dont_join_ger_early = {
	allowed = {
		original_tag = ROM
		has_dlc = "Death or Dishonor"
	}

	enable = {
    is_historical_focus_on = yes
	is_in_faction = no
	has_war = no
	OR = {
	has_government = neutrality
	has_government = fascism
	has_government = democratic
	}
	GER = { has_government = fascism }
	}
	
	abort = {
	    OR = {
		has_completed_focus = ROM_join_axis
		has_country_leader = { ruling_only = yes character = ROM_ion_antonescu }
		}
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = alliance
		id = "GER"
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = "ITA"
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = "HUN"
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = "JAP"
		value = -50000
	}
	
	ai_strategy = {
		type = alliance
		id = "ENG"
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = "FRA"
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = "USA"
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = "SOV"
		value = -50000
	}
	
	ai_strategy = {
		type = alliance
		id = "CHI"
		value = -50000
	}
	ai_strategy = {
		type = alliance
		id = "PRC"
		value = -50000
	}
}

TUR_dont_declare_war = {
	allowed = {
		original_tag = TUR
	}
	enable = {
		is_historical_focus_on = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = declare_war
		id = "SOV"			
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = "ROM"			
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = "PER"			
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = "IRQ"			
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = "USA"			
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = "FRA"			
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = "SYR"			
		value = -9999
	}
	ai_strategy = {
		type = declare_war
		id = "ENG"			
		value = -9999
	}
}

CHI_wants_mingong_before_77event = {
	allowed = {
		original_tag = CHI
	}
	enable = {
		date < 1937.6.1
		has_war_with_major = no
	}
	abort_when_not_enabled = yes
	
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 5000
	}
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 603
        value = 9999
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 748
        value = 9999
    }
	
    ai_strategy = {
		type = build_building
		id = industrial_complex
		target = 603
		value = 99999
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		target = 748
		value = 99999
	}
}
CHI_wants_jungong = {
	allowed = {
		original_tag = CHI
	}
	enable = {
	    or = {
	    any_enemy_country = { is_major = yes }
		has_civil_war = yes
		
		AND = {
		has_global_flag = PRC_civil_war_started
		has_war_with = event_target:WTT_communist_china
		}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 1000
	}
	
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 100
	}
	
    ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -500
	}
	ai_strategy = {
		type = building_target
		id = dockyard
		value = -500
	}
}
CHI_build_factory_in_dahoufang = {
	allowed = {
		original_tag = CHI
	}
	enable = {
        always = yes
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
        type = factory_build_score_factor
        target = 753
        value = 1000
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 605
        value = 2500
    }

	ai_strategy = {
        type = factory_build_score_factor
        target = 748
        value = 200
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 603
        value = 200
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 1041
        value = 200
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 751
        value = 200
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 744
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 283
        value = 100
    }
	ai_strategy = {
        type = factory_build_score_factor
        target = 1053
        value = 100
    }
}
CHI_build_infrastructure_in_dahoufang = {
	allowed = {
		original_tag = CHI
	}
	enable = {
		OR = {
		753 = {
			infrastructure < 5
		}
		605 = {
			infrastructure < 5
		}
        }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 753
		value = 99999
	}
    ai_strategy = {
		type = build_building
		id = infrastructure
		target = 605
		value = 99999
	}
}

JAP_wants_mingong = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		date < 1937.6.1
	}
	abort = {
	    or = {
	    any_enemy_country = { is_major = yes }
		has_civil_war = yes
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 200
	}
}

civil_war_till_1939 = {
	allowed = {
		original_tag = SPR
	}
	enable = {
		controls_state = 166
		controls_state = 172
		controls_state = 176
		controls_state = 792
		controls_state = 790
controls_state = 791
		controls_state = 174
controls_state = 171
controls_state = 788
		controls_state = 170
controls_state = 169
		date < 1939.3.5
has_civil_war = yes
has_war_with_human_player = no
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.60 #guo
		priority = 300
		state_trigger = {
NOT = { is_controlled_by = D02 }
			OR = {
				is_controlled_by = SPA
				is_controlled_by = SPR
is_controlled_by = D01
is_controlled_by = D03
is_controlled_by = ROOT
			}
		}
        ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
    ai_strategy = {
		type = consider_weak
		id = "SPA"
		value = -5000
	}
ai_strategy = {
		type = consider_weak
		id = "SPR"
		value = -5000
	}
ai_strategy = {
		type = consider_weak
		id = "D01"
		value = -5000
	}
ai_strategy = {
		type = consider_weak
		id = "D03"
		value = -5000
	}
}

SPR_push_Anarchism = {
	allowed = {
		original_tag = SPR
	}
	enable = {
date > 1939.1.1
		controls_state = 166
		controls_state = 172
		controls_state = 176
		controls_state = 792
		controls_state = 790
controls_state = 791
		controls_state = 174
controls_state = 171
controls_state = 788
		controls_state = 170
controls_state = 169
		NOT = { controls_state = 165 }
has_civil_war = yes
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.6
		priority = 800
		tag = D03

		##ratio = 0.3
        ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
    ai_strategy = {
		type = front_control ratio = 0.6
		priority = 800
		tag = D02

		#ratio = 0.3
        ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.6
		priority = 800
		tag = D04

		#ratio = 0.3
        ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
ai_strategy = {
		type = consider_weak
		id = "D03"
		value = 500
	}
ai_strategy = {
		type = consider_weak
		id = "D02"
		value = 500
	}
}

ger_baerganxingdong = {#Only perform careful attacks, we want to defend while germany has buffs.
	allowed = {
		original_tag = GER
	}

	enable = {
	               date > 1941.1.1
                   date < 1941.5.10
				   surrender_progress < 0.05
				   is_safe_for_germany_now = yes
	               has_war_with = ENG 
		          
	               GRE = { 
                                          NOT = { is_in_faction_with = ROOT }
                                          NOT = { has_government = ROOT }                                              
                               }   
							   
                               YUG = { 
                                          NOT = { is_in_faction_with = ROOT }
                                          NOT = { has_government = ROOT }                                              
                               }         
	}
                abort = {
                            YUG = { has_capitulated = yes }
                            GRE = { has_capitulated = yes }
                }
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = invasion_unit_request
		state = 182
		
		value = 3
	}
	ai_strategy = {
	 	type = theatre_distribution_demand_increase
		id = 182
		
		value = 1
	}

	ai_strategy = {
		type = prepare_for_war
		id = YUG
		value = 500
	}
	ai_strategy = {
		type = front_unit_request
		tag = YUG
		value = 35
	}
	ai_strategy = {
		type = front_armor_score
		id = "YUG"
		value = 150
	}

                ai_strategy = {
		type = conquer
		id = YUG
		value = 500
	}

                ai_strategy = {
		type = antagonize
		id = YUG
		value = 500
	}

                ai_strategy = {
		type = prepare_for_war
		id = GRE
		value = 500
	}
	ai_strategy = {
		type = front_unit_request
		tag = GRE
		value = 20
	}
	ai_strategy = {
		type = front_unit_request
		tag = BUL
		value = 20
	}
	
	ai_strategy = {
		type = invade
		id = GRE
		value = 100
	}

                ai_strategy = {
		type = conquer
		id = GRE
		value = 500
	}

                ai_strategy = {
		type = antagonize
		id = GRE
		value = 500
	}

                ai_strategy = {
		type = consider_weak
		id = GRE
		value = 500
	}

                ai_strategy = {
		type = consider_weak
		id = YUG
		value = 500
	}

    ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		target = europe
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "BUL"
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "HUN"
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "ROM"
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "ALB"
		value = 500
	}

                ai_strategy = {
		type = front_control ratio = 0.4

		tag = YUG

		#ratio = 0.3

		priority = 500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}

                ai_strategy = {
		type = front_control ratio = 0.25

		tag = GRE

		#ratio = 0.3

		priority = 500
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
}

GER_barbarossa_operation_stop_if_too_fast = { #stop if too fast
	allowed = { #GUO
		original_tag = GER
	}

	enable = {
has_war_with = SOV
SOV = { surrender_progress > 0.25 }
OR = {
controls_state = 205
controls_state = 223
has_full_control_of_state = 245
}
date < 1941.10.20
	}
	
	abort = {
	has_global_flag = { flag = operation_barbarossa days > 120 }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control ratio = 0.60 #guo

		tag = SOV

		##ratio = 0.8

		priority = 9999
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
	
    ai_strategy = {
		type = consider_weak
		id = "SOV"
		value = -8000
	}
}
GER_dont_take_claims_on_SOV_we_got_focus = {
	allowed = {
		original_tag = GER
	}
	enable = {
		country_exists = SOV
		NOT = { has_War_with = SOV }
		has_completed_focus = GER_mol_rib_pact
	}

	abort = {
		OR = {
			NOT = { country_exists = SOV }
			date > 1941.7.1
			has_War_with = SOV
		}
	}

	ai_strategy = {
		type = ignore_claim
		id = "SOV"
		value = 1
	}
}
GER_prepare_barbarrossa = {
	allowed = {
		original_tag = GER
	}
	enable = {
	    OR = {
		    focus_progress  = {
				focus = GER_ussr_war_goal 
				progress > 0
			}
			has_completed_focus = GER_ussr_war_goal
			date > 1941.4.15
		}
		surrender_progress < 0.05
		or = {
		is_neighbor_of = SOV
		any_allied_country = { is_neighbor_of = SOV }
		any_subject_country = { is_neighbor_of = SOV }
		}
		NOT = { is_ally_with = SOV }
		16 = { is_controlled_by_enemy = no }
		70 = { is_controlled_by_enemy = no }
		10 = { is_controlled_by_enemy = no }
		has_government = fascism
		has_completed_focus = GER_anti_comitern_pact
	}
	abort = {
	    or = {
		has_War_with = SOV
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = ignore_claim
		id = "SOV"
		value = 1
	}
	
	ai_strategy = {
		type = antagonize
		id = "SOV"
		value = 750
	}
	ai_strategy = {
		type = conquer
		id = "SOV"
		value = 750
	}
	ai_strategy = {
		type = prepare_for_war
		id = "SOV"
		value = 7500
	}
	ai_strategy = {
	 	type = invasion_unit_request
		tag = SOV
		value = -9999
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = SOV
		value = 200
	}
	ai_strategy = {
	 	type = front_armor_score
		id = "SOV"
		value = 200
	}
	
	ai_strategy = {
		type = invade
		id = SOV
		value = -9999
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "ROM"
		value = 250
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ROM"
		value = -200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "HUN"
		value = 250
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HUN"
		value = -200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "BUL"
		value = 250
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BUL"
		value = -200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "SLO"
		value = 250
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SLO"
		value = -200
	}
}
GER_war_with_sov_army = {
	allowed = {
		original_tag = GER
	}
	enable = {
		surrender_progress < 0.05
		has_War_with = SOV
		#16 = { is_controlled_by_enemy = no }
		#70 = { is_controlled_by_enemy = no }
		#10 = { is_controlled_by_enemy = no }
	}
	abort = {
	    or = {
		surrender_progress > 0.05
		and = {
		    any_enemy_country = {
		    is_ai = no
		    is_in_faction_with = ENG
		    num_of_factories > 60
		    }
			west_europe_is_dangerous = yes
		}
		}
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = antagonize
		id = "SOV"
		value = 1000
	}
	ai_strategy = {
		type = conquer
		id = "SOV"
		value = 1000
	}
	
	ai_strategy = {
	 	type = front_unit_request
		tag = SOV
		value = 100
	}
	ai_strategy = {
	 	type = front_armor_score
		id = "SOV"
		value = 100
	}
	
	ai_strategy = {
		type = invade
		id = SOV
		value = -9999
	}
	ai_strategy = {
	 	type = invasion_unit_request
		tag = SOV
		value = -9999
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "ROM"
		value = 200
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ROM"
		value = -200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "HUN"
		value = 200
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HUN"
		value = -200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "BUL"
		value = 200
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BUL"
		value = -200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "SLO"
		value = 200
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SLO"
		value = -200
	}
}

########è£…ç”²å¸ˆç”Ÿäº§ä»£ç vvv
JAP_the_light_armor_tank = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		has_equipment = { light_tank_chassis < 750 }
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	abort = {
	    or = {
			has_equipment = { light_tank_chassis > 1000 }
		}
	}
	
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = armor 
		value = 5
	}
}
ALL_the_flame_tank = {
	allowed = {
		always = yes
	}
	enable = {
		has_tech = tech_engineers2
		has_tech = gwtank_chassis
		has_equipment = { medium_tank_flame_chassis < 500 }
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	abort = {
	    or = {
			is_incompetent_heavy_industry_country = yes
			has_equipment = { medium_tank_flame_chassis > 750 }
		}
	}
	
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = flame 
		value = 5
	}
}

major_spam_troops_when_has_war_with_major_no_armor = {

	enable = {
        is_major = yes
	    has_war_with_major = yes
	    num_divisions < 350
		or = {
		not = {
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
	    }
		}
		not = { or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor } }
		}
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    or = {
		and = {
	    OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
	    }
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		}
	    is_incompetent_heavy_industry_country = yes
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = 100
	}
	
    ai_strategy = {
		type = role_ratio
		id = infantry
		value = 90
	}
	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 10
	}
	
	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = -100
	}
}
major_spam_troops_when_has_war_with_major_yes_armor = {

	enable = {
        is_major = yes
	    has_war_with_major = yes
	    num_divisions < 350
	    OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
	    }
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    is_incompetent_heavy_industry_country = yes
	}

	abort_when_not_enabled = yes

	ai_strategy = {
        type = force_build_armies
        value = 100
	}
	
    ai_strategy = {
		type = role_ratio
		id = infantry
		value = 45
	}
	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 5
	}
    ai_strategy = {
		type = role_ratio
		id = armor
		value = 50
	}
	
	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = -100
	}
}

all_spam_troops_build_tianxianshi_when_no_armor = {

	enable = {
        is_major = yes
	    num_divisions < 60
	}

	abort = {
	    or = {
		is_major = no
		num_divisions > 65
		and = {
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
	    }
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		}
		}
	}

	ai_strategy = {
        type = force_build_armies
        value = 1000
	}
    ai_strategy = {
		type = role_ratio
		id = infantry
		value = 200
	}
	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = -1000
	}
}
all_spam_troops_build_tianxianshi = {

	enable = {
        is_major = yes
	    num_divisions < 110
	}

	abort = {
	    or = {
		is_major = no
		num_divisions > 115
		}
	}

	ai_strategy = {
        type = force_build_armies
        value = 3000
	}
    ai_strategy = {
		type = role_ratio
		id = infantry
		value = 1000
	}
    ai_strategy = {
		type = role_ratio
		id = armor
		value = 20
	}
	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = -2000
	}
}

ALL_produce_if_u_have_weapon = {
	enable = {
        is_major = yes
        has_equipment = {
            infantry_equipment > 25000
        }
		num_divisions < 140
    }
	
	abort_when_not_enabled = yes
    ai_strategy = {
        type = force_build_armies
        value = 3000
	}
	ai_strategy = {
		type = build_army
		id = infantry
		value = 350
	}
    ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = -2000
	}
}
ALL_enough_infantry_divisions = {#zugou
	allowed = {
		always = yes
	}

	enable = {
		num_divisions > 200
		num_divisions < 700
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
		}
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		num_of_military_factories > 100
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	abort = {
	    or = {
			num_divisions < 180
			num_divisions > 700
			num_of_military_factories < 80
			is_incompetent_heavy_industry_country = yes
		}
	}
	
	ai_strategy = {
		type = role_ratio
		id = armor
		value = 1750
	}
	ai_strategy = {
		type = build_army
		id = medium_armor
		value = 200
	}
}

major_more_armor_divisions_default = {
	
	enable = {
	    is_major = yes
		has_equipment = { medium_tank_chassis > 1500 }
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}

	abort = {
		has_equipment = { medium_tank_chassis < 750 }
	}
	
	ai_strategy = {
		type = build_army
		id = medium_armor
		value = 500
	}
}

china_no_need_special_forces = {
	enable = {
		is_incompetent_heavy_industry_country = yes
	}

	abort = {
		is_incompetent_heavy_industry_country = no
	}
	
	ai_strategy = {
		type = template_prio
		id = mountaineers
		value = -99
	}
	ai_strategy = {
		type = build_army
		id = mountaineers
		value = -50
	}
	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 0
	}
	
	ai_strategy = {
		type = template_prio
		id = marines
		value = -99
	}
	ai_strategy = {
		type = build_army
		id = marines
		value = -50
	}
	ai_strategy = {
		type = role_ratio
		id = marines
		value = 0
	}
	
	ai_strategy = {
		type = template_prio
		id = paratroopers
		value = -99
	}
	ai_strategy = {
		type = build_army
		id = paratroopers
		value = -50
	}
	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = 0
	}
}
no_need_garbage = {
	enable = {
		is_incompetent_heavy_industry_country = no
	}

	abort = {
		is_incompetent_heavy_industry_country = yes
	}
	
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -50
	}
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = 0
	}
	ai_strategy = {
		type = template_prio
		id = cavalry
		value = -99
	}
	
	ai_strategy = {
		type = template_prio
		id = medium_armor
		value = 100
	}
	ai_strategy = {
		type = template_prio
		id = infantry
		value = 200
	}
	ai_strategy = {
		type = template_prio
		id = mountaineers
		value = 50
	}
	
	
	ai_strategy = {
		type = template_prio
		id = paratroopers
		value = -99
	}
	
	#ai_strategy = {
	#	type = template_prio
	#	id = light_armor
	#	value = -99
	#}
	ai_strategy = {
		type = template_prio
		id = heavy_armor
		value = -99
	}
	
}
no_need_special_forces_paratroopers = {
	enable = {
		always = yes
	}

	abort = {
		always = no
	}
	
	ai_strategy = {
		type = build_army
		id = motorized
		value = -50
	}
	ai_strategy = {
		type = role_ratio
		id = motorized
		value = 0
	}
	ai_strategy = {
		type = template_prio
		id = motorized
		value = -99
	}
	
	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -50
	}
	ai_strategy = {
		type = template_prio
		id = modern_armor
		value = -99
	}
	ai_strategy = {
		type = research_tech
		id = main_battle_tank
		value = 0
	}
	ai_strategy = {
		type = research_tech
		id = main_battle_tank_chassis
		value = 0
	}
	
	ai_strategy = {
		type = research_tech
		id = tech_mountaineers
		value = 100
	}
	
	
	ai_strategy = {
		type = research_tech
		id = special_forces_mountaineers
		value = 50
	}
	ai_strategy = {
		type = research_tech
		id = rangers
		value = 200
	}
	ai_strategy = {
		type = research_tech
		id = mountaineers_combat_2
		value = 200
	}
	ai_strategy = {
		type = research_tech
		id = mountaineers_keystone_2
		value = 200
	}
	
	ai_strategy = {
		type = research_tech
		id = radio
		value = 500
	}
	ai_strategy = {
		type = research_tech
		id = electronic_mechanical_engineering
		value = 999
	}
	ai_strategy = {
		type = research_tech
		id = mechanical_computing
		value = 999
	}
	ai_strategy = {
		type = research_tech
		id = radio_detection
		value = 100
	}
}

JAP_no_need_armor = {
    allowed = {
		original_tag = JAP
	}
	enable = {
		has_global_flag = japan_ai_just_bupao
	}
	abort = {
		always = no
	}
	
	ai_strategy = {
		type = build_army
		id = light_armor
		value = -50
	}
	ai_strategy = {
		type = build_army
		id = medium_armor
		value = -50
	}
	ai_strategy = {
		type = build_army
		id = heavy_armor
		value = -50
	}
	ai_strategy = {
		type = build_army
		id = modern_armor
		value = -50
	}
	
	ai_strategy = {
		type = template_prio
		id = light_armor
		value = -99
	}
	ai_strategy = {
		type = template_prio
		id = medium_armor
		value = -99
	}
	ai_strategy = {
		type = template_prio
		id = heavy_armor
		value = -99
	}
	ai_strategy = {
		type = template_prio
		id = modern_armor
		value = -99
	}
	
	ai_strategy = {
		type = role_ratio
		id = armor
		value = 0
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 100
	}
}

major_super_boost_light_for_med_armor = {
	enable = {
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
		}
		NOT = { or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor } is_incompetent_heavy_industry_country = yes }
		OR = {
			tag = USA
			tag = ENG
			tag = SOV
			tag = GER
			tag = FRA
			tag = JAP
			tag = ITA
			num_of_military_factories > 50
		}
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}

	abort = {
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
	}

	# lets do changes more often during this period too
	ai_strategy = {
		type = land_xp_spend_priority
		id = division_template
		value = 100
	}
	
	ai_strategy = {
		type = template_prio
		id = infantry
		value = 150
	}

	ai_strategy = {
		type = template_prio
		id = medium_armor
		value = 500
	}
}

major_super_boost_light_for_marines = {
    allowed = { or = { tag = JAP tag = USA tag = ENG tag = FRA tag = ITA tag = CAN } }
	enable = {
		OR = {
			has_tech = marines
		}
		has_navy_size = { size > 50 }
		num_divisions > 100
		surrender_progress < 0.05
		or = { date > 1940.1.1 any_enemy_country = { has_navy_size = { size > 50 } } }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = template_prio
		id = marines
		value = 200
	}
	ai_strategy = {
		type = role_ratio
		id = marines
		value = 25
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -15
	}
}

ALL_halt_light_armor_production_in_transitioning = {
	allowed = {
		not = { original_tag = GER } #they already have same ai strategy
		not = { original_tag = CZE }
		not = { original_tag = JAP }
	}
	enable = {
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_equipment = { light_tank_chassis > 600 }
			date > 1938.6.1
		}
		is_major = yes
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	abort = {
		is_incompetent_heavy_industry_country = yes
	}
	
	ai_strategy = {
		type = equipment_variant_production_factor
		id = medium_tank_chassis
		value = 50
	}
	
	ai_strategy = {
		type = equipment_variant_production_factor
		id = heavy_tank_chassis
		value = -99
	}
	ai_strategy = {
		type = equipment_variant_production_factor
		id = light_tank_chassis
		value = -99
	}
	
}

jap_build_armor_plan = {
	allowed = {
		original_tag = JAP
	}
	enable = {
        num_divisions > 100
		num_of_military_factories > 70
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
		}
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	abort = {
	    or = {
		    num_divisions < 90
		    num_of_military_factories < 60
		}
	}
	
	ai_strategy = {
		type = equipment_variant_production_factor
		id = medium_tank_chassis
		value = 45
	}
	
	ai_strategy = {
		type = equipment_variant_production_factor
		id = heavy_tank_chassis
		value = -99
	}
	#ai_strategy = { #æ—¥æœ¬éœ€è¦è±†ä¸å¦å…‹
	#	type = equipment_variant_production_factor
	#	id = light_tank_chassis
	#	value = -99
	#}
	
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 30
	}
    ai_strategy = {
		type = role_ratio
		id = armor
		value = 50
	}
	
	ai_strategy = {
		type = front_armor_score
		id = CHI
		value = 100
	}
	ai_strategy = {
		type = front_armor_score
		id = NEA
		value = 100
	}
	ai_strategy = {
		type = front_armor_score
		id = PRC
		value = 35
	}
	ai_strategy = {
		type = front_armor_score
		id = PHI
		value = 25
	}
	ai_strategy = {
		type = front_armor_score
		id = AST
		value = 10
	}
	
	ai_strategy = {
		type = front_armor_score
		id = BUR
		value = -100
	}
	ai_strategy = {
		type = front_armor_score
		id = RAJ
		value = -100
	}
	ai_strategy = {
		type = front_armor_score
		id = INS
		value = -100
	}
}
eng_build_armor_plan = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		num_divisions > 120
		num_of_military_factories > 70
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
		}
	}
	abort = {
	    or = {
		    num_divisions < 100
		    num_of_military_factories < 60
		}
	}
	
	ai_strategy = {
		type = equipment_variant_production_factor
		id = medium_tank_chassis
		value = 20
	}
	
    ai_strategy = {
		type = role_ratio
		id = armor
		value = 20
	}
	
	ai_strategy = {
		type = front_armor_score
		id = GER
		value = 100
	}
	ai_strategy = {
		type = front_armor_score
		id = ITA
		value = 100
	}
	ai_strategy = {
		type = front_armor_score
		id = GEF
		value = 100
	}
	ai_strategy = {
		type = front_armor_score
		id = VIC
		value = 100
	}
	
	ai_strategy = {
		type = front_armor_score
		id = SIA
		value = -100
	}
	ai_strategy = {
		type = front_armor_score
		id = FIC
		value = -100
	}
	ai_strategy = {
		type = front_armor_score
		id = INS
		value = -100
	}
}

#è£…ç”²å¸ˆæ¢¯çº§ç”Ÿäº§å€¾å‘#
major_should_spam_troops = {#æœºæ¢°åŒ–å¦

	enable = { OR = { TAG = USA TAG = GER TAG = SOV }
        num_of_military_factories > 70
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
		}
	}
	
	abort = {
	    num_of_military_factories > 140
		OR = {
			has_tech = improved_medium_tank
			has_tech = improved_medium_tank_chassis
			is_incompetent_heavy_industry_country = yes
		}
		has_tech = mechanised_infantry
	}

	abort_when_not_enabled = yes

    #ai_strategy = {
	#	type = role_ratio
	#	id = infantry
	#	value = 100
	#}
	
    ai_strategy = {
		type = role_ratio
		id = armor
		value = 100
	}
}
stronger_love_mechanized_USA_GER_SOV = {#æœºæ¢°åŒ–å¦

	enable = { OR = { TAG = USA TAG = GER TAG = SOV }
		num_of_military_factories > 140
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = improved_medium_tank
			has_tech = improved_medium_tank_chassis
		}
		has_tech = mechanised_infantry
	}
	abort = {
	    num_of_military_factories > 210
	}
	abort_when_not_enabled = yes

	#ai_strategy = {
	#	type = role_ratio
	#	id = infantry
	#	value = 100
	#}
	ai_strategy = {
		type = role_ratio
		id = armor
		value = 150
	}
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = mechanized 
		value = 15
	}
}
stronger_love_mechanized_more_USA_GER_SOV = {#æœºæ¢°åŒ–å¦

	enable = { OR = { TAG = USA TAG = GER TAG = SOV }
		num_of_military_factories > 210
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = improved_medium_tank
			has_tech = improved_medium_tank_chassis
		}
		has_tech = mechanised_infantry
	}
	abort_when_not_enabled = yes

	#ai_strategy = {
	#	type = role_ratio
	#	id = infantry
	#	value = 250
	#}
	ai_strategy = {
		type = role_ratio
		id = armor
		value = 200
	}
	ai_strategy = { 
		type = equipment_production_min_factories 
		id = mechanized 
		value = 20
	}
}

major_should_spam_troops_infantry = {#æ­¥å…µå¦

	enable = { not = { OR = { TAG = USA TAG = GER TAG = SOV } }
        num_of_military_factories > 70
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = basic_medium_tank
			has_tech = basic_medium_tank_chassis
		}
	    if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	
	abort = {
	    num_of_military_factories > 140
		OR = {
			has_tech = improved_medium_tank
			has_tech = improved_medium_tank_chassis
			is_incompetent_heavy_industry_country = yes
		}
		
	}

	abort_when_not_enabled = yes

    #ai_strategy = {
	#	type = role_ratio
	#	id = infantry
	#	value = 100
	#}
	
    ai_strategy = {
		type = role_ratio
		id = armor
		value = 40
	}
}
stronger_love_mechanized_infantry = {#æ­¥å…µå¦

	enable = { not = { OR = { TAG = USA TAG = GER TAG = SOV } }
		num_of_military_factories > 140
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = improved_medium_tank
			has_tech = improved_medium_tank_chassis
		}
		not = { is_incompetent_heavy_industry_country = yes }
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	abort = {
	    num_of_military_factories > 210
	}
	abort_when_not_enabled = yes

	#ai_strategy = {
	#	type = role_ratio
	#	id = infantry
	#	value = 100
	#}
	ai_strategy = {
		type = role_ratio
		id = armor
		value = 80
	}
	ai_strategy = {
		type = equipment_variant_production_factor
		id = mechanized_equipment
		value = -50
	}
}
stronger_love_mechanized_more_infantry = {#æ­¥å…µå¦

	enable = { not = { OR = { TAG = USA TAG = GER TAG = SOV } }
		num_of_military_factories > 210
		or = { has_template_majority_unit = medium_armor has_template_ai_majority_unit = medium_armor }
		OR = {
			has_tech = improved_medium_tank
			has_tech = improved_medium_tank_chassis
		}
		not = { is_incompetent_heavy_industry_country = yes }
		if = {
		limit = { tag = JAP }
		NOT = { has_global_flag = japan_ai_just_bupao }
		}
		else = { always = yes }
	}
	abort_when_not_enabled = yes

	#ai_strategy = {
	#	type = role_ratio
	#	id = infantry
	#	value = 250
	#}
	ai_strategy = {
		type = role_ratio
		id = armor
		value = 120
	}
	ai_strategy = {
		type = equipment_variant_production_factor
		id = mechanized_equipment
		value = -50
	}
}
#è£…ç”²å¸ˆæ¢¯çº§ç”Ÿäº§å€¾å‘#
########è£…ç”²å¸ˆç”Ÿäº§ä»£ç ^^^

SOV_prepare_for_nuke = {
	allowed = {
		always = yes
	}
	enable = {
		or = { date > 1945.1.1 has_tech = nukes }
		num_of_factories > 200
		is_incompetent_heavy_industry_country = no
	}
	abort = { always = no }
	
	ai_strategy = {
		type = equipment_production_min_factories
		id = strategic_bomber
		value = 3
	}
}

SOV_avoid_Haishenwai = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		always = yes
	}
	abort = {
		any_enemy_country = {
			capital_scope = {
				is_on_continent = asia
			}
		}
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 79
		value = 500
	}
}
SOV_avoid_GER = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_war_with = GER
		#enemies_naval_strength_ratio < 0.5
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 174
		value = 999
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 16
		value = 999
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 18
		value = 999
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 42
		value = 999
	}
	ai_strategy = {
	 	type = front_armor_score
		id = "GER"
		value = 100
	}
}
SOV_avoid_ITA = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_war_with = ITA
		#enemies_naval_strength_ratio < 0.5
	}
	abort = {
		or = {
			and = {
				797 = {
					controller = {
						not = { has_war_with = ROOT }
					}
				}
				446 = {
					controller = {
						not = { has_war_with = ROOT }
					}
				}
			}
			any_allied_country = {
				controls_state = 344
			}
			controls_state = 344
		}
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 202
		value = 999
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 69
		value = 999
	}
}
TAN_MON_save_equipments = {
	allowed = {
		or = {
			original_tag = TAN
			original_tag = MON
		}
	}
	enable = {
		is_in_faction_with = SOV
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = save_equipment
		id = infantry_equipment
		value = 500000
	}
	ai_strategy = { 
		type = equipment_variant_production_factor
		id = infantry_equipment
		value = 9999
	}
	ai_strategy = { 
		type = equipment_production_min_factories
		id = infantry
		value = 100
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = SOV
		value = 9999
	}
	ai_strategy = {
		type = support
		id = SOV
		value = 9999
	}
	ai_strategy = {
		type = build_army
		id = infantry
		value = -1000
	}
	ai_strategy = {
		type = build_army
		id = cavalry
		value = -1000
	}
	ai_strategy = {
		type = build_army
		id = armor
		value = -1000
	}
	ai_strategy = {
		type = build_army
		id = motorized
		value = -1000
	}
	ai_strategy = {
		type = force_build_armies
		
		value = -9999
	}
}

SOV_is_puppet_no_more_divisions = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		or = {
			is_puppet = yes
			is_subject = yes
		}
	}
	abort_when_not_enabled = yes

	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = -9999
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = -9999 
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -9999
	}
    
	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = -9999
	}
	
	ai_strategy = {
		type = build_army
		id = infantry
		value = -9999
	}
	ai_strategy = {
		type = build_army
		id = motorized
		value = -9999
	}
	ai_strategy = {
		type = build_army
		id = mechanized
		value = -9999
	}
	ai_strategy = {
		type = build_army
		id = armor
		value = -9999
	}
}

no_nuke_untill_1945 = {
	allowed = {
		always = yes
	}
	enable = {
		or = {
		    date < 1945.1.1
			and = {
			date < 1946.1.1
			has_war_with_human_player = no
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = nukes
		value = 0
	}
}

mtg_landing_craft_tech = {
	allowed = {
		or = { original_tag = USA original_tag = ENG original_tag = JAP }
	}
	enable = {
		date > 1939.11.1
		or = {
			not = { has_tech = mtg_landing_craft }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = mtg_landing_craft
		value = 2000
	}
	ai_strategy = {
		type = research_tech
		id = landing_craft
		value = 2000
	}
}
mtg_tank_landing_craft_tech = {
	allowed = {
		or = { original_tag = USA original_tag = ENG original_tag = JAP }
	}
	enable = {
		date > 1943.11.1
		or = {
			not = { has_tech = mtg_tank_landing_craft }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = mtg_tank_landing_craft
		value = 2000
	}
	ai_strategy = {
		type = research_tech
		id = tank_landing_craft
		value = 2000
	}
}

amphibious_armor_tech = {
	allowed = {
		OR = {
		original_tag = JAP
		original_tag = USA
		original_tag = ENG
		original_tag = CAN
		original_tag = ITA
		}
	}
	enable = {
		date > 1940.1.1
		or = {
			not = { has_tech = amphibious_tank_chassis }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = amphibious_tank_chassis
		value = 500
	}
}
amphibious_drive_tech = {
	allowed = {
		OR = {
		original_tag = JAP
		original_tag = USA
		original_tag = ENG
		original_tag = CAN
		original_tag = ITA
		}
	}
	enable = {
		date > 1941.1.1
		or = {
			not = { has_tech = amphibious_drive }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = amphibious_drive
		value = 500
	}
}

SOV_43_rocket_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		
		date > 1942.11.1
		#or = {
			not = { has_tech = experimental_rockets }
		#	not = { has_tech = antitank3 }
		#}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = experimental_rockets
		value = 500
	}
}
SOV_44_rocket_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		
		date > 1943.11.1
		or = {
			not = { has_tech = rocket_engines }
			not = { has_tech = jet_engines }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = rocket_engines
		value = 500
	}
	ai_strategy = {
		type = research_tech
		id = jet_engines
		value = 500
	}
}
SOV_45_jet_plane_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		
		date > 1944.10.1
        or = {
            not = { has_tech = modern_small_airframe }
            not = { has_tech = aa_cannon_3 }     
        }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = modern_small_airframe
		value = 9999
	}
	ai_strategy = {
		type = research_tech
		id = aa_cannon_3
		value = 9999
	}
}
SOV_mechanised_infantry_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1939.11.1
		not = { has_tech = mechanised_infantry }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = mechanised_infantry
		value = 9999
	}
}
SOV_mechanised_infantry_tech2 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1941.11.1
		not = { has_tech = mechanised_infantry2 }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = mechanised_infantry2
		value = 9999
	}
}
SOV_mechanised_infantry_tech3 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1943.11.1
		not = { has_tech = mechanised_infantry3 }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = mechanised_infantry3
		value = 9999
	}
}

SOV_tank_zhuangjia_yingqin_2 = {
	allowed = {
	    OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1938.1.1
		has_dlc = "No Step Back"
		#not = { has_tech = improved_medium_tank_chassis }
	}

	abort = { has_tech = armor_tech_2 has_tech = engine_tech_2 }

	ai_strategy = {
		type = research_tech
		id = armor_tech_2
		value = 500
	}
	
	ai_strategy = {
		type = research_tech
		id = engine_tech_2
		value = 500
	}
	
}
SOV_tank_zhuangjia_yingqin_3 = {
	allowed = {
	    OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1941.1.1
		has_dlc = "No Step Back"
		#not = { has_tech = improved_medium_tank_chassis }
	}

	abort = { has_tech = armor_tech_3 has_tech = engine_tech_3 }

	ai_strategy = {
		type = research_tech
		id = armor_tech_3
		value = 500
	}
	
	ai_strategy = {
		type = research_tech
		id = engine_tech_3
		value = 500
	}
	
}

SOV_on_basic_medium_tank_chassis_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1937.10.1
		or = {
			not = { has_tech = basic_medium_tank_chassis }
			not = { has_tech = basic_medium_tank }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = basic_medium_tank_chassis
		value = 9999
	}
	ai_strategy = {
		type = research_tech
		id = basic_medium_tank
		value = 9999
	}
}
SOV_tank_tech1 = {#å†²
	allowed = {
	    OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		if = {
		limit = { or = { original_tag = SOV original_tag = GER original_tag = USA } }
		date > 1939.1.1
		}
		else = { date > 1939.10.1 }
		or = {
			not = { has_tech = improved_medium_tank_chassis }
			not = { has_tech = improved_medium_tank }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = improved_medium_tank_chassis
		value = 9999
	}
	ai_strategy = {
		type = research_tech
		id = improved_medium_tank
		value = 9999
	}
	
}
SOV_tank_tech2 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1942.10.1
		or = {
			not = { has_tech = advanced_medium_tank_chassis }
			not = { has_tech = advanced_medium_tank }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = advanced_medium_tank_chassis
		value = 9999
	}
	ai_strategy = {
		type = research_tech
		id = advanced_medium_tank
		value = 9999
	}
	
}
SOV_tank_tech3 = {
	allowed = {
	always = no#çŽ°ä»£å¦å…‹æ™ºå•†ç¨Ž
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
	always = no#çŽ°ä»£å¦å…‹æ™ºå•†ç¨Ž
		date > 1944.10.1
		or = {
			not = { has_tech = main_battle_tank_chassis }
			not = { has_tech = main_battle_tank }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = main_battle_tank_chassis
		value = 9999
	}
	ai_strategy = {
		type = research_tech
		id = main_battle_tank
		value = 9999
	}
	
}

SOV_tech_logistics_1942 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1942.1.1
		not = { has_tech = tech_logistics_company3 }
	}

	abort = {
		has_tech = tech_logistics_company3
	}

	ai_strategy = {
		type = research_tech
		id = tech_logistics_company3
		value = 500
	}
	
}
SOV_tech_logistics_1945 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1945.1.1
		not = { has_tech = tech_logistics_company4 }
	}

	abort = {
		has_tech = tech_logistics_company4
	}

	ai_strategy = {
		type = research_tech
		id = tech_logistics_company4
		value = 500
	}
	
}

SOV_tank_zhuangjia_yingqin = {
	allowed = {
	    OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1936.6.1
	}

	abort = { has_tech = armor_tech_1 has_tech = engine_tech_1 has_tech = tech_logistics_company has_tech = basic_light_tank_chassis has_tech = improved_light_tank_chassis }

	ai_strategy = {
		type = research_tech
		id = armor_tech_1
		value = 500
	}
	
	ai_strategy = {
		type = research_tech
		id = engine_tech_1
		value = 500
	}
	
	ai_strategy = {
		type = research_tech
		id = tech_logistics_company
		value = 500
	}
	
	ai_strategy = {
		type = research_tech
		id = basic_light_tank_chassis
		value = 999
	}
	ai_strategy = {
		type = research_tech
		id = improved_light_tank_chassis
		value = 999
	}
}

SOV_antitank_tech1 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1938.10.1
	}

	abort = {
		has_tech = antitank1
		has_tech = tech_logistics_company2
		has_tech = antiair1
	}

	ai_strategy = {
		type = research_tech
		id = antitank1
		value = 9999
	}
	
	ai_strategy = {
		type = research_tech
		id = tech_logistics_company2
		value = 500
	}
	
	ai_strategy = {
		type = research_tech
		id = antiair1
		value = 500
	}
}
SOV_antitank_tech2 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1939.10.1
		not = { has_tech = antitank2 }
	}

	abort = {
		has_tech = antitank2
	}

	ai_strategy = {
		type = research_tech
		id = antitank2
		value = 9999
	}
}
SOV_antitank_tech3 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1940.10.1
		not = { has_tech = antitank3 }
	}

	abort = {
		has_tech = antitank3
	}

	ai_strategy = {
		type = research_tech
		id = antitank3
		value = 9999
	}
}

SOV_artillery_tech1 = {#å†²
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1938.1.1
		not = { has_tech = artillery1 }
	}

	abort = {
		has_tech = artillery1
	}

	ai_strategy = {
		type = research_tech
		id = artillery1
		value = 9999
	}
}
SOV_artillery_tech2 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1939.10.1
		not = { has_tech = artillery2 }
	}

	abort = {
		has_tech = artillery2
	}

	ai_strategy = {
		type = research_tech
		id = artillery2
		value = 9999
	}
}
SOV_artillery_tech3 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1940.10.1
		not = { has_tech = artillery3 }
	}

	abort = {
		has_tech = artillery3
	}

	ai_strategy = {
		type = research_tech
		id = artillery3
		value = 9999
	}
}
SOV_artillery_tech4 = {#å†²
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1941.6.1
		not = { has_tech = artillery5 }
	}

	abort = {
		has_tech = artillery5
	}

	ai_strategy = {
		type = research_tech
		id = artillery5
		value = 9999
	}
}

SOV_make_some_radar_1 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_tech = radio_detection
		or = {
			195 = {
				free_building_slots = {
					building = radar_station
					size > 0
					include_locked = yes
				}
			}
			219 = {
				free_building_slots = {
					building = radar_station
					size > 0
					include_locked = yes
				}
			}
			217 = {
				free_building_slots = {
					building = radar_station
					size > 0
					include_locked = yes
				}
			}
			137 = {
				free_building_slots = {
					building = radar_station
					size > 0
					include_locked = yes
				}
			}
			193 = {
				free_building_slots = {
					building = radar_station
					size > 0
					include_locked = yes
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = build_building
		id = radar_station
		target = 195 #LLeningrad
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 219 #Moscow
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 217 #Stalingrad
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 137 #Crimea
		value = 2000
	}
	ai_strategy = {
		type = build_building
		id = radar_station
		target = 193 #Chernihiv
		value = 2000
	}
}

SOV_Operation_bagelajiang = {
	
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_war_with = GER
		#ENG = { has_war_with = GER surrender_progress < 0.05 }
		or = { west_europe_is_dangerous = yes date > 1944.6.20 }
		check_variable = {
			This.infantry_equipment_deficit < 65000 #guo
		}
		GER = { not = { has_idea = GER_barbarossa } }
		not_has_war_with_asia_country = yes
		num_divisions > 200
	}
	abort = {
		GER = {
		any_owned_state = { is_core_of = GER controller = { is_in_faction_with = SOV } }
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.6
		area = West_of_Ural_Mountains

		priority = 9999
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	ai_strategy = {
		type = front_control ratio = 0.6
		tag = FIN

		priority = 1000
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
	
	ai_strategy = {
	 	type = front_unit_request
		area = West_of_Ural_Mountains
		value = 100
	}
	
	ai_strategy = {
		type = consider_weak
		id = GER
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = FIN
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = ROM
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = HUN
		value = 500
	}
	ai_strategy = {
		type = consider_weak
		id = BUL
		value = 500
	}
}
sov_slowly_push_back = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		any_enemy_country = {
			is_major = yes
			has_capitulated = no
			capital_scope = {
				is_on_continent = europe
			}
			num_divisions > 100
		}
	}
	abort = {
	    or = {
			has_country_flag =  Sov_Thunderstorm_plan_eng
			date > 1944.6.20
		any_other_country_has_entered_germany = yes
		west_europe_is_dangerous = yes
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		area = West_of_Ural_Mountains
		ratio = 0.6
		priority = 400
		ordertype = front
		execution_type = careful
		#execute_order = yes
		manual_attack = yes
	}
}

SOV_front_human_europe = {
	
	allowed = {
		original_tag = SOV
	}
	enable = {
		surrender_progress > 0.1
		any_enemy_country = {
			is_major = yes
			has_capitulated = no
			capital_scope = {
				is_on_continent = europe
			}
			num_divisions > 100
			is_ai = no
		}
		not_has_war_with_asia_country = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		area = West_of_Ural_Mountains
		value = 75
	}
	
	ai_strategy = {
	 	type = front_unit_request
		tag = GER
		value = 100
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = FIN
		value = 25
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = ROM
		value = 25
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = HUN
		value = 25
	}
	ai_strategy = {
	 	type = front_unit_request
		tag = R02
		value = 25
	}
}
SOV_front_1 = {
	
	allowed = {
		original_tag = SOV
	}
	enable = {
		surrender_progress > 0
		any_enemy_country = {
			is_major = yes
			has_capitulated = no
			capital_scope = {
				is_on_continent = europe
			}
			num_divisions > 100
		}
		not_has_war_with_asia_country = yes
	}
	abort = {
		or = {
			has_country_flag =  Sov_Thunderstorm_plan_eng
			date > 1944.7.1
			surrender_progress > 0.1
			or = {
		
		west_europe_is_dangerous = yes
		any_other_country_has_entered_germany = yes
		}
		}
		
	}
	abort_when_not_enabled = yes
	
	
	ai_strategy = {
	 	type = front_unit_request
		area = West_of_Ural_Mountains
		value = 50
	}
}
SOV_front_2 = {
	
	allowed = {
		original_tag = SOV
	}
	enable = {
		surrender_progress > 0.1
		any_enemy_country = {
			is_major = yes
			has_capitulated = no
			capital_scope = {
				is_on_continent = europe
			}
			num_divisions > 100
		}
		not_has_war_with_asia_country = yes
	}
	abort = {
		or = {
			has_country_flag =  Sov_Thunderstorm_plan_eng
			date > 1944.7.1
			surrender_progress > 0.2
			or = {
		west_europe_is_dangerous = yes
		any_other_country_has_entered_germany = yes
		}
		}
		
	}
	abort_when_not_enabled = yes
	
	
	ai_strategy = {
	 	type = front_unit_request
		area = West_of_Ural_Mountains
		value = 60
	}
	ai_strategy = {
		type = front_control
		area = West_of_Ural_Mountains
		ratio = 0.6
		priority = 450
		ordertype = front
		execution_type = careful
		execute_order = yes
		manual_attack = yes
	}
}
SOV_front_3 = {
	
	allowed = {
		original_tag = SOV
	}
	enable = {
		surrender_progress > 0.2
		any_enemy_country = {
			is_major = yes
			has_capitulated = no
			capital_scope = {
				is_on_continent = europe
			}
			num_divisions > 100
		}
		not_has_war_with_asia_country = yes
	}
	abort = {
		or = {
			has_country_flag =  Sov_Thunderstorm_plan_eng
			date > 1944.7.1
			surrender_progress > 0.35
			or = {
		west_europe_is_dangerous = yes
		any_other_country_has_entered_germany = yes
		}
		}
		
	}
	abort_when_not_enabled = yes
	
	
	ai_strategy = {
	 	type = front_unit_request
		area = West_of_Ural_Mountains
		value = 70
	}
	ai_strategy = {
		type = front_control
		area = West_of_Ural_Mountains
		ratio = 0.6
		priority = 500
		ordertype = front
		execution_type = balanced
		#execute_order = yes
		manual_attack = yes
	}
}
SOV_front_4 = {
	
	allowed = {
		original_tag = SOV
	}
	enable = {
		surrender_progress > 0.35
		any_enemy_country = {
			is_major = yes
			has_capitulated = no
			capital_scope = {
				is_on_continent = europe
			}
		}
		not_has_war_with_asia_country = yes
	}
	abort = {
		or = {
			has_country_flag =  Sov_Thunderstorm_plan_eng
			date > 1944.7.1
			surrender_progress > 0.45
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		area = West_of_Ural_Mountains
		value = 80
	}
	ai_strategy = {
		type = front_control
		area = West_of_Ural_Mountains
		ratio = 0.6
		priority = 600
		ordertype = front
		execution_type = balanced
		execute_order = yes
		manual_attack = yes
	}
}
SOV_front_5 = {
	
	allowed = {
		original_tag = SOV
	}
	enable = {
		or = {
			and = {
				or = {
					surrender_progress > 0.45
					date > 1944.7.1
				}
				any_enemy_country = {
					is_major = yes
					has_capitulated = no
					capital_scope = {
						is_on_continent = europe
					}
				}
			}
			and = {
				has_country_flag =  Sov_Thunderstorm_plan_eng
				has_war_with = GER
			}
		}
		not_has_war_with_asia_country = yes
		num_divisions > 200
	}
	abort = {
	    or = {
		not_has_war_with_europe_country = yes
		surrender_progress < 0.4
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
	 	type = front_unit_request
		area = West_of_Ural_Mountains
		value = 100
	}
	ai_strategy = {
		type = front_control
		area = West_of_Ural_Mountains
		ratio = 0.6
		priority = 700
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
}

SOV_addintelligence_agency_normal_upgrade_prio = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		always = yes
	}

	abort = {
		always = no
	}

	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_intelligence
		value = 1000
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_defense
		value = 1000
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_operation
		value = 500
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_operative
		value = 100
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_crypto
		value = 2000
	}
}
SOV_build_intelligence_agency = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		always = yes
	}

	abort = {
		always = no
	}

	ai_strategy = {
		type = intelligence_agency_usable_factories
		value = 1000
	}

}

###

GER_the_axis_allies = {
	allowed = {
		or = {
			original_tag = BUL
			original_tag = HUN
			original_tag = ROM
		}
	}
	enable = {
		is_in_faction_with = GER
		GER = { is_faction_leader = yes }
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = support
		id = GER
		value = 9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GER
		value = 9999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GER
		value = 5000
	}
}

ITA_support_GER = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		is_in_faction_with = GER
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = support
		id = GER
		value = 9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GER
		value = 9999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GER
		value = 5000
	}
	
	ai_strategy = {
		type = support
		id = GEF
		value = 9999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GEF
		value = 9999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = GEF
		value = 9999
	}
	ai_strategy = { type = diplo_action_desire id = GEF target = send_expeditionary_force value = 9999 }
	ai_strategy = {
		type = force_defend_ally_borders
		id = GEF
		value = 9999
	}
	ai_strategy = {
		type = protect
		id = GEF
		value = 2000
	}
}
ITA_help_GER_a_bit_against_sov = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		is_in_faction_with = GER
		surrender_progress < 0.05
		has_War_with = SOV
		SOV = { surrender_progress > 0.05 is_ai = no }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_armor_score
		id = "SOV"
		value = -100
	}
	ai_strategy = {
		type = front_unit_request
		tag = SOV
		value = 50
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "GER"
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "ROM"
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "HUN"
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "SLO"
		value = 500
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = "BUL"
		value = 500
	}
	
	ai_strategy = {
		type = conquer
		id = SOV
		value = 200
	}
	ai_strategy = {
		type = antagonize
		id = SOV
		value = 200
	}
	ai_strategy = {
		type = garrison
		value = -50
	}
}

South_america_country_dont_want_war_GER = {
	enable = {
		NOT = {
			capital_scope = { is_on_continent = europe }
			has_war_together_with = GER
			is_in_faction_with = GER
			any_neighbor_country = { is_in_faction_with = GER }
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		value = -200
		target = docking_rights
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		value = -200
		target = military_access
	}
}
South_america_country_dont_want_war_JAP = {
	enable = {
		NOT = {
			capital_scope = { is_on_continent = europe }
			has_war_together_with = JAP
			is_in_faction_with = JAP
			any_neighbor_country = { is_in_faction_with = JAP }
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = diplo_action_acceptance
		id = JAP
		value = -200
		target = docking_rights
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = JAP
		value = -200
		target = military_access
	}
}
South_america_country_dont_want_war_ITA = {
	enable = {
		NOT = {
			capital_scope = { is_on_continent = europe }
			has_war_together_with = ITA
			is_in_faction_with = ITA
			any_neighbor_country = { is_in_faction_with = ITA }
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		value = -200
		target = docking_rights
	}
	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		value = -200
		target = military_access
	}
}

#No_fuel_silo = {
#	enable = {
#		always = yes
#	}
#	abort = { always = no }
#	
#	ai_strategy = {
#		type = building_target
#		id = fuel_silo
#		value = -500
#	}
#}
we_need_some_infantry_equipment = {
	allowed = {
		always = yes
	}
	enable = {
		check_variable = {
			This.infantry_equipment_deficit > 25000
		}
	}
	abort = {
		check_variable = {
			This.infantry_equipment_deficit < 5000
		}
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = infantry
		value = 100
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = infantry
		value = 20
	}
}
we_need_some_fighter = {
	allowed = {
		always = yes
	}
	enable = {
		any_enemy_country = { is_major = yes }
		num_of_military_factories > 100
		num_divisions > 120
		has_deployed_air_force_size = {
			type = fighter
			size < 7500
		}
		check_variable = {
			This.infantry_equipment_deficit < 25000
		}
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    or = {
		is_incompetent_heavy_industry_country = yes
		has_war = no
		num_of_military_factories < 80
		num_divisions < 100
		has_deployed_air_force_size = {
			type = fighter
			size > 8500
		}
		check_variable = {
			This.infantry_equipment_deficit > 30000
		}
		}
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 25
	}
}
we_need_some_cas = {
	allowed = {
		always = yes
	}
	enable = {
		any_enemy_country = { is_major = yes }
		num_of_military_factories > 100
		num_divisions > 120
		has_deployed_air_force_size = {
			type = fighter
			size > 7500
		}
		check_variable = {
			This.infantry_equipment_deficit < 25000
		}
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    or = {
		is_incompetent_heavy_industry_country = yes
		has_war = no
		num_of_military_factories < 80
		num_divisions < 100
		has_deployed_air_force_size = {
			type = fighter
			size < 6500
		}
		check_variable = {
			This.infantry_equipment_deficit > 30000
		}
		}
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = cas
		value = 20
	}
}
we_need_some_tactical_bomber = {
	allowed = {
		always = yes
	}
	enable = {
		any_enemy_country = { is_major = yes }
		num_of_military_factories > 100
		num_divisions > 150
		has_deployed_air_force_size = {
			type = fighter
			size > 8000
		}
		has_deployed_air_force_size = {
			type = cas
			size > 4000
		}
		has_deployed_air_force_size = {
			type = tactical_bomber
			size < 3000
		}
		check_variable = {
			This.infantry_equipment_deficit < 25000
		}
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    or = {
		is_incompetent_heavy_industry_country = yes
		has_war = no
		num_of_military_factories < 80
		num_divisions < 130
		has_deployed_air_force_size = {
			type = fighter
			size < 7000
		}
		has_deployed_air_force_size = {
			type = cas
			size < 3000
		}
		has_deployed_air_force_size = {
			type = tactical_bomber
			size > 3500
		}
		check_variable = {
			This.infantry_equipment_deficit > 30000
		}
		}
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = tactical_bomber
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = tactical_bomber
		value = 7
	}
}
we_need_some_strategic_bomber = {
	allowed = {
		always = yes
	}
	enable = {
		any_enemy_country = { is_major = yes }
		num_of_military_factories > 100
		num_divisions > 180
		has_deployed_air_force_size = {
			type = fighter
			size > 8000
		}
		has_deployed_air_force_size = {
			type = cas
			size > 4000
		}
		has_deployed_air_force_size = {
			type = tactical_bomber
			size > 2000
		}
		has_deployed_air_force_size = {
			type = strategic_bomber
			size < 3000
		}
		check_variable = {
			This.infantry_equipment_deficit < 25000
		}
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    or = {
		is_incompetent_heavy_industry_country = yes
		has_war = no
		num_of_military_factories < 80
		num_divisions < 160
		has_deployed_air_force_size = {
			type = fighter
			size < 7000
		}
		has_deployed_air_force_size = {
			type = cas
			size < 3000
		}
		has_deployed_air_force_size = {
			type = tactical_bomber
			size < 1000
		}
		has_deployed_air_force_size = {
			type = strategic_bomber
			size > 3500
		}
		check_variable = {
			This.infantry_equipment_deficit > 30000
		}
		}
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = strategic_bomber
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = strategic_bomber
		value = 5
	}
}

USA_need_more_strategic_bomber = {
	allowed = {
		original_tag = USA
	}
	enable = {
		has_tech = improved_large_airframe
		num_of_military_factories > 200
		num_divisions > 180
		check_variable = {
			This.infantry_equipment_deficit < 25000
		}
		has_deployed_air_force_size = {
			type = strategic_bomber
			size < 9000
		}
		has_deployed_air_force_size = {
			type = fighter
			size > 8500
		}
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    or = {
		num_of_military_factories < 180
		num_divisions < 160
		has_deployed_air_force_size = {
			type = strategic_bomber
			size > 10000
		}
		has_deployed_air_force_size = {
			type = fighter
			size < 7500
		}
		check_variable = {
			This.infantry_equipment_deficit > 30000
		}
		}
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = strategic_bomber
		value = 40
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = strategic_bomber
		value = 15
	}
}
USA_need_research_strategic_bomber = {
	allowed = {
		original_tag = USA
	}
	enable = {
		not = { has_tech = improved_large_airframe }
		date > 1939.10.1
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = research_tech
		id = improved_large_airframe
		value = 500
	}
}
USA_need_research_strategic_bomber_2 = {
	allowed = {
		original_tag = USA
	}
	enable = {
		not = { has_tech = advanced_large_airframe }
		date > 1943.10.1
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = research_tech
		id = advanced_large_airframe
		value = 500
	}
}

SOV_need_some_fighter_after_1940 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_tech = improved_small_airframe
		has_completed_focus = SOV_expand_aviation_institutes
		num_of_military_factories > 100
		num_divisions > 120
		has_deployed_air_force_size = {
			type = fighter
			size < 6500
		}
		check_variable = {
			This.infantry_equipment_deficit < 25000
		}
		is_incompetent_heavy_industry_country = no
	}
	abort = {
	    or = {
		is_incompetent_heavy_industry_country = yes
		num_of_military_factories < 80
		num_divisions < 100
		has_deployed_air_force_size = {
			type = fighter
			size > 7500
		}
		check_variable = {
			This.infantry_equipment_deficit > 30000
		}
		}
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 45
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 20
	}
}
SOV_at_least_fighter_cas = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_tech = improved_small_airframe
		has_completed_focus = SOV_expand_aviation_institutes
	}
	abort = {
	    check_variable = {
			This.infantry_equipment_deficit > 50000
		}
	}
	
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 12
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = cas
		value = 5
	}
}
SOV_fighter_more_production1 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_equipment = { infantry_equipment > 100000 }
		has_equipment = { artillery_equipment > 25000 }
		has_equipment = { anti_tank_equipment > 10000 }
		has_equipment = { anti_air_equipment > 10000 }
		has_equipment = { motorized_equipment > 10000 }
		has_equipment = { mechanized_equipment > 10000 }
		has_equipment = { support_equipment > 25000 }
		has_equipment = { medium_tank_chassis > 15000 }
		has_equipment = { medium_tank_destroyer_chassis > 7500 }
		num_of_military_factories > 500
		num_of_military_factories < 850
	}
	abort = {
		has_deployed_air_force_size = {
			type = fighter
			size > 25000
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 150
	}
	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = 25
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = cas
		value = 50
	}
}
SOV_fighter_more_production2 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_equipment = { infantry_equipment > 100000 }
		has_equipment = { artillery_equipment > 25000 }
		has_equipment = { anti_tank_equipment > 10000 }
		has_equipment = { anti_air_equipment > 10000 }
		has_equipment = { motorized_equipment > 10000 }
		has_equipment = { mechanized_equipment > 10000 }
		has_equipment = { support_equipment > 25000 }
		has_equipment = { medium_tank_chassis > 15000 }
		has_equipment = { medium_tank_destroyer_chassis > 7500 }
		num_of_military_factories > 849
	}
	abort = {
		has_deployed_air_force_size = {
			type = fighter
			size > 25000
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = 50
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = 300
	}
	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = 25
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = cas
		value = 100
	}
}

AUS_infantry_production = {
	allowed = {
		original_tag = AUS
	}
	enable = {
		is_historical_focus_on = yes
	}
	abort = {
		always = no
	}
	ai_strategy = { 
		type = equipment_production_min_factories
		id = infantry
		value = 5
	}
	ai_strategy = { 
		type = equipment_production_factor
		id = infantry
		value = 100
	}
	ai_strategy = {
		type = equipment_production_factor
		id = artillery
		value = 100
	}
	#ai_strategy = {
	#	type = build_army
	#	id = infantry
	#	value = 1000
	#}
	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = -50
	}
	ai_strategy = {
		type = force_build_armies
		value = 500
	}
}

ENG_avoid_NOR = {
	allowed = {
		or = {
			tag = ENG
			tag = FRA
			tag = NOR
		}
	}
	enable = {
		is_historical_focus_on = yes
		has_war_with = GER
		GER = { 
			has_completed_focus = GER_weserubung
			is_ai = yes
		}
		or = {
			DEN = { 
				has_capitulated = yes
				is_in_faction_with = ROOT
			}
			99 = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
	}
	abort = {
		or = {
			USA = { is_in_faction_with = ROOT }
			any_other_country_has_entered_germany = yes
			date > 1944.1.1
			west_europe_is_dangerous = yes
		}
		
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 174
		value = 999
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 173
		value = 999
	}

	ai_strategy = {
		type = invade
		id = "GER"
		value = -500
	}
}

GER_convoy_raids_ENG = {
	allowed = {
		tag = GER
	}

	enable = {#ä¸æ”¾æ°´
		has_navy_size = { size > 25 unit = submarine }
		or = {
		any_enemy_country = { is_ai = no has_navy_size = { size > 20 unit = submarine } }
		and = { has_War_with = ENG ENG = { surrender_progress > 0.05 } }
		any_allied_country = { is_ai = no }
		has_war_together_with_human_player = yes
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 16#åŒ—æµ·
		value = -999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 18#è‹±å‰åˆ©
		value = -999
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 16#åŒ—æµ·
		value = 50
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 18#è‹±å‰åˆ©
		value = 50
	}
	
	ai_strategy = { type = naval_mission_threshold id = "MISSION_CONVOY_RAIDING" value = 5000000 }

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 45#æŒªå¨æµ·
		value = 500
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 44#ä¸¹éº¦æµ·
		value = 500
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 47#ä¼Šæ¯”åˆ©äºšæµ·å²¸
		value = 999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 49#åŒ—å¤§è¥¿æ´‹æµ·è„Š
		value = 999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 51#ä¸­å¤§è¥¿æ´‹è£‚è°·
		value = 999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 56#ä¸­å¤§è¥¿æ´‹
		value = 999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 58#ä¸­å¤§è¥¿æ´‹è£‚è°·
		value = 999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 59#å·´è¥¿åŒ—
		value = 999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 61#ä½›å¾—è§’æ·±æµ·å¹³åŽŸ
		value = 999
	}
}
GER_DONT_convoy_raids_ENG = {
	allowed = {
		tag = GER
	}

	enable = {#æ”¾æ°´
		is_historical_focus_on = yes
		has_navy_size = { size > 0 unit = submarine }
		if = {
		limit = { has_War_with = ENG }
		ENG = { surrender_progress < 0.05 }
		}
		else = { always = yes }
		not = { any_allied_country = { is_ai = no } }
		has_war_together_with_human_player = no
		not = { any_enemy_country = { is_ai = no has_navy_size = { size > 20 unit = submarine } } }
		not = { any_enemy_country = { is_ai = no is_major = yes or = { is_ally_faction_country = yes is_USA_faction_country = yes } } }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { type = naval_mission_threshold id = "MISSION_CONVOY_RAIDING" value = -500000 }
	
	ai_strategy = {
		type = naval_avoid_region
		id = 16#åŒ—æµ·
		value = 999
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 18#è‹±å‰åˆ©
		value = 999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 16#åŒ—æµ·
		value = -999
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 18#è‹±å‰åˆ©
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 45#æŒªå¨æµ·
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 44#ä¸¹éº¦æµ·
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 47#ä¼Šæ¯”åˆ©äºšæµ·å²¸
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 49#åŒ—å¤§è¥¿æ´‹æµ·è„Š
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 51#ä¸­å¤§è¥¿æ´‹è£‚è°·
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 56#ä¸­å¤§è¥¿æ´‹
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 58#ä¸­å¤§è¥¿æ´‹è£‚è°·
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 59#å·´è¥¿åŒ—
		value = -999
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 61#ä½›å¾—è§’æ·±æµ·å¹³åŽŸ
		value = -999
	}
}

ITA_ETH_zz = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		is_historical_focus_on = yes
		date < 1940.1.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = GER
		target_country = ETH
		value = 1000
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = GER
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = call_allies
		value = -99999
	}
}
GER_ETH_zz = {
	allowed = {
		original_tag = GER
	}
	enable = {
		is_historical_focus_on = yes
		date < 1940.1.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_join_wars_with  # TODO seems bugged
		id = ITA
		target_country = ETH
		value = 1000
	}
	
	ai_strategy = {
		type = diplo_action_desire
		id = ITA
		target = join_allies
		value = -99999
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		target = call_allies
		value = -99999
	}
}

GER_operation_sov_barbarossa = {
	allowed = {
		original_tag = GER
	}
	enable = {
		or = {
			has_idea = GER_barbarossa
		}
		surrender_progress < 0.05
	}
	abort = {
	    west_europe_is_dangerous = yes
	}
	
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.6

		tag = SOV

		priority = 1500
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
	ai_strategy = {
		type = consider_weak
		id = "SOV"
		value = 500
	}
	ai_strategy = {
		type = front_armor_score
		id = "SOV"
		value = 50
	}
	ai_strategy = {
		type = front_unit_request
		tag = SOV
		value = 50
	}
	
	
}

GER_landing_England = {
	allowed = {
		original_tag = GER
	}
	enable = {
		has_war_with = ENG
		ENG = { surrender_progress > 0.05 }
	}
	abort = {
		or = {
			ENG = { has_capitulated = yes }
			not = { has_war_with = ENG }
			ENG = { surrender_progress > 0.6 }
		}
	}

	ai_strategy = {
		type = area_priority
		id = UK
		value = 500 #more focus here
	}

	ai_strategy = {
		type = front_unit_request
		tag = ENG
		value = 100
	}

	ai_strategy = {
		type = front_control ratio = 0.6

		tag = ENG

		#ratio = 0.4

		priority = 500
		ordertype = front
		execution_type = rush
		execute_order = yes
	}
}

GER_the_me262 = {
	allowed = {
		always = yes
	}
	enable = {
		has_tech = modern_small_airframe
		num_of_military_factories > 100
		num_divisions > 200
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { 
		type = equipment_variant_production_factor 
		id = small_plane_cas_airframe_4 
		value = 50
	}
	ai_strategy = { 
		type = equipment_variant_production_factor 
		id = small_plane_airframe_4 
		value = 50
	}
} 

GER_addintelligence_agency_normal_upgrade_prio = {
	allowed = {
		original_tag = GER
	}
	enable = {
		always = yes
	}

	abort = {
		always = no
	}

	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_intelligence
		value = 1000
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_defense
		value = 1000
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_operation
		value = 500
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_operative
		value = 100
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_crypto
		value = 2000
	}
}
GER_build_intelligence_agency = {
	allowed = {
		original_tag = GER
	}
	enable = {
		always = yes
	}

	abort = {
		always = no
	}

	ai_strategy = {
		type = intelligence_agency_usable_factories
		value = 1000
	}

}

###

USA_GER_tank_war = {
	enable = {
	    OR = {
		TAG = USA
		is_in_faction_with = ENG
		}
		#OR = {
		#is_neighbor_of = GER
		#any_allied_country = { is_in_faction_with = ROOT is_neighbor_of = GER }
		#}
		has_war_with = GER
		GER = {
		is_major = yes
		is_subject = no
		has_capitulated = no
		}
		#date > 1942.1.1
		not = { capital_scope = { is_on_continent = asia } }
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = front_armor_score
		id = GER
		value = 200
	}
	ai_strategy = {
		type = front_armor_score
		id = GEF
		value = 100
	}
	ai_strategy = {
		type = front_armor_score
		id = VIC
		value = 100
	}
	ai_strategy = {
		type = front_armor_score
		id = ITA
		value = 100
	}
	
	ai_strategy = {
		type = front_armor_score
		id = JAP
		value = -100
	}
	ai_strategy = {
		type = front_armor_score
		id = SIA
		value = -100
	}
}
USA_ENG_is_dangourous = {
	allowed = {
		original_tag = USA
	}
	enable = {
		ENG = {
			surrender_progress > 0.05
		}
		has_war_together_with = ENG
		OR = {
			is_in_faction_with = ENG
			has_military_access_to = ENG
		}
		surrender_progress < 0.05
	}
	
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.35
		states = {
			123
			125
			126
			127
			338
		}
		area = UK
		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		id = "ENG"
		value = 500
	}
	
	ai_strategy = {
		type = front_unit_request
		area = UK
		value = 200
	}
}

USA_awake = {
	allowed = {
		original_tag = USA
	}
	enable = {
        or = {
        any_enemy_country = { is_major = yes }    
		has_idea = rt56_the_gaint_wakes_idea
        }
	}
	abort_when_not_enabled = yes
	#ai_strategy = {
	#	type = building_target
	#	id = arms_factory
	#	value = 750
	#}
	#ai_strategy = {
	#	type = building_target
	#	id = arms_factory
	#	value = 500
	#}
	#ai_strategy = {
	#	type = building_target
	#	id = infrastructure
	#	value = -999
	#}
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 50
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 40
	}
}

###

Allies_sweep_mines = {
	allowed = {
		or = {
			original_tag = ENG
			original_tag = USA
		}
	}
	enable = {
		any_enemy_country = {
			has_mined = {
				target = ROOT
				value > 100
			}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = role_ratio
		id = naval_mine_sweeper
		value = 200
	}
	ai_strategy = { 
		type = naval_mission_threshold 
		id = "MISSION_MINES_SWEEPING" 
		value = 200 
	}
}

ENG_last_stand = {
	allowed = { tag = ENG }
	enable = {
		has_war = yes
		any_owned_state = {
			OR = {
				region = 1
				region = 2
				region = 3
			}
			NOT = { is_fully_controlled_by = ENG }
		}
	}
	abort_when_not_enabled = yes

	### japan

	ai_strategy = {
		type = front_control 
		priority = 100
		state_trigger = {
			OR = {
				region = 1
				region = 2
				region = 3
			}
		}

		ratio > 0.75
		execution_type = rush_weak
		execute_order = yes
	}

	ai_strategy = {
		type = front_unit_request
		area = UK
		value = 999
	}
	ai_strategy = {
		type = area_priority
		id = UK
		value = 999
	}
	ai_strategy = {
		type = garrison
		value = 100
	}
}

ALLIES_dont_nuke_china = {
	enable = {
	    or = {
		has_tech = nukes
		any_other_country = { has_war_together_with = root has_tech = nukes }
		}
		has_war_with = JAP
		has_war_together_with = event_target:WTT_current_china_leader
		NOT = { has_war_with = event_target:WTT_current_china_leader }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { type = strategic_air_importance id = 248 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 164 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 247 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 76 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 143 value = -500000 }
	
	ai_strategy = { type = strategic_air_importance id = 155 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 243 value = -500000 }
	ai_strategy = { type = strategic_air_importance id = 186 value = -500000 }
}

ALLIES_strategic_bombing_GER = {
	enable = { always = no
		has_deployed_air_force_size = { size > 99 type = strategic_bomber }
		or = { is_ally_faction_country = yes is_USA_faction_country = yes }
		has_war_with = GER
		GER = { has_capitulated = no }
		NOT = { surrender_progress > 0.05 }
		126 = { is_controlled_by_ROOT_or_ally = yes }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { type = strategic_air_importance id = 6 value = 10000 }
	ai_strategy = { type = strategic_air_importance id = 7 value = 20000 }
	ai_strategy = { type = strategic_air_importance id = 8 value = 20000 }
}

ALLIES_strategic_bombing_ITA = {
	enable = { always = no
		has_deployed_air_force_size = { size > 99 type = strategic_bomber }
		or = { is_in_faction_with = ENG is_in_faction_with = USA }
		any_enemy_country = { controls_state = 161 }
		NOT = { surrender_progress > 0.05 }
		458 = { is_controlled_by_ROOT_or_ally = yes }
		448 = { is_controlled_by_ROOT_or_ally = yes }
		450 = { is_controlled_by_ROOT_or_ally = yes }
		116 = { is_controlled_by_ROOT_or_ally = yes }
		447 = { is_controlled_by_ROOT_or_ally = yes }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { type = strategic_air_importance id = 21 value = 20000 }
	ai_strategy = { type = strategic_air_importance id = 23 value = 20000 }
}

ALLIES_strategic_bombing_JAP = {
	enable = { always = no
		has_deployed_air_force_size = { size > 99 type = strategic_bomber }
		or = { is_in_faction_with = ENG is_in_faction_with = USA }
		has_war_with = JAP
		JAP = { has_capitulated = no }
		NOT = { surrender_progress > 0.05 }
		or = {
		526 = { is_controlled_by_ROOT_or_ally = yes }
		645 = { is_controlled_by_ROOT_or_ally = yes }
		646 = { is_controlled_by_ROOT_or_ally = yes }
		648 = { is_controlled_by_ROOT_or_ally = yes }
		}
	}
	abort = {
	    JAP = { is_ai = yes }
		USA = {
		has_tech = nukes
		has_war_with = JAP
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = { type = strategic_air_importance id = 154 value = 30000 }
}

ENG_arms_factory_dockyard_balance = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		any_enemy_country = {
			is_major = yes
		}
	}

	abort_when_not_enabled = yes
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 10
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 20
	}
	ai_strategy = {
		type = building_target
		id = dockyard
		value = 50
	}
}

JAP_prepare_war_for_china_send_spy = {
	enable = {
		or = {
		tag = JAP
		is_in_faction_with = JAP
		}
		not = { is_in_faction_with = CHI }
		CHI = {
		exists = yes
		is_subject = no
		}
		or = {
		is_historical_focus_on = yes
		has_war_with = CHI
		}
		or = {
		CHI = { is_ai = no }
		}
	}
	abort = {
		1034 = { is_controlled_by_jap_or_its_puppet = yes }
		1032 = { is_controlled_by_jap_or_its_puppet = yes }
		615 = { is_controlled_by_jap_or_its_puppet = yes }
		1043 = { is_controlled_by_jap_or_its_puppet = yes }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operation_equipment_priority
		value = 100
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_rescue_operative
		value = 9999
		operation_target = CHI
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_rescue_operative
		value = 9999
		operation_target = SIC
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_rescue_operative
		value = 9999
		operation_target = HPC
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 9999
		mission_target = CHI
		num_operatives = 1
		state = 605#é‡åº†
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 9999
		mission_target = SIC
		num_operatives = 1
		state = 605#é‡åº†
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 5000
		mission_target = CHI
		num_operatives = 1
		state = 1015#å—äº¬
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = CHI
		num_operatives = 1
		state = 608#åŒ—å¹³
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = HPC
		num_operatives = 1
		state = 608#åŒ—å¹³
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = SHX
		num_operatives = 1
		state = 615#å¤ªåŽŸ
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		mission_target = CHI
		num_operatives = 1
		state = 1034#æ­¦æ±‰
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = CHI
		num_operatives = 1
		state = 597#å±±ä¸œ
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = SHD
		num_operatives = 1
		state = 597#å±±ä¸œ
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		mission_target = CHI
		num_operatives = 1
		state = 607#è±«è¥¿
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 500
		mission_target = CHI
		num_operatives = 1
		state = 592#å¹¿å·ž
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 500
		mission_target = GUD
		num_operatives = 1
		state = 592#å¹¿å·ž
	}
}
JAP_prepare_war_for_china_send_spy_2 = {
	enable = {
		or = {
		tag = JAP
		is_in_faction_with = JAP
		}
		has_war_with = CHI
		or = {
		CHI = { is_ai = no }
		}
		1034 = { is_controlled_by_jap_or_its_puppet = yes }
		1032 = { is_controlled_by_jap_or_its_puppet = yes }
		615 = { is_controlled_by_jap_or_its_puppet = yes }
		1043 = { is_controlled_by_jap_or_its_puppet = yes }
	}
	abort = {
		has_global_flag = chi_run_happen
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operation_equipment_priority
		value = 100
	}
	ai_strategy = {
		type = operative_mission
		mission = counter_intelligence
		value = 2000
		mission_target = ROOT
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_rescue_operative
		value = 9999
		operation_target = CHI
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 9999
		mission_target = CHI
		num_operatives = 1
		state = 605#é‡åº†
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = CHI
		num_operatives = 1
		state = 1035#é•¿æ²™
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		mission_target = GXC
		num_operatives = 1
		state = 594#å—å®
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = CHI
		num_operatives = 1
		state = 744#è¥¿å®‰
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 9999
		mission_target = PRC
		num_operatives = 1
		state = 622#ç“¦çª‘å ¡
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		mission_target = CHI
		num_operatives = 1
		state = 620#å®œæ˜Œ
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 1000
		mission_target = CHI
		num_operatives = 1
		state = 750#æ¹˜è¥¿
	}
}
JAP_prepare_war_for_prc_send_spy = {
	enable = {
		or = {
		tag = JAP
		is_in_faction_with = JAP
		}
		has_war_with = PRC
		or = {
		PRC = { is_ai = no }
		}
	}
	abort = {
		has_global_flag = chi_run_happen
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = operation_equipment_priority
		value = 100
	}
	ai_strategy = {
		type = operative_mission
		mission = counter_intelligence
		value = 1000
		mission_target = ROOT
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_rescue_operative
		value = 9999
		operation_target = PRC
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 9999
		mission_target = PRC
		num_operatives = 2
		state = 622#ç“¦çª‘å ¡
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 5000
		mission_target = PRC
		num_operatives = 1
		state = 1017#æ™‹è¥¿
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 5000
		mission_target = SHX
		num_operatives = 1
		state = 1017#æ™‹è¥¿
	}
	
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 5000
		mission_target = PRC
		num_operatives = 1
		state = 615#å¤ªåŽŸ
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 5000
		mission_target = SHX
		num_operatives = 1
		state = 615#å¤ªåŽŸ
	}
	
}

SOV_industrial_modernization_41tech = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_completed_focus = SOV_industrial_modernization
		not = { has_tech = concentrated_industry4 }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = concentrated_industry4
		value = 9999
	}
}
SOV_on_start_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1936.3.1
		or = {
			not = { has_tech = interwar_antitank }
			not = { has_tech = range_improvements }
			not = { has_tech = tech_field_hospital }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = interwar_antitank
		value = 9999
	}
	ai_strategy = {
		type = research_tech
		id = range_improvements
		value = 9999
	}
	ai_strategy = {
		type = research_tech
		id = tech_field_hospital
		value = 9999
	}
}

SOV_support_39_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		
		date > 1938.10.1
		or = {
			not = { has_tech = tech_engineers2 }
			not = { has_tech = tech_field_hospital2 }
		}
	}

	abort = {
		has_tech = tech_engineers2
		has_tech = tech_field_hospital2
	}

	ai_strategy = {
		type = research_tech
		id = tech_engineers2
		value = 500
	}
	ai_strategy = {
		type = research_tech
		id = tech_field_hospital2
		value = 500
	}
}
SOV_support_42_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		
		date > 1941.10.1
		not = { has_tech = tech_field_hospital3 }
	}

	abort = {
		has_tech = tech_field_hospital3
	}

	ai_strategy = {
		type = research_tech
		id = tech_field_hospital3
		value = 500
	}
}

SOV_small_plane_44_tech = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		
		date > 1943.11.1
		or = {
			not = { has_tech = advanced_small_airframe }
			not = { has_tech = engines_4 }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = advanced_small_airframe
		value = 9999
	}

	ai_strategy = {
		type = research_tech
		id = engines_4
		value = 9999
	}
}
SOV_maintenance_tech1 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		not = { has_tech = tech_maintenance_company }
	}

	abort = {
		has_tech = tech_maintenance_company
	}

	ai_strategy = {
		type = research_tech
		id = tech_maintenance_company
		value = 9999
	}
}
SOV_maintenance_tech2 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1938.10.1
		not = { has_tech = tech_maintenance_company2 }
	}

	abort = {
		has_tech = tech_maintenance_company2
	}

	ai_strategy = {
		type = research_tech
		id = tech_maintenance_company2
		value = 9999
	}
}

USA_collaboration_on_JAP = {
	allowed = {
		original_tag = USA
	}
	
	enable = {
		has_war_with = JAP
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = JAP
		num_operatives = 1
		state = 531
	}
	ai_strategy = {
		type = operative_mission
		mission = build_intel_network
		value = 2000
		mission_target = JAP
		num_operatives = 1
		state = 282
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_infiltrate_civilian
		value = 1200
		operation_target = JAP
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_infiltrate_armed_forces_army
		value = 9999
		operation_target = JAP
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_infiltrate_armed_forces_airforce
		value = 9999
		operation_target = JAP
	}
	ai_strategy = {
		type = operative_operation
		operation = operation_infiltrate_armed_forces_navy
		value = 9999
		operation_target = JAP
	}
}

SOV_dont_rush_GER_too_much_LOL = {
    allowed = {
		original_tag = SOV
	}
	enable = {
		any_enemy_country = {
		is_major = yes
		capital_scope = { is_on_continent = europe }
		}
		check_variable = {
			This.infantry_equipment_deficit > 50000
		}
	}

    abort_when_not_enabled = yes

	ai_strategy = {
		type = consider_weak
		id = "GER"
		value = -3000
	}
	ai_strategy = {
		type = consider_weak
		id = "FIN"
		value = -3000
	}
	ai_strategy = {
		type = consider_weak
		id = "ROM"
		value = -3000
	}
	ai_strategy = {
		type = consider_weak
		id = "HUN"
		value = -3000
	}

	ai_strategy = {
		type = front_control
		area = West_of_Ural_Mountains
		
		ratio = 0.60 #guo
		priority = 5000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
}

dont_rush_if_infantry_equipment_deficit_is_large = {
    allowed = {
		always = yes
	}
	enable = {
		has_war_with_major = yes
		check_variable = {
			This.infantry_equipment_deficit > 30000
		}
	}
	
    abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		country_trigger = { always = yes }
		state_trigger = { always = yes }
		
		ratio = 0.60 #guo
		priority = 1000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
}

SOV_help_your_europe_guys = {
    allowed = {
		original_tag = SOV
	}
	enable = {
		always = yes
	}

    abort = { always = no }

	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		target = europe
	}
}
SOV_help_your_Asia_guys = {
    allowed = {
		original_tag = SOV
	}
	enable = {
		has_war_with_asia_country = yes
	}

    abort_when_not_enabled = yes

	ai_strategy = {
		type = force_defend_ally_borders
		value = 200
		target = asia
	}
}

JAP_avoid_trade_routes_to_atlantic = {
	enable = { 
		has_war = yes
		OR = {
			original_tag = JAP
			is_in_faction_with = JAP
			is_subject_of = JAP
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = naval_avoid_region id = 65 value = 50 }
	ai_strategy = { type = naval_avoid_region id = 107 value = 50 }
	ai_strategy = { type = naval_avoid_region id = 63 value = 50 }
}

JAP_conserve_fuel = {
	allowed = { original_tag = JAP }
	enable = { 
		fuel_ratio < 0.50 
		has_war = no 
	}
	abort = { 
	    OR = {
		NOT = { 
			AND = {
				fuel_ratio < 0.75 
				has_war = no 
			} 
		} 
		any_enemy_country = { has_navy_size = { size > 5 } }
		date > 1941.9.1
		has_country_flag = prepare_for_attack_pearl_harbor
		}
	}

	ai_strategy = { type = naval_mission_threshold id = "MISSION_TRAINING" value = 200000 }
}
JAP_conserve_fuel_2 = {
	allowed = { original_tag = JAP }
	enable = { 
		fuel_ratio < 0.50 
		has_war_with = event_target:WTT_current_china_leader
		event_target:WTT_current_china_leader = { surrender_progress > 0.3 }
	}
	abort = { 
	    OR = {
		NOT = { 
			AND = {
				fuel_ratio < 0.75 
				has_war_with = event_target:WTT_current_china_leader
			} 
		} 
		any_enemy_country = { has_navy_size = { size > 5 } }
		event_target:WTT_current_china_leader = { surrender_progress < 0.3 }
		date > 1941.9.1
		has_country_flag = prepare_for_attack_pearl_harbor
		}
	}

	ai_strategy = { type = naval_mission_threshold id = "MISSION_TRAINING" value = 500000 }
}

JAP_conserve_fuel_vs_CHI = {
	allowed = { original_tag = JAP }
	enable = { 
		has_war_with = event_target:WTT_current_china_leader
		fuel_ratio < 0.8
		alliance_naval_strength_ratio > 10
	}
	abort = { 
	    or = {
		NOT = { 
			AND = { 
				has_war_with = event_target:WTT_current_china_leader
				fuel_ratio < 0.9 
				alliance_naval_strength_ratio > 10
			} 
		} 
		event_target:WTT_current_china_leader = { surrender_progress > 0.3 }
		}
	}

	ai_strategy = { type = naval_mission_threshold id = "MISSION_MINES_PLANTING" value = 200000 }
	ai_strategy = { type = naval_mission_threshold id = "MISSION_MINES_SWEEPING" value = 200000 }
	ai_strategy = { type = naval_mission_threshold id = "MISSION_PATROL" value = 200000 }
	ai_strategy = { type = naval_mission_threshold id = "MISSION_STRIKE_FORCE" value = 200000 }
}

JAP_invasion_blitz = {
	allowed = { original_tag = JAP }
	enable = { 
		always = yes
	}
	abort = { always = no }

	ai_strategy = { type = naval_mission_threshold id = "MISSION_CONVOY_RAIDING" value = 200000 }
	ai_strategy = { type = naval_mission_threshold id = "MISSION_MINES_PLANTING" value = 200000 }
	ai_strategy = { type = naval_mission_threshold id = "MISSION_MINES_SWEEPING" value = 200000 }
}

JAP_the_mine = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		has_war = yes
		enemies_naval_strength_ratio < 0.5
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_mission_threshold
		id = MISSION_MINES_PLANTING
		value = 200000
	}

	ai_strategy = {
		type = naval_mission_threshold
		id = MISSION_PATROL
		value = -99990
	}
}

USA_naval_train_fuel = {
	allowed = { or = { original_tag = USA original_tag = ENG original_tag = SOV } }
	enable = {
		has_war = no
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = naval_mission_threshold id = "MISSION_TRAINING" value = 200000 }
}

ITA_avoid_the_ENG_mainland = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		has_war_with = ENG
	}
	abort = {
		has_full_control_of_state = 907#å¼€ç½—
		has_full_control_of_state = 446#è‹ä¼Šå£«
		has_full_control_of_state = 118#ç›´å¸ƒç½—é™€
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 18 #english channel
		value = 600 # avoid doing missions as well
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 16 #around UK
		value = 600
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 43 #around UK
		value = 600
	}
}

ITA_the_Mediterranean_war = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		any_allied_country = {
			has_war_with = ENG
		}
		#enemies_naval_strength_ratio > 0.65
		surrender_progress < 0.05#è‡ªå®¶åŽé™¢è¦å®‰å…¨
	}
	abort = {
		446 = {#è‹ä¼Šå£«
			controller = {
				is_in_faction_with = ROOT
			}
		}
		118 = {#ç›´å¸ƒç½—é™€
			controller = {
				is_in_faction_with = ROOT
			}
		}
	}
	ai_strategy = { 
		type = invade 
		id = "SOV" 
		value = -500
	}
	ai_strategy = { 
		type = invade 
		id = "FIN" 
		value = -500
	}

	ai_strategy = {
		type = invasion_unit_request
		area = UK
		value = -999
	}

	ai_strategy = {
		type = naval_invasion_focus
		value = 50
	}
	
	ai_strategy = {
		type = invasion_unit_request
		state = 118
		value = 5
	}

	ai_strategy = {
		type = invasion_unit_request
		state_trigger = { is_controlled_by = ENG }
		value = 5
	}

	ai_strategy = {
		type = invasion_unit_request
		area = north_africa
		value = 10
	}
	ai_strategy = {
		type = invasion_unit_request
		state_trigger = { 
			OR = {
				region = 128
				region = 232
			}
		}
		value = 10
	}

	
	ai_strategy = {
		type = front_control
		area = north_africa
		priority = 100
		ratio = 0.25
		ordertype = invasion
	}
	ai_strategy = {
		type = front_control
		state = 118
		priority = 80
		ratio = 0.2
		ordertype = invasion
	}
	
	ai_strategy = { type = naval_avoid_region id = 47 value = 500 }
	ai_strategy = { type = naval_avoid_region id = 48 value = 500 }
	ai_strategy = { type = naval_avoid_region id = 61 value = 500 }
	ai_strategy = { type = naval_avoid_region id = 62 value = 500 }
	ai_strategy = { type = naval_avoid_region id = 65 value = 500 }
	ai_strategy = { type = naval_avoid_region id = 103 value = 500 }
	ai_strategy = { type = naval_avoid_region id = 102 value = 500 }
	ai_strategy = { type = naval_avoid_region id = 104 value = 500 }
}

#ITA_less_naval_base = {
#	allowed = {	always = yes }
#	enable = {
#		always = yes
#	}
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = building_target
#		id = naval_base
#		value = -500
#	}
#}
ITA_produce_floating_harbors = {
	allowed = {	or = { original_tag = ITA original_tag = JAP } }
	enable = {
		has_war = yes
		num_of_naval_factories > 25
		has_tech = mtg_landing_craft
		has_navy_size = { size > 50 }
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = unit_ratio
		id = floating_harbor # for floating harbors, 'unit_ratio' is actually not a ratio but an absolute desired number
		value = 10
	}
}

ITA_the_mine = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		has_war = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_mission_threshold
		id = MISSION_MINES_PLANTING
		value = 150
	}

}

ITA_land_doctrine = {
	allowed = {
		always = yes
	}
	enable = {
		not = { has_tech = infantry_offensive }
		has_tech = grand_assault
	}

	abort = {
		has_tech = infantry_offensive
	}

	ai_strategy = {
		type = research_tech
		id = infantry_offensive
		value = 9999
	}
}
vast_offensives_land_doctrine = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		not = { has_tech = vast_offensives }
		has_tech = mass_assault
	}

	abort = {
		has_tech = vast_offensives
	}

	ai_strategy = {
		type = research_tech
		id = vast_offensives
		value = 9999
	}
}
human_wave_offensive_land_doctrine = {
	allowed = {
		NOT = { original_tag = SOV }
	}
	enable = {
		not = { has_tech = human_wave_offensive }
		has_tech = mass_assault
	}

	abort = {
		has_tech = human_wave_offensive
	}

	ai_strategy = {
		type = research_tech
		id = human_wave_offensive
		value = 9999
	}
}

ITA_air_doctrine = {
	allowed = {
		original_tag = ITA
	}
	enable = {
		not = { has_tech = force_rotation }
	}

	abort = {
		has_tech = force_rotation
	}

	ai_strategy = {
		type = research_tech
		id = force_rotation
		value = 9999
	}
}

ITA_radar_2 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1938.1.1
	}

	abort = {
		has_tech = decimetric_radar has_tech = computing_machine 
	}

	ai_strategy = {
		type = research_tech
		id = decimetric_radar
		value = 500
	}
	ai_strategy = {
		type = research_tech
		id = computing_machine
		value = 9999
	}
}
ITA_radar_3 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1939.1.1
	}

	abort = {
		has_tech = improved_decimetric_radar 
	}

	ai_strategy = {
		type = research_tech
		id = improved_decimetric_radar
		value = 500
	}
	
}

#é£žæœºç§‘æŠ€ç ”ç©¶é›†åˆ
air_research_1936 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1937.1.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = armor_piercing_bombs
		value = 100
	}
	ai_strategy = {
		type = research_tech
		id = air_torpedoe_1
		value = 100
	}
	ai_strategy = {
		type = research_tech
		id = engines_2
		value = 5000
	}
	ai_strategy = {
		type = research_tech
		id = range_improvements
		value = 5000
	}
	ai_strategy = {
		type = research_tech
		id = aircraft_construction
		value = 5000
	}
}
air_research_1939 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1938.11.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = survivability_studies
		value = 5000
	}
	ai_strategy = {
		type = research_tech
		id = aa_hmg
		value = 5000
	}
	ai_strategy = {
		type = research_tech
		id = aa_cannon_1
		value = 5000
	}
}
air_research_1940 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1939.11.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = research_tech
		id = improved_computing_machine
		value = 9999
	}
	
	ai_strategy = {
		type = research_tech
		id = improved_medium_airframe
		value = 600
	}
	ai_strategy = {
		type = research_tech
		id = heavy_bombs
		value = 5000
	}
	ai_strategy = {
		type = research_tech
		id = engines_3
		value = 5000
	}
	ai_strategy = {
		type = research_tech
		id = rocket_artillery
		value = 500
	}
}
#é£žæœºç§‘æŠ€ç ”ç©¶é›†åˆ


ITA_radar_5 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1941.1.1
		not = { has_tech = improved_centimetric_radar }
	}

	abort = {
		has_tech = improved_centimetric_radar 
	}

	ai_strategy = {
		type = research_tech
		id = improved_centimetric_radar
		value = 500
	}
}
ITA_radar_6 = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1942.1.1
	}

	abort = {
		has_tech = advanced_centimetric_radar has_tech = advanced_computing_machine
	}

	ai_strategy = {
		type = research_tech
		id = advanced_centimetric_radar
		value = 500
	}
	ai_strategy = {
		type = research_tech
		id = advanced_computing_machine
		value = 9999
	}
}

ITA_the_improved_small_airframe = {
	allowed = {
		OR = {
		original_tag = SOV
		original_tag = GER
		original_tag = USA
		original_tag = ENG
		original_tag = FRA
		original_tag = ITA
		original_tag = JAP
		}
	}
	enable = {
		date > 1940.1.1
		not = { has_tech = improved_small_airframe }
	}

	abort = {
		has_tech = improved_small_airframe
	}

	ai_strategy = {
		type = research_tech
		id = improved_small_airframe
		value = 9999
	}
}
ITA_focus_on_the_Mediterranean = {
	allowed = {	original_tag = ITA }
	enable = {
		is_in_faction_with = GER
		GER = { has_war = yes }
		is_historical_focus_on = yes
	}
	abort = {
		or = {
			GER = { surrender_progress > 0 }
			ROM = { surrender_progress > 0 }
			HUN = { surrender_progress > 0 }
		}
	}
	#ai_strategy = {
	#	type = dont_defend_ally_borders
	#	id = "GER"
	#	value = 100
	#}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ROM"
		value = 100
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HUN"
		value = 100
	}
	ai_strategy = { type = strategic_air_importance id = 1 value = -25000 }
	ai_strategy = { type = strategic_air_importance id = 37 value = -25000 }
	ai_strategy = { type = strategic_air_importance id = 38 value = -25000 }
	ai_strategy = { type = strategic_air_importance id = 39 value = -25000 }
	ai_strategy = { type = strategic_air_importance id = 26 value = -25000 }
	ai_strategy = { type = strategic_air_importance id = 130 value = -25000 }
	ai_strategy = { type = strategic_air_importance id = 131 value = -25000 }
	ai_strategy = { type = strategic_air_importance id = 132 value = -25000 }
}


do_not_waste_pp_on_leaders = {
	enable = {
		has_war = no
		has_political_power < 200
	}
	abort = {
		OR = {
			has_war = yes
			has_political_power > 200
		}
	}

	ai_strategy = {
		type = pp_spend_priority
		id = general
		value = -9999
	}
        ai_strategy = {
		type = pp_spend_priority
		id = materiel_manufacturer
		value = -9999
	}
        ai_strategy = {
		type = pp_spend_priority
		id = tank_manufacturer
		value = -9999
	}
        ai_strategy = {
		type = pp_spend_priority
		id = naval_manufacturer
		value = -9999
	}
        ai_strategy = {
		type = pp_spend_priority
		id = aircraft_manufacturer
		value = -9999
	}
	ai_strategy = {
		type = pp_spend_priority
		id = admiral
		value = -9999
	}
}

# ENG should put some buffer units in north africa to help with egypt
ENG_help_EGY = {
	allowed = {
		original_tag = ENG
	}
	enable = {
	    is_ally_with = EGY
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = support
		id = EGY
		value = 200
	}
	ai_strategy = {
		type = protect
		id = EGY
		value = 200
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = EGY
		value = 300
	}
	
	ai_strategy = {
        type = area_priority
        id = north_africa
        value = 50
    }
	ai_strategy = {
	 	type = front_unit_request
		area = north_africa
		value = 10
	}
	ai_strategy = {
	 	type = front_unit_request
		TAG = ITA
		value = 10
	}
	ai_strategy = {
	 	type = front_unit_request
		TAG = GEF
		value = 10
	}
	
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 452
		value = 3
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 447
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 907
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 451
		value = 3
	}
	
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 884
		value = 2
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 886
		value = 2
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 547
		value = 2
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 271
		value = 2
	}
	
	ai_strategy = {
		type = force_defend_ally_borders
		target = africa
		value = 300
	}
	
	ai_strategy = {
 		type = put_unit_buffers
	
		# ratio of total armeis in country to be buffered
 		ratio = 0.1
		#order_id = 21
		# you can specify an order id. ratio of same orders ids will be share same ratio

 		# states to put garrison orders (if no state is friendly, strat is invalid)
 		states = { #guo
 			451
			452
			447
			907
			454
			183
			182
			446
			553
			
			269
			886
			884
 		}
	
		# ai areas that the orders will use these buffers in
 		area = suez
		area = north_africa
 		area = africa
	
 		# by default if you have orders in target areas, the buffer will request less units. 
		# you can override this to disable the feature
 		subtract_invasions_from_need = yes
 		subtract_fronts_from_need = yes
 	}
}
# ENG should put some buffer units in asia to help with burma
ENG_unit_buffer_for_burma = {
	allowed = {
		original_tag = ENG
	}
	enable = {
	    or = {
		    date > 1941.1.1
		    is_in_faction_with = USA
            any_enemy_country = {
		    capital_scope = {
				is_on_continent = asia # lets avoid smaller conflicts elsewhere
			}
			is_major = yes
		    }
		}
		any_allied_country = {
		    or = {
			tag = RAJ
			tag = BUR
			tag = YUN
			}
		}
		surrender_progress < 0.05
		447 = { is_controlled_by_ROOT_or_ally = yes }
		271 = { is_controlled_by_enemy = no }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers
		
		states = {
			432
			430
			431
			426
		}

		ratio = 0.1

		area = zhongmianyinzhanqu
		
        subtract_fronts_from_need = yes
		subtract_invasions_from_need = yes
	}
	ai_strategy = {
		type = front_unit_request
		area = zhongmianyinzhanqu
		
		value = 20
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 432
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 430
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 288
		value = 5
	}
	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 640
		value = 5
	}
}

build_intelligence_agency_major = {
	enable = {
		is_major = yes
	}
        abort_when_not_enabled = yes
	ai_strategy = {
		type = intelligence_agency_usable_factories
		value = 5
	}
}

build_intelligence_agency_minor = {
	allowed = {
	}
	enable = {
		is_major = no
		date > 1940.1.1
		num_of_civilian_factories_available_for_projects > 25
	}
	abort = {
		OR = {
			is_major = yes
			num_of_civilian_factories_available_for_projects < 15
		}
	}

	ai_strategy = {
		type = intelligence_agency_usable_factories
		value = 5
	}
}

upgrade_intelligence_agency = {
	enable = {
		date > 1940.1.1
		num_of_civilian_factories_available_for_projects > 50
	}
	abort = {
		num_of_civilian_factories_available_for_projects < 40
	}

	ai_strategy = {
		type = intelligence_agency_usable_factories
		value = 5
	}
}

upgrade_intelligence_agency_as_spy_master = {
	enable = {
		is_spymaster = yes
		num_of_civilian_factories_available_for_projects > 50
	}
	abort = {
		OR = {
			is_spymaster = no
			num_of_civilian_factories_available_for_projects < 40
		}
	}

	ai_strategy = {
		type = intelligence_agency_usable_factories
		value = 10
	}
}

more_upgrades_as_spymaster = {
	enable = {
		is_spymaster = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = agency_ai_base_num_factories_factor
		value = -50    # -50% on the define
	}

	ai_strategy = {
		type = agency_ai_per_upgrade_factories_factor
		value = -25    # -25% on the define
	}
}

addintelligence_agency_normal_upgrade_prio = {
	enable = {
		always = yes
	}
        abort_when_not_enabled = yes
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_intelligence
		value = 1000
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_defense
		value = 1000
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_operation
		value = 500
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_operative
		value = 100
	}
	ai_strategy = {
		type = intelligence_agency_branch_desire_factor
		id = branch_crypto
		value = 2000
	}
}

EAI_MILITARY_AREA_AST_garrison_home = {
	allowed = { original_tag = AST }
	enable = {
		always = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = garrison value = 50 }

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.50
		states = {
			520
			521
			522
			523
			517
			285
			737
			634
			870
			519
		}
		area = asia
		subtract_invasions_from_need = yes
		subtract_fronts_from_need = yes
	}
}

EAI_MILITARY_AREA_SA_garrison = {
	enable = {
		has_war_with = GER
		OR = { original_tag = MEX capital_scope = { is_on_continent = south_america } }
		is_in_faction_with = USA
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = garrison value = 50 }
}

fascism_dont_support_ASIA_countries = {
	allowed = { always = yes }
	enable = {
		is_fascism_type = yes
		or = { num_divisions < 200 check_variable = { This.infantry_equipment_deficit > 2000 } }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = send_lend_lease_desire
		id = CHI
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = PRC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = SHX
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = GXC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = TNG
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = SIK
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = JAP
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = RRC
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = EHB
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = MAN
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = NEA
		value = -99999
	}
}

ally_dont_support_kmt_civil_war = {
	
	enable = {
		is_USA_OR_ally_faction_country = yes
		is_democratic_type = yes
		not = { has_war_together_with = event_target:WTT_current_china_leader }
		not = { is_ally_with = event_target:WTT_current_china_leader }
		not = { has_War_with = SOV }
		event_target:WTT_current_china_leader = { has_War_with = event_target:WTT_communist_china }
	}
	abort = { has_global_flag = roc_in_taiwan_flag }
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_volunteers_desire
		id = "PRC"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "CHI"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "NEA"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SHX"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GXC"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XSM"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GSM"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "NXM"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SUY"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "SIC"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "YUN"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XIK"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "XIA"
		value = -99999
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "GUD"
		value = -99999
	}
	
	ai_strategy = {
		type = send_lend_lease_desire
		id = "PRC"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "CHI"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "NEA"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "SHX"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "GXC"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "XSM"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "GSM"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "NXM"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "SUY"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "SIC"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "YUN"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "XIK"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "XIA"
		value = -99999
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "GUD"
		value = -99999
	}
	
	ai_strategy = {
		type = support
		id = "PRC"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "CHI"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "NEA"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "SHX"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "GXC"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "XSM"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "GSM"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "NXM"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "SUY"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "SIC"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "YUN"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "XIK"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "XIA"
		value = -99999
	}
	ai_strategy = {
		type = support
		id = "GUD"
		value = -99999
	}
	
	ai_strategy = {
		type = protect
		id = "PRC"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "CHI"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "NEA"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "SHX"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "GXC"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "XSM"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "GSM"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "NXM"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "SUY"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "SIC"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "YUN"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "XIK"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "XIA"
		value = -5000
	}
	ai_strategy = {
		type = protect
		id = "GUD"
		value = -5000
	}
}

GER_dont_support_ai_italy = {
	allowed = { original_tag = GER }
	enable = {
		ITA = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = ITA
		value = -99999
	}
}
#GER_dont_support_ai_rom = {
#	allowed = { original_tag = GER }
#	enable = {
#		ROM = { exists = yes is_ai = yes }
#	}
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = send_lend_lease_desire
#		id = ROM
#		value = -99999
#	}
#}
GER_dont_support_ai_BUL = {
	allowed = { original_tag = GER }
	enable = {
		BUL = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = BUL
		value = -99999
	}
}
#GER_dont_support_ai_HUN = {
#	allowed = { original_tag = GER }
#	enable = {
#		HUN = { exists = yes is_ai = yes }
#	}
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = send_lend_lease_desire
#		id = HUN
#		value = -99999
#	}
#}
GER_dont_support_ai_JAP = {
	allowed = { original_tag = GER }
	enable = {
		JAP = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = JAP
		value = -99999
	}
}
GER_dont_support_ai_SIA = {
	allowed = { original_tag = GER }
	enable = {
		SIA = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = SIA
		value = -99999
	}
}
GER_dont_support_ai_RRC = {
	allowed = { original_tag = GER }
	enable = {
		RRC = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = RRC
		value = -99999
	}
}
GER_dont_support_ai_EHB = {
	allowed = { original_tag = GER }
	enable = {
		EHB = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = EHB
		value = -99999
	}
}
GER_dont_support_ai_VIC = {
	allowed = { original_tag = GER }
	enable = {
		VIC = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = VIC
		value = -99999
	}
}
GER_dont_support_ai_NOR = {
	allowed = { original_tag = GER }
	enable = {
		NOR = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = NOR
		value = -99999
	}
}
GER_dont_support_ai_YUG = {
	allowed = { original_tag = GER }
	enable = {
		YUG = { exists = yes is_ai = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = YUG
		value = -99999
	}
}

focus_on_jap_and_its_puppet = {#aiä¸“æ³¨é˜²å¾¡æ—¥æœ¬
    allowed = {
	    is_literally_china = yes
	}
	enable = {
		has_War_with = JAP
	}
	abort = {
		has_global_flag = JAP_defeated
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_control ratio = 0.6
		
		country_trigger = {
		    is_japan_faction_country = yes
		}
		
		priority = 100
		ordertype = front
		execution_type = careful
		#execute_order = yes
		manual_attack = yes
	}
	ai_strategy = {
		type = consider_weak
		id = JAP
		value = -100
	}
	ai_strategy = {
		type = consider_weak
		id = RRC
		value = -100
	}
	ai_strategy = {
		type = consider_weak
		id = EHB
		value = -100
	}
	ai_strategy = {
		type = consider_weak
		id = RFM
		value = -100
	}
	ai_strategy = {
		type = consider_weak
		id = JNC
		value = -100
	}
	ai_strategy = {
		type = consider_weak
		id = ECA
		value = -100
	}
	
	ai_strategy = {
		type = area_priority
		id = europe
		value = -999
	}
	ai_strategy = {
		type = area_priority
		id = pacific
		value = -999
	}
	ai_strategy = {
		type = area_priority
		id = africa
		value = -999
	}
}
focus_on_player = {#å¦‚æœ‰å¿…è¦ï¼Œå…ˆæ‰“æ­»é«˜å¨èƒçŽ©å®¶ï¼ï¼ï¼
	enable = {
		any_enemy_country = {
		OR = {
		AND = {
		is_major = yes
		num_of_factories > 60
		}
		TAG = event_target:WTT_current_china_leader
		AND = {
		    TAG = event_target:WTT_communist_china
		    controls_state = 1017
			controls_state = 615
		}
		}
		
		is_ai = no
		has_capitulated = no
		
		OR = {
		is_neighbor_of = root
		ROOT = { any_subject_country = { is_neighbor_of = PREV } }
		}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		country_trigger = {#FROMæ˜¯æœ¬èº« ROOTæ˜¯å¢žå…µå¯¹è±¡
		    OR = {
		    AND = {
		    is_major = yes
		    num_of_factories > 60
			is_ai = no
		    }
		    and = { TAG = event_target:WTT_current_china_leader is_ai = no }
			AND = {
		    TAG = event_target:WTT_communist_china
		    num_divisions > 50
			is_ai = no
		    }
			and = { is_subject = yes is_neighbor_of = FROM overlord = { is_ai = no is_major = yes num_of_factories > 60 } }#çŽ©å®¶ç”¨å°å¼Ÿä½œå‰çº¿çš„æƒ…å†µ
			and = { is_neighbor_of = FROM any_allied_country = { is_ai = no is_major = yes num_of_factories > 60 } }#çŽ©å®¶ç”¨ç›Ÿå‹ï¼ˆä¾‹å¦‚è¥¿çº¿æ³•å›½ï¼‰ä½œå‰çº¿çš„æƒ…å†µ
		    }
			
			has_capitulated = no
			has_War_with = FROM
			
		    OR = {
		    is_neighbor_of = FROM
		    FROM = { any_subject_country = { is_neighbor_of = ROOT has_War_with = ROOT } }#aiç”¨å°å¼Ÿä½œå‰çº¿çš„æƒ…å†µ
			FROM = { any_allied_country = { is_neighbor_of = ROOT has_War_with = ROOT } }#aiç”¨ç›Ÿå‹ï¼ˆä¾‹å¦‚è¥¿çº¿æ„å¤§åˆ©ï¼‰ä½œå‰çº¿çš„æƒ…å†µ
		    }
		}
		value = 100
	}
}
zero_focus_on_non_neighbour_fronts_if_losing_war = {#è‡ªå®¶åŽé™¢èµ·ç«ï¼ï¼ï¼ åˆ«åŽ»ç®¡ä¸ç›¸é‚»çš„å›½å®¶ï¼Œä¸“æ³¨äºŽè‡ªå·±çš„è¾¹ç•Œæˆ˜çº¿
    allowed = { is_literally_china = no }#å†›é˜€ä»¬è¦äº’ç›¸å¸®åŠ©
	enable = {
		surrender_progress > 0.2
		is_faction_leader = no#å¤§å“¥è¦å¸®å°å¼Ÿå¡«çº¿
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		country_trigger = { NOT = { is_neighbor_of = FROM } }
		value = -100
	}
}
zero_focus_on_invade_fronts_if_homeland_is_dangerous = {#è‡ªå®¶åŽé™¢èµ·ç«ï¼ï¼ï¼ ä¸è¦å¼€å±•ç™»é™†è¡ŒåŠ¨
    allowed = { always = yes }
	enable = {
		surrender_progress > 0.07
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = naval_invasion_focus value = -50000 }
	ai_strategy = {
		type = invasion_unit_request
		country_trigger = { always = yes }
		state_trigger = { always = yes }

		value = -50000
	}
}

ENG_convoy_raids_german_italian_convoys_1 = {
	allowed = {
		always = yes
	}

	enable = {
		has_war_with_europe_country = yes
		OR = {
			is_ally_faction_country = yes
			is_USA_faction_country = yes
		}
		has_navy_size = { size > 25 }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 51 # 
		value = 500
	}

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 59 # north of brazil/venezuala
		value = 200
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 61 # cape verde plain
		value = 200
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 57 # sargasso sea
		value = 100
	}
}
ENG_convoy_raids_german_italian_convoys_2 = {
	allowed = {
		always = yes
	}

	enable = {
		has_war_with_europe_country = yes
		OR = {
			is_ally_faction_country = yes
			is_USA_faction_country = yes
		}
		has_navy_size = { size > 25 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 59 # north of brazil/venezuala
		value = 50
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 61 # cape verde plain
		value = 100
	}
}
USA_convoy_south_east_asia = {
	allowed = {
		OR = { tag = USA }
	}

	enable = {
		has_war_with_asia_country = yes
		has_navy_size = { size > 25 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_convoy_raid_region
		id = 75 # south china sea
		value = 75
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 80 # celeb sea
		value = 50
	}
	ai_strategy = {
		type = naval_convoy_raid_region
		id = 78 # philipine sea
		value = 50
	}
}

all_ask_foreign_manpower_as_major = {
	enable = {
		is_major = yes
		garrison_manpower_need > 100000
	}

	abort = {
		garrison_manpower_need < 50000
	}

	ai_strategy = {
		type = asking_foreign_garrison
		value = 999
		# id = ITA # id is optionnal. If it is filled, the value will just apply for this country. If not, the value will apply for all countries.
	}
	ai_strategy = {
		type = asking_foreign_garrison
		value = -9999
		id = GEF # id is optionnal. If it is filled, the value will just apply for this country. If not, the value will apply for all countries.
	}
}

all_produce_some_trucks_for_buffer = {
	enable = {
		num_of_military_factories > 100
		has_tech = tech_trucks
		has_equipment = { motorized_equipment < 3500 }
		is_incompetent_heavy_industry_country = no
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = motorized
		value = 3
	}
}

ALL_lets_use_brain = {

	enable = {
		check_variable = {
			This.infantry_equipment_deficit > 50000
		}
	}
	abort = {
	    or = {
		has_idea = GER_barbarossa
		has_idea = balance_idea_ger_aden_attack
		has_idea = JAP_ichi_go has_idea = JAP_one_hit_theory has_idea = JAP_one_hit_theory_for_player
		and = { tag = SOV has_War_with = GER west_europe_is_dangerous = yes }
		and = { is_ally_faction_country = yes has_War_with = GER should_ally_do_dday = yes }
		}
	}

    abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		
		country_trigger = { always = yes }
		state_trigger = { always = yes }
		
		ratio = 1
		
		priority = 50000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
}

default_railway_gun_management_zz_1 = {
	allowed = { always = yes }
	enable = {
		num_divisions > 100
        num_of_military_factories > 100
		is_incompetent_heavy_industry_country = no
	}
	abort_when_not_enabled = yes

    ai_strategy = {
		type = equipment_production_min_factories
		id = railway_gun
		value = 2
	}
}
default_railway_gun_management_zz_2 = {
	allowed = { always = yes }
	enable = {
		num_divisions > 200
        num_of_military_factories > 200
		is_incompetent_heavy_industry_country = no
	}
	abort_when_not_enabled = yes

    ai_strategy = {
		type = equipment_production_min_factories
		id = railway_gun
		value = 2
	}
}
default_railway_gun_management_zz_3 = {
	allowed = { always = yes }
	enable = {
		num_divisions > 250
        num_of_military_factories > 300
		is_incompetent_heavy_industry_country = no
	}
	abort_when_not_enabled = yes

    ai_strategy = {
		type = equipment_production_min_factories
		id = railway_gun
		value = 2
	}
}

GER_how_about_some_more_transport_planes_0 = {#guo
	allowed = {
		always = yes
	}
	enable = {
		is_incompetent_heavy_industry_country = no
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = air_transport
		value = 1
	}
}
GER_how_about_some_more_transport_planes_1 = {#guo
	allowed = {
		always = yes
	}
	enable = {
		num_of_military_factories > 100
		is_incompetent_heavy_industry_country = no
		has_equipment = { transport_plane_equipment < 2000 }
	}
	abort = { num_of_military_factories > 200 }
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = air_transport
		value = 2
	}
}
GER_how_about_some_more_transport_planes_2 = {#guo
	allowed = {
		always = yes
	}
	enable = {
		num_of_military_factories > 200
		is_incompetent_heavy_industry_country = no
		has_equipment = { transport_plane_equipment < 2000 }
	}
	abort = { num_of_military_factories > 300 }
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = air_transport
		value = 3
	}
}
GER_how_about_some_more_transport_planes_3 = {#guo
	allowed = {
		always = yes
	}
	enable = {
		num_of_military_factories > 300
		is_incompetent_heavy_industry_country = no
		has_equipment = { transport_plane_equipment < 2000 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_production_min_factories
		id = air_transport
		value = 4
	}
}