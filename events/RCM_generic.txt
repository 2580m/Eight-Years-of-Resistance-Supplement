###########################
# Chinese Events BORDER WARS ADDED SOUTHERN SHAANXI #ID = 744#
###########################

add_namespace = rcmgeneric

# test on annex
#seek peace
country_event = {
	id = rcmgeneric.1
	picture = GFX_report_event_test
	title = rcmgeneric.1.t
	desc = rcmgeneric.1.d
	is_triggered_only = yes
	immediate = {

	}
	is_triggered_only = yes
	option = {
		name = rcmgeneric.1.a
		ai_chance = {
			factor = 100
		}
		FROM = {
			country_event = rcmgeneric.2
		}
		white_peace = FROM
		if = {
			limit = {
				FROM = {
					tag = JAP
				}
			}
			for_each_scope_loop = {
				array = global.big_china
				if = {
					limit = {
						state_should_be_transferred_to_china = yes
					}
					ROOT = { transfer_state = PREV }
				}
			}			
		}
	}
	option = {
		name = rcmgeneric.1.b
		ai_chance = {
			factor = 0
		}
		FROM = {
			country_event = rcmgeneric.3
		}
	}
}
#accepted
country_event = {
	id = rcmgeneric.2
	picture = GFX_report_event_test
	title = rcmgeneric.2.t
	desc = rcmgeneric.2.d
	is_triggered_only = yes
	immediate = {

	}
	is_triggered_only = yes
	option = {
		name = rcmgeneric.2.a
		effect_tooltip = {
			white_peace = FROM
		}
	}
}
#refused
country_event = {
	id = rcmgeneric.3
	picture = GFX_report_event_test
	title = rcmgeneric.3.t
	desc = rcmgeneric.3.d
	is_triggered_only = yes
	immediate = {

	}
	is_triggered_only = yes
	option = {
		name = rcmgeneric.3.a

	}
}

#inflation
country_event = {
	id = rcmgeneric.4
	picture = GFX_report_event_generic_factory
	title = {
		text = rcmgeneric.4.t
		trigger = {
			NOT = {
				has_idea = RCM_civil_war_economy_idea
			}
		}
	}
	title = {
		text = rcmgeneric.4.t_cw
		trigger = {
			has_idea = RCM_civil_war_economy_idea
		}
	}
	desc = {
		text = rcmgeneric.4.d
		trigger = {
			NOT = {
				has_idea = RCM_civil_war_economy_idea
			}
		}
	}
	desc = {
		text = rcmgeneric.4.d_cw
		trigger = {
			has_idea = RCM_civil_war_economy_idea
		}
	}
	trigger = {
		always = no #comment this to reenable ES# SUPPLY system is made , no need
		NOT = {
			has_idea = RCM_manageable_economy
		}
		NOT = {
			has_idea = CHI_hyper_inflation_5
		}
		OR = {
			AND = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.6
					has_stability < 0.6
					any_enemy_country = {
						NOT = {
							is_literally_china = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1
						}
					}
				}
			}
			has_idea = RCM_civil_war_economy_idea
			has_idea = low_economic_mobilisation
			has_idea = partial_economic_mobilisation
			has_idea = war_economy
			has_idea = tot_economic_mobilisation
		}
	}
	immediate = {log = "[GetDateText]: [Root.GetName]: event rcmgeneric.4 #inflation"}
	mean_time_to_happen = {
		days = 550
		modifier = {
			factor = 0.66
			ROOT = {
				has_idea = partial_economic_mobilisation
			}
		}
		modifier = {
			factor = 0.33
			ROOT = {
				has_idea = war_economy
			}
		}		
		modifier = {
			factor = 0.16
			ROOT = {
				has_idea = tot_economic_mobilisation
			}
		}
		modifier = {
			factor = 0.33
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.6
					has_stability < 0.6
					any_enemy_country = {
						NOT = {
							is_literally_china = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 1
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.5
					has_stability < 0.5
					any_enemy_country = {
						NOT = {
							is_literally_china = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1.2
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 1.2
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.8
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.4
					has_stability < 0.4
					any_enemy_country = {
						NOT = {
							is_literally_china = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 1.6
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 1.6
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.75
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.3
					has_stability < 0.3
					any_enemy_country = {
						NOT = {
							is_literally_china = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 2
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 2
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.7
			ROOT = {
				has_idea = JAP_national_mobilization_law_idea
				OR = {
					has_war_support < 0.2
					has_stability < 0.2
					any_enemy_country = {
						NOT = {
							is_literally_china = yes
						}
						ic_ratio = {
							tag = ROOT
							ratio > 2.5
						}
					}
					AND = {
						has_USA_sanction_idea = yes
						USA = {
							ic_ratio = {
								tag = ROOT
								ratio > 2.5
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 3
			ROOT = {
				has_idea = PRC_war_communism
			}
		}
		modifier = { #Rationing!
			factor = 1.3
			ROOT = {
				has_idea = RCM_rationing_idea
			}
		}
		modifier = { #CIVIL WAR
			factor = 0.33
			ROOT = {
				has_idea = RCM_civil_war_economy_idea
			}
		}
	}
	immediate = {
	}
	option = {
		name = rcmgeneric.4.a
		trigger = {
			NOT = {
				has_idea = CHI_hyper_inflation_5
			}
		}
		if = {
			limit = {
				NOT = {
					has_idea = CHI_hyper_inflation_4
				}
			}
			RCM_increase_inflation_level = yes
		}
		else_if = {
			limit = {
				has_idea = low_economic_mobilisation
			}
			RCM_increase_inflation_level = yes
			add_ideas = civilian_economy
		}
		else_if = {
			limit = {
				has_idea = partial_economic_mobilisation
			}
			RCM_increase_inflation_level = yes
			add_ideas = low_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = war_economy
			}
			RCM_increase_inflation_level = yes
			add_ideas = partial_economic_mobilisation
		}
		else_if = {
			limit = {
				has_idea = tot_economic_mobilisation
			}
			RCM_increase_inflation_level = yes
			add_ideas = war_economy
		}
		else = {
			RCM_increase_inflation_level = yes
		}
	}
	option = {
		name = rcmgeneric.4.b
		trigger = {
			has_idea = CHI_hyper_inflation_5
		}
		add_stability = -0.03
		add_war_support = -0.03
	}
}

country_event = { #civil war
	id = rcmgeneric.5
	title = rcmgeneric.5.t
	desc = rcmgeneric.5.d

	picture = GFX_report_event_generic_factory

	is_triggered_only = yes
	trigger = { always = no } #comment this to reenable ES#
	option = {
		ai_chance = { factor = 90 }
		name = rcmgeneric.5.a
		add_ideas = RCM_civil_war_economy_idea
		custom_effect_tooltip = RCM_civil_war_tt
	}

}

# Communists Execute Coup
country_event = {
	id = rcmgeneric.6
	title = political.3.t
	desc = political.3.d
	picture = GFX_report_event_gathering_protest
	
	trigger = {
		#has_idea_with_trait = communist_revolutionary
		#NOT = { has_government = communism }
		#has_country_flag = communism_government_support
		##communism > 0.4
		#is_major = no
		#is_puppet = no
		#OR = {
		#	NOT = { tag = CHI }
		#	AND = {
		#		NOT = { country_exists = PRC }
		#		tag = CHI
		#	}			
		#}
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = { remove_ideas = communist_revolutionaries }
	}
	
	option = {
		name = political.3.a
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		add_timed_idea = { idea = reign_of_terror days = 730 }
	}
}

country_event = { #receive foreign aid!
	id = rcmgeneric.7
	title = rcmgeneric.7.t
	desc = rcmgeneric.7.d
	picture = GFX_report_event_china_ledo_road
	

	is_triggered_only = yes

	immediate = {
	}
	
	option = {
		name = rcmgeneric.7.a
		custom_effect_tooltip = recieve_foreign_aid_event_tt
	}
}
country_event = { #stop foreign aid!
	id = rcmgeneric.8
	title = rcmgeneric.8.t
	desc = rcmgeneric.8.d
	picture = GFX_report_event_military_planning
	

	is_triggered_only = yes

	immediate = {
	}
	
	option = {
		name = rcmgeneric.8.a
		custom_effect_tooltip = recieve_foreign_aid_event_tt
	}
}



#MAN STRIKES


country_event = {
	id = rcmgeneric.9
	title = rcmgeneric.9.t	
	desc = rcmgeneric.9.desc	#
	
	hidden = yes

	trigger = {
		tag = MAN
		NOT = {
			has_government = n_socialism
		}
		has_idea = MAN_left_wing_student_movement
		n_socialism > 0.25
		NOT = { 
			has_country_flag = crisis_in_progress
		}
	}

	mean_time_to_happen = { 
		days = 70
		modifier = {
			factor = 2.0
			n_socialism < 0.3
		}
		modifier = {
			factor = 1.75
			n_socialism < 0.35
			n_socialism > 0.3
		}
		modifier = {
			factor = 1.5
			n_socialism < 0.4
			n_socialism > 0.35
		}
		modifier = {
			factor = 1.25
			n_socialism < 0.45
			n_socialism > 0.4
		}
		modifier = {
			factor = 1
			n_socialism < 0.5
			n_socialism > 0.45
		}
		modifier = {
			factor = 0.85
			n_socialism < 0.55
			n_socialism > 0.5
		}
		modifier = {
			factor = 0.65
			n_socialism < 0.6
			n_socialism > 0.55
		}
		modifier = {
			factor = 0.5
			n_socialism < 0.65
			n_socialism > 0.6
		}
		modifier = {
			factor = 0.25
			n_socialism < 0.7
			n_socialism > 0.65
		}
		modifier = {
			factor = 0.1
			n_socialism > 0.7
		}
	}

	immediate = { 
		add_ideas = strikes_1 
		if = { #MODDED
			limit = {
				JAP = {
					has_completed_focus = JAP_left_reform_focus
				}
				tag = MAN				
			}
			JAP = {
				country_event = {
					days = 3 
					id = rcmjapan_left_reform.1
				}
			}
		} #MODDED
		country_event = stability.22
		if = {
			limit = {
				NOT = {
					has_country_flag = crisis_in_progress
				}
			}
			set_country_flag = crisis_in_progress
		}
	}
	
	option = { 
		name = rcmgeneric.9.a
		ai_chance = {
			
		}
		
	}

}

country_event = { #inflation Risks!
	id = rcmgeneric.10
	title = rcmgeneric.10.t
	desc = rcmgeneric.10.d
	picture = GFX_report_event_generic_factory
	
	trigger = {
	NOT = { #guo
			has_idea = PRC_communal_economy
		}
		NOT = {
			has_country_flag = economy_inflate_cooldown_flag
		}
		NOT = {
			has_active_mission = RCM_inflation_crisis
		}
		NOT = {
			has_idea = SPR_anarchist_society_1
			has_idea = SPR_anarchist_society_2
			has_idea = SPR_anarchist_society_3
			has_idea = SPR_anarchist_society_4
			has_idea = SPR_anarchist_society_5
			has_idea = SPR_anarchist_society_6
			has_idea = SPR_anarchist_society_7
			has_idea = SPR_anarchist_society_8
			has_idea = SPR_anarchist_society_9
			has_idea = SPR_anarchist_society_10
			has_idea = SPR_anarchist_society_11
			has_idea = SPR_anarchist_society_12
			has_idea = SPR_anarchist_society_13
			has_idea = SPR_anarchist_society_14
			has_idea = SPR_anarchist_society_15
			has_idea = SPR_anarchist_society_16
			has_idea = SPR_anarchist_society_17
			has_idea = SPR_anarchist_society_18
			has_idea = SPR_anarchist_society_19
		}
		if = {
			limit = {
				has_idea = free_trade
			}
			has_stability < 0.15
		}
		else_if = {
			limit = {
				has_idea = export_focus						
			}
			has_stability < 0.35
		}
		else_if = {
			limit = {
				has_idea = limited_exports						
			}
			has_stability < 0.55
		}
		else_if = {
			limit = {
				has_idea = closed_economy						
			}
			has_stability < 0.75
		}
		else = {
			always = no
		}
	}
	#is_triggered_only = yes
	mean_time_to_happen = {
		days = 2
	}
	immediate = {
	}
	
	option = {
		name = rcmgeneric.10.a
		activate_mission = RCM_inflation_crisis
	}
}

country_event = { #inflation continuation
	id = rcmgeneric.11
	title = rcmgeneric.11.t
	desc = rcmgeneric.11.d
	picture = GFX_report_event_generic_factory
	
	trigger = {
		NOT = {
			has_active_mission = RCM_inflation_crisis
		}
		NOT = {
			has_country_flag = economy_inflate_cooldown_flag
		}
		if = {
			limit = {
				has_idea = free_trade
			}
			has_stability < 0.15
		}
		else_if = {
			limit = {
				has_idea = export_focus						
			}
			has_stability < 0.35
		}
		else_if = {
			limit = {
				has_idea = limited_exports						
			}
			has_stability < 0.55
		}
		else_if = {
			limit = {
				has_idea = closed_economy						
			}
			has_stability < 0.75
		}
		else = {
			always = no
		}
	}
	is_triggered_only = yes
	immediate = {
	}
	
	option = {
		name = rcmgeneric.11.a
		activate_mission_tooltip = RCM_inflation_crisis
	}
}

country_event = { #inflation continuation
	id = rcmgeneric.12
	title = rcmgeneric.12.t
	desc = rcmgeneric.12.d
	picture = GFX_report_event_generic_factory
	
	is_triggered_only = yes
	immediate = {
	}
	
	option = {
		name = rcmgeneric.12.a
		effect_tooltip = {
			RCM_increase_inflation_level = yes
		}
	}
}

country_event = { #rearmement
	id = rcmgeneric.13
	title = rcmgeneric.13.t
	desc = rcmgeneric.13.d
	picture = GFX_report_event_generic_factory
	mean_time_to_happen = {
		days = 5
	}
	trigger = {
		has_war = yes
		has_idea = civilian_economy
	}
	immediate = {
	}
	
	option = {
		name = rcmgeneric.13.a
		add_ideas = low_economic_mobilisation
	}
}

#welcom message
country_event = { #rearmement
	id = rcmgeneric.14
	title = rcmgeneric.14.t
	desc = rcmgeneric.14.d
	picture = GFX_report_event_chinese_high_commander
	is_triggered_only = yes
	trigger = {
		has_game_rule = {
			rule = RCM_tutorial
			option = RCM_tutorial_on
		}
	}
	immediate = {
	}
	
	option = {
		name = rcmgeneric.14.a
		custom_effect_tooltip = check_game_rules_to_turn_this_off
		if = {
			limit = {
				tag = PRC
				date < 1939.1.1
			}
			country_event = rcmgeneric.15
		}
		if = {
			limit = {
				OR = {
					tag = MAN
					tag = EHB
					tag = RFM
				}
				is_warlord = yes
			}
			country_event = rcmgeneric.16
		}
	}
}

#PRC note
country_event = { #rearmement
	id = rcmgeneric.15
	title = rcmgeneric.15.t
	desc = rcmgeneric.15.d
	picture = GFX_report_founding_ceremony
	is_triggered_only = yes
	trigger = {
		has_game_rule = {
			rule = RCM_tutorial
			option = RCM_tutorial_on
		}
	}
	immediate = {
	}
	
	option = {
		name = rcmgeneric.15.a
		custom_effect_tooltip = check_game_rules_to_turn_this_off
	}
}

#get rid of debuffs
country_event = { #rearmement
	id = rcmgeneric.16
	title = rcmgeneric.16.t
	desc = rcmgeneric.16.d
	is_triggered_only = yes
	picture = GFX_report_event_physics_lab_02
	trigger = {
		has_game_rule = {
			rule = RCM_tutorial
			option = RCM_tutorial_on
		}
	}
	immediate = {
	}
	
	option = {
		name = rcmgeneric.16.a
		custom_effect_tooltip = check_game_rules_to_turn_this_off
	}
}

#unit no spam option
country_event = { #rearmement
	id = rcmgeneric.17
	title = rcmgeneric.17.t
	desc = rcmgeneric.17.d
	is_triggered_only = yes
	picture = GFX_report_event_chinese_high_commander
	immediate = {
	}
	
	option = {
		name = rcmgeneric.17.a
		custom_effect_tooltip = unit_no_spam_no_tt
	    country_event = rcmgeneric.19
		#country_event = RCM_difficulty.2 #MODDED
	}

    option = {
		name = rcmgeneric.17.b
		custom_effect_tooltip = unit_no_spam_yes_tt
	    set_global_flag = ai_unit_no_spam_flag
	    #turn on no spam
	    country_event = rcmgeneric.19
		country_event = RCM_difficulty.2 #MODDED
	}
  
    option = {
		name = rcmgeneric.17.c
		custom_effect_tooltip = unit_no_spam_yes_2_tt
	    set_global_flag = ai_unit_no_spam_flag_irrelevant_only
	    #turn on no spam but not for major
	    country_event = rcmgeneric.19
		#country_event = RCM_difficulty.2 #MODDED
	}
}

#unit no spam option - air forces
country_event = { #rearmement
	id = rcmgeneric.18
	title = rcmgeneric.18.t
	desc = rcmgeneric.18.d
	is_triggered_only = yes
	picture = GFX_report_event_chinese_high_commander
	immediate = {
	}
	
	option = {
		name = rcmgeneric.18.a
	}

    option = {
		name = rcmgeneric.18.b
		custom_effect_tooltip = unit_no_spam_air_tt
	    set_global_flag = ai_unit_no_spam_air_flag
		#turn on no spam air
	}
}

#ammo system
country_event = { #rearmement
	id = rcmgeneric.19
	title = rcmgeneric.19.t
	desc = rcmgeneric.19.d
	is_triggered_only = yes
	picture = GFX_report_event_chinese_high_commander
	immediate = {
	}
	
	option = {
		name = rcmgeneric.19.a
		country_event = RCM_difficulty.2 #MODDED
	}

    option = {
		name = rcmgeneric.19.b
	    custom_effect_tooltip = ammo_system_off_tt
		set_global_flag = ammo_system_off_flag
		#hidden_effect = {
		#	every_country = {
		#		add_ideas = no_ammo_cost_idea
		#	}
		#}
		country_event = RCM_difficulty.2 #MODDED
	}
}

#######################################
########################################
####### EAST FOCUS GENERIC EVENTS ######
########################################
########################################

add_namespace = EFM_independent
# Join faction yes!
country_event = {
	id = EFM_independent.1
	title = EFM_independent.1.t
	desc = EFM_independent.1.d

	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	option = {
		ai_chance = { factor = 90 }
		name = EFM_independent.1.a
		ROOT = { add_to_faction = FROM }
	}
	option = {
		ai_chance = { factor = 10 }
		name = EFM_independent.1.b
		FROM = { country_event = { id = EFM_independent.2 days = 1 } }
	}

}
country_event = {
	id = EFM_independent.2
	title = EFM_independent.2.t
	desc = EFM_independent.2.d

	picture = GFX_report_event_chinese_soldiers_02

	is_triggered_only = yes
	option = {
		name = EFM_independent.2.a
	}

}
# Join a country
country_event = {
	id = EFM_independent.3
	title = EFM_independent.3.t
	desc = EFM_independent.3.d

	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 100
			
			modifier = {
				factor = 0.75
				has_war = no
				FROM = {
					has_war = yes
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					is_major = no
				}
			}
		}
		name = EFM_independent.3.a
		every_army_leader = { #GUO
			set_nationality = FROM
		}
		every_unit_leader = { #GUO
			set_nationality = FROM
		}
		every_character = { #GUO
			set_nationality = FROM
		}
		
		FROM = { annex_country = { target = ROOT transfer_troops = yes } }
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = {
		ai_chance = {
			factor = 25 #GUO
			
			modifier = {
				factor = 0.5
				has_opinion = {
					target = FROM
					value > 65
				}
			}
			
			modifier = {
				factor = 0.5
				has_opinion = {
					target = FROM
					value > 35
				}
			}
			
			modifier = {
				factor = 0.5
				has_opinion = {
					target = FROM
					value > 5
				}
			}
			
			modifier = {
				factor = 2.0
				has_opinion = {
					target = FROM
					value < 35
				}
			}
			
			modifier = {
				factor = 2.0
				has_opinion = {
					target = FROM
					value < 65
				}
			}
			
			modifier = {
				factor = 0.1
				has_war = yes
				FROM = {
					has_war = no
				}
			}
			
			modifier = {
				factor = 0.1
				FROM = {
					is_major = yes
				}
			}
		}
		name = EFM_independent.3.b
		FROM = { set_autonomy = { target = ROOT autonomy_state = autonomy_integrated_puppet } }
		FROM = { country_event = { id = EFM_independent.4 days = 1 } }
	}

}
country_event = {
	id = EFM_independent.4
	title = EFM_independent.4.t
	desc = EFM_independent.4.d

	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes
	option = {
		name = EFM_independent.4.a
	}

}
# CCP Defeat a warlord
country_event = {
	id = EFM_independent.5
	title = EFM_independent.5.t
	desc = EFM_independent.5.d

	picture = GFX_report_event_chinese_soldiers_02

	is_triggered_only = yes
	option = {
		name = EFM_independent.5.b
		ROOT = { set_autonomy = { target = FROM autonomy_state = autonomy_integrated_puppet } }
	}

}
country_event = {
	id = EFM_independent.6
	title = EFM_independent.6.t
	desc = EFM_independent.6.d

	picture = GFX_report_event_chinese_soldiers_02

	is_triggered_only = yes
	option = {
		name = EFM_independent.6.a
		ROOT = { annex_country = { target = FROM transfer_troops = yes } }
	}

}
# China demand territory
country_event = {
	id = EFM_independent.10
	title = EFM_independent.10.t
	desc = EFM_independent.10.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 45
			modifier = {
				factor = 1.8
				strength_ratio = {
					tag = FROM
					ratio < 0.25
				}
			}
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = FROM
					ratio < 0.5
				}
			}
			modifier = {
				factor = 1.2
				strength_ratio = {
					tag = FROM
					ratio < 0.75
				}
			}
			modifier = {
				factor = 0
				ic_ratio = {
					tag = FROM
					ratio < 1
				}
			}
			#factor = 90
			
		}
		name = EFM_independent.10.a
		add_political_power = 50
		FROM = { country_event = EFM_independent.11 }
	}
	option = {
		ai_chance = {
			factor = 55
			modifier = {
				factor = 100
				ic_ratio = {
					tag = FROM
					ratio < 1
				}
			}
			modifier = {
				factor = 0.2
				strength_ratio = {
					tag = FROM
					ratio < 0.25
				}
			}
			modifier = {
				factor = 0.5
				strength_ratio = {
					tag = FROM
					ratio < 0.5
				}
			}
			modifier = {
				factor = 0.8
				strength_ratio = {
					tag = FROM
					ratio < 0.75
				}
			}
			#factor = 10
			#modifier = {
			#	factor = 40
			#	strength_ratio = {
			#		tag = FROM
			#		ratio > 0.75
			#	}
			#}
		}
		name = EFM_independent.10.b
		add_political_power = -100
		FROM = { country_event = EFM_independent.12 }
		every_owned_state = {
			limit = {
				OR = {
					is_core_of = FROM
					is_claimed_by = FROM
				}
			}
			FROM = {
				transfer_state = PREV
			}
		}
	}
}
country_event = {
	id = EFM_independent.11
	title = EFM_independent.11.t
	desc = EFM_independent.11.d
	picture = report_event_ANZAC_day

	is_triggered_only = yes
	option = {
		ai_chance = { factor = 70 }
		name = EFM_independent.11.a
		declare_war_on = { type = annex_everything target = FROM }
	}
	option = {
		ai_chance = { factor = 30 }
		name = EFM_independent.11.b
		add_political_power = -50
	}
}
country_event = {
	id = EFM_independent.12
	title = EFM_independent.12.t
	desc = EFM_independent.12.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		name = EFM_independent.12.a
		add_political_power = 50
	}
}
# China Demand Mongolia
country_event = {
	id = EFM_independent.13
	title = EFM_independent.13.t
	desc = EFM_independent.13.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 90
			modifier = {
				factor = 60
				strength_ratio = {
					tag = FROM
					ratio > 0.75
				}
			}
		}
		name = EFM_independent.13.a
		add_political_power = 50
		FROM = { country_event = { id = EFM_independent.14 } }
	}
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 40
				strength_ratio = {
					tag = FROM
					ratio > 0.75
				}
			}
		}
		name = EFM_independent.13.b
		add_political_power = -100
		FROM = { country_event = { id = EFM_independent.15 } }
		if = {
			limit = {
				MON = { exists = yes }
			}
			FROM = {
				annex_country = { target = MON transfer_troops = yes }
			}
		}
		if = {
			limit = {
				MON = { exists = no }
			}
			FROM = {
				transfer_state = 330
				transfer_state = 817
				transfer_state = 818
				transfer_state = 1025
				transfer_state = 1026
				transfer_state = 819
				transfer_state = 820
				transfer_state = 1024
				transfer_state = 1018	
			}
		}
	}
}
country_event = {
	id = EFM_independent.14
	title = EFM_independent.14.t
	desc = EFM_independent.14.d
	picture = report_event_ANZAC_day

	is_triggered_only = yes
	option = {
		ai_chance = { factor = 70 }
		name = EFM_independent.14.a
		create_wargoal = { type = annex_everything target = FROM }
	}
	option = {
		ai_chance = { factor = 30 }
		name = EFM_independent.14.b
		add_political_power = -100
	}
}
country_event = {
	id = EFM_independent.15
	title = EFM_independent.15.t
	desc = EFM_independent.15.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		name = EFM_independent.15.a
		add_political_power = 100
	}
}
# China Demand French Concession
country_event = {
	id = EFM_independent.18
	title = EFM_independent.18.t
	desc = EFM_independent.18.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		name = EFM_independent.18.a
		ai_chance = { factor = 70 }
		add_stability = 0.05
		PRC = { country_event = { id = EFM_independent.19 } }
	}
	option = {
		ai_chance = { factor = 30 }
		name = EFM_independent.18.b
		add_stability = -0.05
		PRC = { country_event = { id = EFM_independent.20 } }
		PRC = {
			transfer_state = 728
		}
	}
}
country_event = {
	id = EFM_independent.19
	title = EFM_independent.19.t
	desc = EFM_independent.19.d
	picture = report_event_ANZAC_day

	is_triggered_only = yes
	option = {
		name = EFM_independent.19.a
		ai_chance = { factor = 90 }
		create_wargoal = { type = annex_everything target = FRA }
	}
	option = {
		ai_chance = { factor = 10 }
		name = EFM_independent.19.b
		add_stability = -0.05
	}
}
country_event = {
	id = EFM_independent.20
	title = EFM_independent.20.t
	desc = EFM_independent.20.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		name = EFM_independent.20.a
		add_political_power = 100
		add_stability = 0.05
	}
}
# China Demand Tibet
country_event = {
	id = EFM_independent.21
	title = EFM_independent.21.t
	desc = EFM_independent.21.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		name = EFM_independent.21.a
		ai_chance = { factor = 100 } #guo
		add_stability = 0.1
		PRC = { country_event = { id = EFM_independent.22 } }
	}
	option = {
		ai_chance = { factor = 0 } #guo
		name = EFM_independent.21.b
		custom_effect_tooltip = GAME_OVER_TT
		PRC = { country_event = { id = EFM_independent.23 } }
		PRC = { annex_country = { target = ROOT } }
	}
}
country_event = {
	id = EFM_independent.22
	title = EFM_independent.22.t
	desc = EFM_independent.22.d
	picture = report_event_ANZAC_day

	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 100#GUO
			modifier = {
				factor = 50
				strength_ratio = {
					tag = FROM
					ratio > 0.75
				}
			}
		}
		name = EFM_independent.22.a
		create_wargoal = { type = annex_everything target = TIB }
	}
	option = {
		ai_chance = {#GUO
			factor = 0
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 0.75
				}
			}
		}
		name = EFM_independent.22.b
		add_political_power = -150
	}
}
country_event = {
	id = EFM_independent.23
	title = EFM_independent.23.t
	desc = EFM_independent.23.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		name = EFM_independent.23.a
		add_political_power = 50
	}
}
country_event = {
	id = EFM_independent.24
	title = EFM_independent.24.t
	desc = EFM_independent.24.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 70
			modifier = {
				factor = 30
				strength_ratio = {
					tag = FROM
					ratio > 0.75
				}
			}
		}
		name = EFM_independent.24.a
		PRC = { country_event = { id = EFM_independent.25 } }
	}
	option = {
		ai_chance = {
			factor = 30
			modifier = {
				factor = 70
				strength_ratio = {
					tag = FROM
					ratio > 0.75
				}
			}
		}
		name = EFM_independent.24.b
		PRC = { country_event = { id = EFM_independent.26 } }
		if = {
			limit = {
				TIB = {
					is_puppet_of = ROOT
				}
			}
			PRC = {
				annex_country = { target = TIB }
			}
		}
		if = {
			limit = {
				controls_state = 322
				controls_state = 757
				controls_state = 758
			}
			PRC = {
				transfer_state = 322
				transfer_state = 757
				transfer_state = 758
			}
		}
	}
}
country_event = {
	id = EFM_independent.25
	title = EFM_independent.25.t
	desc = EFM_independent.25.d
	picture = report_event_ANZAC_day

	is_triggered_only = yes
	option = {
		name = EFM_independent.25.a
		ai_chance = { factor = 90 }

		if = {
			limit = {
				TIB = {
					exists = no
				}
			}
			322 = {
				controller = {
					PRC = {
						create_wargoal = { type = take_state_focus target = PREV generator = { 322 757 758 } }
					}
				}
			}
		}
	}
	option = {
		ai_chance = { factor = 10 }
		name = EFM_independent.25.b
		add_stability = -0.05
	}
}
country_event = {
	id = EFM_independent.26
	title = EFM_independent.26.t
	desc = EFM_independent.26.d
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes
	option = {
		name = EFM_independent.26.a
		add_political_power = 50
	}
}

#influence politics
add_namespace = rcm_boost_white_russia
country_event = {
	id = rcm_boost_white_russia.1
	title = generic.1.t
	desc = generic.1.d_bad
	picture = GFX_report_event_jap_prop

	is_triggered_only = yes
	option = {
		name = generic.1.b
		add_ideas = JAP_politics_idea
	}
}
country_event = {
	id = rcm_boost_white_russia.2
	title = generic.1.t
	desc = generic.1.d_bad
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = generic.1.b
		add_ideas = JAP_politics_idea
	}
}

add_namespace = rcm_boost_ideology
country_event = {
	id = rcm_boost_ideology.1
	title = generic.1.t
	desc = generic.1.d_bad
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = generic.1.b
		add_ideas = JAP_politics_idea_demo
	}
}
country_event = {
	id = rcm_boost_ideology.2
	title = generic.1.t
	desc = generic.1.d_bad
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = generic.1.b
		add_ideas = JAP_politics_idea_comm
	}
}
country_event = {
	id = rcm_boost_ideology.3
	title = generic.1.t
	desc = generic.1.d_bad
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = generic.1.b
		add_ideas = JAP_politics_idea_soc
	}
}


#influence politics SELF
add_namespace = rcm_boost_white_russia_self
country_event = {
	id = rcm_boost_white_russia_self.1
	title = rcm_boost_white_russia_self.1.t
	desc = rcm_boost_white_russia_self.1.d
	picture = GFX_report_event_jap_prop

	is_triggered_only = yes
	option = {
		name = rcm_boost_white_russia_self.1.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_boost_white_russia.1
				add_ideas = JAP_politics_idea
			}
		}
	}
}
country_event = {
	id = rcm_boost_white_russia_self.2
	title = rcm_boost_white_russia_self.2.t
	desc = rcm_boost_white_russia_self.2.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_boost_white_russia_self.2.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_boost_white_russia.2
				add_ideas = JAP_politics_idea
			}
		}
	}
}

add_namespace = rcm_boost_ideology_self
country_event = {
	id = rcm_boost_ideology_self.1
	title = rcm_boost_ideology_self.1.t
	desc = rcm_boost_ideology_self.1.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_boost_ideology_self.1.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_boost_ideology.1
				add_ideas = JAP_politics_idea_demo
			}
		}
	}
}
country_event = {
	id = rcm_boost_ideology_self.2
	title = rcm_boost_ideology_self.2.t
	desc = rcm_boost_ideology_self.2.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_boost_ideology_self.2.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_boost_ideology.2
				add_ideas = JAP_politics_idea_comm
			}
		}
	}
}
country_event = {
	id = rcm_boost_ideology_self.3
	title = rcm_boost_ideology_self.3.t
	desc = rcm_boost_ideology_self.3.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_boost_ideology_self.3.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_boost_ideology.3
				add_ideas = JAP_politics_idea_soc
			}
		}
	}
}

#CANCEL BOOSTS
add_namespace = rcm_cancel_boost_ideology
country_event = {
	id = rcm_cancel_boost_ideology.1
	title = rcm_cancel_boost_ideology.1.t
	desc = rcm_cancel_boost_ideology.1.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_ideology.1.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_cancel_boost_ideology_target.1
				remove_ideas = JAP_politics_idea_demo
			}
		}
	}
}
country_event = {
	id = rcm_cancel_boost_ideology.2
	title = rcm_cancel_boost_ideology.2.t
	desc = rcm_cancel_boost_ideology.2.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_ideology.2.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_cancel_boost_ideology_target.2
				remove_ideas = JAP_politics_idea_comm
			}
		}
	}
}
country_event = {
	id = rcm_cancel_boost_ideology.3
	title = rcm_cancel_boost_ideology.3.t
	desc = rcm_cancel_boost_ideology.3.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_ideology.3.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_cancel_boost_ideology_target.3
				remove_ideas = JAP_politics_idea_soc
			}
		}
	}
}
add_namespace = rcm_cancel_boost_white_russia
#white russia
country_event = {
	id = rcm_cancel_boost_white_russia.1
	title = rcm_cancel_boost_white_russia.1.t
	desc = rcm_cancel_boost_white_russia.1.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_white_russia.1.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_cancel_boost_ideology_target.1
				remove_ideas = JAP_politics_idea
			}
		}		
	}
}
country_event = {
	id = rcm_cancel_boost_white_russia.2
	title = rcm_cancel_boost_white_russia.2.t
	desc = rcm_cancel_boost_white_russia.2.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_white_russia.2.a
		effect_tooltip = {
			FROM.FROM = {
				country_event = rcm_cancel_boost_white_russia_target.2
				remove_ideas = JAP_politics_idea
			}
		}
	}
}


#CANCEL BOOSTS TARGET
add_namespace = rcm_cancel_boost_ideology_target
country_event = {
	id = rcm_cancel_boost_ideology_target.1
	title = rcm_cancel_boost_ideology_target.1.t
	desc = rcm_cancel_boost_ideology_target.1.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_ideology_target.1.a
		effect_tooltip = {
			remove_ideas = JAP_politics_idea_demo
		}
	}
}
country_event = {
	id = rcm_cancel_boost_ideology_target.2
	title = rcm_cancel_boost_ideology_target.2.t
	desc = rcm_cancel_boost_ideology_target.2.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_ideology_target.2.a
		effect_tooltip = {
			remove_ideas = JAP_politics_idea_comm
		}
	}
}
country_event = {
	id = rcm_cancel_boost_ideology_target.3
	title = rcm_cancel_boost_ideology_target.3.t
	desc = rcm_cancel_boost_ideology_target.3.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_ideology_target.3.a
		effect_tooltip = {
			remove_ideas = JAP_politics_idea_soc
		}
	}
}
add_namespace = rcm_cancel_boost_white_russia_target
#white russia
country_event = {
	id = rcm_cancel_boost_white_russia_target.1
	title = rcm_cancel_boost_white_russia_target.1.t
	desc = rcm_cancel_boost_white_russia_target.1.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_white_russia_target.1.b
		effect_tooltip = {
			remove_ideas = JAP_politics_idea
		}
		
	}
}
country_event = {
	id = rcm_cancel_boost_white_russia_target.2
	title = rcm_cancel_boost_white_russia_target.2.t
	desc = rcm_cancel_boost_white_russia_target.2.d
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = rcm_cancel_boost_white_russia_target.2.a
		effect_tooltip = {
			remove_ideas = JAP_politics_idea
		}
	}
}
add_namespace = RCM_difficulty
#difficulty
country_event = { #choose AI 40 width on or off
	id = RCM_difficulty.1
	title = RCM_difficulty.1.t
	desc = RCM_difficulty.1.desc
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = RCM_difficulty.1.a
		custom_effect_tooltip = leave_on_ai_40_width_tt
		clr_global_flag = AI_40_w_off
		country_event = RCM_difficulty.2
	    custom_effect_tooltip = broken_option_tt
	}
	#option = {
	#	name = RCM_difficulty.1.b
	#	custom_effect_tooltip = turn_off_ai_40_width_tt
	#	set_global_flag = AI_40_w_off
	#	country_event = RCM_difficulty.2
	#}
}
country_event = { #choose challenge or nightmare
	id = RCM_difficulty.2
	title = RCM_difficulty.2.t
	desc = RCM_difficulty.2.desc
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = RCM_difficulty.2.a
		custom_effect_tooltip = difficulty_choose_default_tt
	}
	option = {
		name = RCM_difficulty.2.b
		custom_effect_tooltip = difficulty_choose_challenge_tt
		country_event = RCM_difficulty.3
	}
	option = {
		name = RCM_difficulty.2.c
		custom_effect_tooltip = difficulty_choose_nightmare_tt
		country_event = RCM_difficulty.4
	}
	#option = { #head back #MODDED
	#	name = RCM_difficulty.2.d
	#	#country_event = RCM_difficulty.1
	#	country_event = rcmgeneric.17
	#}
}

#challenge
country_event = {
	id = RCM_difficulty.3
	title = RCM_difficulty.3.t
	desc = RCM_difficulty.3.desc
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = {
		name = RCM_difficulty.3.a
		custom_effect_tooltip = challenge_1_tt
		set_country_flag = challenge_1_flag
		#clr_country_flag = challenge_1_flag
		clr_country_flag = challenge_2_flag
		clr_country_flag = challenge_3_flag
	}
	option = {
		name = RCM_difficulty.3.b
		custom_effect_tooltip = challenge_2_tt
		set_country_flag = challenge_2_flag
		clr_country_flag = challenge_1_flag
		#clr_country_flag = challenge_2_flag
		clr_country_flag = challenge_3_flag
	}
	option = {
		name = RCM_difficulty.3.c
		custom_effect_tooltip = challenge_3_tt
		set_country_flag = challenge_3_flag
		clr_country_flag = challenge_1_flag
		clr_country_flag = challenge_2_flag
		#clr_country_flag = challenge_3_flag
	}
	option = { #head back
		name = RCM_difficulty.3.d
		clr_country_flag = challenge_1_flag
		clr_country_flag = challenge_2_flag
		clr_country_flag = challenge_3_flag
		country_event = RCM_difficulty.2
	}
}
#nightmare
country_event = {
	id = RCM_difficulty.4
	title = RCM_difficulty.4.t
	desc = RCM_difficulty.4.desc
	picture = GFX_phase_lar_communist_uprising_organise_cells

	is_triggered_only = yes
	option = { #nightmare 1
		name = RCM_difficulty.4.a
		custom_effect_tooltip = nightmare_1_tt
		set_country_flag = nightmare_1_flag
		#clr_country_flag = nightmare_1_flag
		clr_country_flag = nightmare_2_flag
		clr_country_flag = nightmare_3_flag
		clr_country_flag = nightmare_4_flag
	}
	option = { #nightmare 2
		name = RCM_difficulty.4.b
		custom_effect_tooltip = nightmare_2_tt
		set_country_flag = nightmare_2_flag
		clr_country_flag = nightmare_1_flag
		#clr_country_flag = nightmare_2_flag
		clr_country_flag = nightmare_3_flag
		clr_country_flag = nightmare_4_flag
	}
	option = { #nightmare 3
		name = RCM_difficulty.4.c
		custom_effect_tooltip = nightmare_3_tt
		set_country_flag = nightmare_3_flag
		clr_country_flag = nightmare_1_flag
		clr_country_flag = nightmare_2_flag
		#clr_country_flag = nightmare_3_flag
		clr_country_flag = nightmare_4_flag
	}
	option = { #nightmare 4
		name = RCM_difficulty.4.d
		custom_effect_tooltip = nightmare_4_tt
		set_country_flag = nightmare_4_flag
		clr_country_flag = nightmare_1_flag
		clr_country_flag = nightmare_2_flag
		clr_country_flag = nightmare_3_flag
		#clr_country_flag = nightmare_4_flag
	}
	option = { #head back
		name = RCM_difficulty.4.e
		clr_country_flag = nightmare_1_flag
		clr_country_flag = nightmare_2_flag
		clr_country_flag = nightmare_3_flag
		clr_country_flag = nightmare_4_flag
		country_event = RCM_difficulty.2
	}
}